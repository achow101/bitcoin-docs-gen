<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bitcoin Core: src/qt/transactiondesc.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bitcoin_logo_doxygen.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bitcoin Core<span id="projectnumber">&#160;22.99.0</span>
   </div>
   <div id="projectbrief">P2P Digital Currency</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_f0c29a9f5764d78706f34c972e8114d8.html">qt</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">transactiondesc.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="transactiondesc_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Copyright (c) 2011-2019 The Bitcoin Core developers</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// Distributed under the MIT software license, see the accompanying</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// file COPYING or http://www.opensource.org/licenses/mit-license.php.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#ifdef HAVE_CONFIG_H</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &lt;<a class="code" href="bitcoin-config_8h.html">config/bitcoin-config.h</a>&gt;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;<a class="code" href="transactiondesc_8h.html">qt/transactiondesc.h</a>&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span> </div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;<a class="code" href="bitcoinunits_8h.html">qt/bitcoinunits.h</a>&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;<a class="code" href="guiutil_8h.html">qt/guiutil.h</a>&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &lt;<a class="code" href="paymentserver_8h.html">qt/paymentserver.h</a>&gt;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &lt;<a class="code" href="transactionrecord_8h.html">qt/transactionrecord.h</a>&gt;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;<a class="code" href="consensus_8h.html">consensus/consensus.h</a>&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;<a class="code" href="node_8h.html">interfaces/node.h</a>&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;<a class="code" href="interfaces_2wallet_8h.html">interfaces/wallet.h</a>&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;<a class="code" href="key__io_8h.html">key_io.h</a>&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;<a class="code" href="policy_8h.html">policy/policy.h</a>&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;<a class="code" href="script_2script_8h.html">script/script.h</a>&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;<a class="code" href="system_8h.html">util/system.h</a>&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;validation.h&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;<a class="code" href="ismine_8h.html">wallet/ismine.h</a>&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span> </div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &lt;QLatin1String&gt;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno"><a class="line" href="class_transaction_desc.html#a901d3e2a83bb83150aa50e98d304b4d9">   31</a></span>QString <a class="code hl_function" href="class_transaction_desc.html#a901d3e2a83bb83150aa50e98d304b4d9">TransactionDesc::FormatTxStatus</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structinterfaces_1_1_wallet_tx.html">interfaces::WalletTx</a>&amp; wtx, <span class="keyword">const</span> <a class="code hl_struct" href="structinterfaces_1_1_wallet_tx_status.html">interfaces::WalletTxStatus</a>&amp; status, <span class="keywordtype">bool</span> inMempool, <span class="keywordtype">int</span> numBlocks)</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>{</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    <span class="keywordflow">if</span> (!status.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx_status.html#a66961231185f4acb0433f8980538f774">is_final</a>)</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    {</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>        <span class="keywordflow">if</span> (wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a5bea29dda22e69899d35a9f10ec636e0">tx</a>-&gt;nLockTime &lt; <a class="code hl_variable" href="script_2script_8h.html#a18113899ca9e7ef7a1938b0209fd62b5">LOCKTIME_THRESHOLD</a>)</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>            <span class="keywordflow">return</span> tr(<span class="stringliteral">&quot;Open for %n more block(s)&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a5bea29dda22e69899d35a9f10ec636e0">tx</a>-&gt;nLockTime - numBlocks);</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>            <span class="keywordflow">return</span> tr(<span class="stringliteral">&quot;Open until %1&quot;</span>).arg(<a class="code hl_function" href="namespace_g_u_i_util.html#aae732a04fea25190081120bf0cc773e8">GUIUtil::dateTimeStr</a>(wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a5bea29dda22e69899d35a9f10ec636e0">tx</a>-&gt;nLockTime));</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    }</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    {</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>        <span class="keywordtype">int</span> nDepth = status.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx_status.html#aceb4942059f1295344e2cc695f45004e">depth_in_main_chain</a>;</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>        <span class="keywordflow">if</span> (nDepth &lt; 0) {</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>            <span class="keywordflow">return</span> tr(<span class="stringliteral">&quot;conflicted with a transaction with %1 confirmations&quot;</span>).arg(-nDepth);</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nDepth == 0) {</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>            <span class="keyword">const</span> QString abandoned{status.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx_status.html#a49203a451ac6eaaade1e3b9e51e6c75e">is_abandoned</a> ? QLatin1String(<span class="stringliteral">&quot;, &quot;</span>) + tr(<span class="stringliteral">&quot;abandoned&quot;</span>) : QString()};</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>            <span class="keywordflow">return</span> tr(<span class="stringliteral">&quot;0/unconfirmed, %1&quot;</span>).arg(inMempool ? tr(<span class="stringliteral">&quot;in memory pool&quot;</span>) : tr(<span class="stringliteral">&quot;not in memory pool&quot;</span>)) + abandoned;</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nDepth &lt; 6) {</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>            <span class="keywordflow">return</span> tr(<span class="stringliteral">&quot;%1/unconfirmed&quot;</span>).arg(nDepth);</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>            <span class="keywordflow">return</span> tr(<span class="stringliteral">&quot;%1 confirmations&quot;</span>).arg(nDepth);</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>        }</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    }</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>}</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> </div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="comment">// Takes an encoded PaymentRequest as a string and tries to find the Common Name of the X.509 certificate</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="comment">// used to sign the PaymentRequest.</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="transactiondesc_8cpp.html#ab120d8c0f3a70a9fdb66e809f1f4c82c">   58</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="transactiondesc_8cpp.html#ab120d8c0f3a70a9fdb66e809f1f4c82c">GetPaymentRequestMerchant</a>(<span class="keyword">const</span> std::string&amp; pr, QString&amp; merchant)</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>{</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <span class="comment">// Search for the supported pki type strings</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <span class="keywordflow">if</span> (pr.find(std::string({0x12, 0x0b}) + <span class="stringliteral">&quot;x509+sha256&quot;</span>) != std::string::npos || pr.find(std::string({0x12, 0x09}) + <span class="stringliteral">&quot;x509+sha1&quot;</span>) != std::string::npos) {</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        <span class="comment">// We want the common name of the Subject of the cert. This should be the second occurrence</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>        <span class="comment">// of the bytes 0x0603550403. The first occurrence of those is the common name of the issuer.</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>        <span class="comment">// After those bytes will be either 0x13 or 0x0C, then length, then either the ascii or utf8</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>        <span class="comment">// string with the common name which is the merchant name</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>        <span class="keywordtype">size_t</span> cn_pos = pr.find({0x06, 0x03, 0x55, 0x04, 0x03});</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>        <span class="keywordflow">if</span> (cn_pos != std::string::npos) {</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>            cn_pos = pr.find({0x06, 0x03, 0x55, 0x04, 0x03}, cn_pos + 5);</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>            <span class="keywordflow">if</span> (cn_pos != std::string::npos) {</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>                cn_pos += 5;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>                <span class="keywordflow">if</span> (pr[cn_pos] == 0x13 || pr[cn_pos] == 0x0c) {</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>                    cn_pos++; <span class="comment">// Consume the type</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>                    <span class="keywordtype">int</span> str_len = pr[cn_pos];</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>                    cn_pos++; <span class="comment">// Consume the string length</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>                    merchant = QString::fromUtf8(pr.data() + cn_pos, str_len);</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>                }</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>            }</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>        }</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    }</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>}</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="class_transaction_desc.html#a6ae7f995de691f91a24e0b1bcf0a1a95">   84</a></span>QString <a class="code hl_function" href="class_transaction_desc.html#a6ae7f995de691f91a24e0b1bcf0a1a95">TransactionDesc::toHTML</a>(<a class="code hl_class" href="classinterfaces_1_1_node.html">interfaces::Node</a>&amp; <a class="code hl_namespace" href="namespacenode.html">node</a>, <a class="code hl_class" href="classinterfaces_1_1_wallet.html">interfaces::Wallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>, <a class="code hl_class" href="class_transaction_record.html">TransactionRecord</a> *rec, <span class="keywordtype">int</span> unit)</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>{</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="keywordtype">int</span> numBlocks;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <a class="code hl_struct" href="structinterfaces_1_1_wallet_tx_status.html">interfaces::WalletTxStatus</a> status;</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <a class="code hl_typedef" href="namespaceinterfaces.html#a97d1fd29a98381adad4620d1cf54d696">interfaces::WalletOrderForm</a> orderForm;</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="keywordtype">bool</span> inMempool;</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    <a class="code hl_struct" href="structinterfaces_1_1_wallet_tx.html">interfaces::WalletTx</a> wtx = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.getWalletTxDetails(rec-&gt;<a class="code hl_variable" href="class_transaction_record.html#a7a89b1316eb6e7c14be17cb8448ae586">hash</a>, status, orderForm, inMempool, numBlocks);</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span> </div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    QString strHTML;</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span> </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    strHTML.reserve(4000);</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    strHTML += <span class="stringliteral">&quot;&lt;html&gt;&lt;font face=&#39;verdana, arial, helvetica, sans-serif&#39;&gt;&quot;</span>;</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span> </div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    int64_t nTime = wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#ad434c8f2ef8b71105435773dbef9d285">time</a>;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nCredit = wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a6802ad201c51559aee389e901c578f7e">credit</a>;</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nDebit = wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a5e3e1ee4c8894407bfcf77b565370a6f">debit</a>;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nNet = nCredit - nDebit;</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span> </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Status&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + <a class="code hl_function" href="class_transaction_desc.html#a901d3e2a83bb83150aa50e98d304b4d9">FormatTxStatus</a>(wtx, status, inMempool, numBlocks);</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    strHTML += <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Date&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + (nTime ? <a class="code hl_function" href="namespace_g_u_i_util.html#aae732a04fea25190081120bf0cc773e8">GUIUtil::dateTimeStr</a>(nTime) : <span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="comment">// From</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="keywordflow">if</span> (wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a9a4850b76fd7e6d41c2ca810d7fb4553">is_coinbase</a>)</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    {</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>        strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Source&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + tr(<span class="stringliteral">&quot;Generated&quot;</span>) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    }</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a60f010b875b86b7f7e7b02e16d3f4089">value_map</a>.count(<span class="stringliteral">&quot;from&quot;</span>) &amp;&amp; !wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a60f010b875b86b7f7e7b02e16d3f4089">value_map</a>[<span class="stringliteral">&quot;from&quot;</span>].empty())</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    {</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        <span class="comment">// Online transaction</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>        strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;From&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + <a class="code hl_function" href="namespace_g_u_i_util.html#a2d4b7f2c11ebc4b97af10bc20d19b1b2">GUIUtil::HtmlEscape</a>(wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a60f010b875b86b7f7e7b02e16d3f4089">value_map</a>[<span class="stringliteral">&quot;from&quot;</span>]) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    }</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    {</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        <span class="comment">// Offline transaction</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>        <span class="keywordflow">if</span> (nNet &gt; 0)</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        {</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>            <span class="comment">// Credit</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>            <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> address = <a class="code hl_function" href="key__io_8cpp.html#ae9479724a35444166ba384a69e1f246c">DecodeDestination</a>(rec-&gt;<a class="code hl_variable" href="class_transaction_record.html#ad8d3d2765f95a40afc6cd93d4a881a38">address</a>);</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="standard_8cpp.html#adb3a21e4afe9c672720b182ddc7cad7c">IsValidDestination</a>(address)) {</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>                std::string <a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>                <a class="code hl_enumeration" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533">isminetype</a> ismine;</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>                <span class="keywordflow">if</span> (<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.getAddress(address, &amp;<a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, &amp;ismine, <span class="comment">/* purpose= */</span> <span class="keyword">nullptr</span>))</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>                {</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>                    strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;From&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + tr(<span class="stringliteral">&quot;unknown&quot;</span>) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>                    strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;To&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span>;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>                    strHTML += <a class="code hl_function" href="namespace_g_u_i_util.html#a2d4b7f2c11ebc4b97af10bc20d19b1b2">GUIUtil::HtmlEscape</a>(rec-&gt;<a class="code hl_variable" href="class_transaction_record.html#ad8d3d2765f95a40afc6cd93d4a881a38">address</a>);</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>                    QString addressOwned = ismine == <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58">ISMINE_SPENDABLE</a> ? tr(<span class="stringliteral">&quot;own address&quot;</span>) : tr(<span class="stringliteral">&quot;watch-only&quot;</span>);</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>                    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>.empty())</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>                        strHTML += <span class="stringliteral">&quot; (&quot;</span> + addressOwned + <span class="stringliteral">&quot;, &quot;</span> + tr(<span class="stringliteral">&quot;label&quot;</span>) + <span class="stringliteral">&quot;: &quot;</span> + <a class="code hl_function" href="namespace_g_u_i_util.html#a2d4b7f2c11ebc4b97af10bc20d19b1b2">GUIUtil::HtmlEscape</a>(<a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>) + <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>                        strHTML += <span class="stringliteral">&quot; (&quot;</span> + addressOwned + <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>                    strHTML += <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>                }</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>            }</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        }</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    }</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span> </div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="comment">// To</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="keywordflow">if</span> (wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a60f010b875b86b7f7e7b02e16d3f4089">value_map</a>.count(<span class="stringliteral">&quot;to&quot;</span>) &amp;&amp; !wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a60f010b875b86b7f7e7b02e16d3f4089">value_map</a>[<span class="stringliteral">&quot;to&quot;</span>].empty())</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    {</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        <span class="comment">// Online transaction</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>        std::string strAddress = wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a60f010b875b86b7f7e7b02e16d3f4089">value_map</a>[<span class="stringliteral">&quot;to&quot;</span>];</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;To&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span>;</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> dest = <a class="code hl_function" href="key__io_8cpp.html#ae9479724a35444166ba384a69e1f246c">DecodeDestination</a>(strAddress);</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>        std::string <a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>        <span class="keywordflow">if</span> (<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.getAddress(</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>                dest, &amp;<a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="comment">/* is_mine= */</span> <span class="keyword">nullptr</span>, <span class="comment">/* purpose= */</span> <span class="keyword">nullptr</span>) &amp;&amp; !<a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>.empty())</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>            strHTML += <a class="code hl_function" href="namespace_g_u_i_util.html#a2d4b7f2c11ebc4b97af10bc20d19b1b2">GUIUtil::HtmlEscape</a>(<a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>) + <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>        strHTML += <a class="code hl_function" href="namespace_g_u_i_util.html#a2d4b7f2c11ebc4b97af10bc20d19b1b2">GUIUtil::HtmlEscape</a>(strAddress) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    }</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span> </div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <span class="comment">// Amount</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="keywordflow">if</span> (wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a9a4850b76fd7e6d41c2ca810d7fb4553">is_coinbase</a> &amp;&amp; nCredit == 0)</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    {</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>        <span class="comment">//</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>        <span class="comment">// Coinbase</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>        <span class="comment">//</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>        <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nUnmatured = 0;</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_c_tx_out.html">CTxOut</a>&amp; txout : wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a5bea29dda22e69899d35a9f10ec636e0">tx</a>-&gt;vout)</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>            nUnmatured += <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.getCredit(txout, <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533a1fe9e47b4c162fd9a1779e59a11dd067">ISMINE_ALL</a>);</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>        strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Credit&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span>;</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        <span class="keywordflow">if</span> (status.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx_status.html#a3e4bd8ca121f27b2899dd601188859e6">is_in_main_chain</a>)</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>            strHTML += <a class="code hl_function" href="class_bitcoin_units.html#a6e3af68bba714ef4ab90ffce9687fa08">BitcoinUnits::formatHtmlWithUnit</a>(unit, nUnmatured)+ <span class="stringliteral">&quot; (&quot;</span> + tr(<span class="stringliteral">&quot;matures in %n more block(s)&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, status.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx_status.html#a04e2602b500a8564203e47eec80c81fa">blocks_to_maturity</a>) + <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>            strHTML += <span class="stringliteral">&quot;(&quot;</span> + tr(<span class="stringliteral">&quot;not accepted&quot;</span>) + <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>        strHTML += <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    }</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nNet &gt; 0)</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    {</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>        <span class="comment">//</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>        <span class="comment">// Credit</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>        <span class="comment">//</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>        strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Credit&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + <a class="code hl_function" href="class_bitcoin_units.html#a6e3af68bba714ef4ab90ffce9687fa08">BitcoinUnits::formatHtmlWithUnit</a>(unit, nNet) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    }</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    {</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>        <a class="code hl_enumeration" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533">isminetype</a> fAllFromMe = <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58">ISMINE_SPENDABLE</a>;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_enumeration" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533">isminetype</a> mine : wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#afbd3096c0be5415970e06c89654cd501">txin_is_mine</a>)</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>        {</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>            <span class="keywordflow">if</span>(fAllFromMe &gt; mine) fAllFromMe = mine;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>        }</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>        <a class="code hl_enumeration" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533">isminetype</a> fAllToMe = <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58">ISMINE_SPENDABLE</a>;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_enumeration" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533">isminetype</a> mine : wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a3b72480630c1bb0e91eb66e87ca0a40f">txout_is_mine</a>)</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>        {</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>            <span class="keywordflow">if</span>(fAllToMe &gt; mine) fAllToMe = mine;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>        }</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>        <span class="keywordflow">if</span> (fAllFromMe)</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        {</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>            <span class="keywordflow">if</span>(fAllFromMe &amp; <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29">ISMINE_WATCH_ONLY</a>)</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>                strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;From&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + tr(<span class="stringliteral">&quot;watch-only&quot;</span>) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span> </div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>            <span class="comment">//</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>            <span class="comment">// Debit</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>            <span class="comment">//</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>            <span class="keyword">auto</span> mine = wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a3b72480630c1bb0e91eb66e87ca0a40f">txout_is_mine</a>.begin();</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_c_tx_out.html">CTxOut</a>&amp; txout : wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a5bea29dda22e69899d35a9f10ec636e0">tx</a>-&gt;vout)</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>            {</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>                <span class="comment">// Ignore change</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>                <a class="code hl_enumeration" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533">isminetype</a> toSelf = *(mine++);</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>                <span class="keywordflow">if</span> ((toSelf == <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58">ISMINE_SPENDABLE</a>) &amp;&amp; (fAllFromMe == <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58">ISMINE_SPENDABLE</a>))</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span> </div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>                <span class="keywordflow">if</span> (!wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a60f010b875b86b7f7e7b02e16d3f4089">value_map</a>.count(<span class="stringliteral">&quot;to&quot;</span>) || wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a60f010b875b86b7f7e7b02e16d3f4089">value_map</a>[<span class="stringliteral">&quot;to&quot;</span>].empty())</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>                {</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>                    <span class="comment">// Offline transaction</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>                    <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> address;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="standard_8cpp.html#a951f7e601746ae076afdf3169ecca2fc">ExtractDestination</a>(txout.<a class="code hl_variable" href="class_c_tx_out.html#a25bf3f2f4befb22a6a0be45784fe57e2">scriptPubKey</a>, address))</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>                    {</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>                        strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;To&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span>;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>                        std::string <a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>                        <span class="keywordflow">if</span> (<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.getAddress(</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>                                address, &amp;<a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="comment">/* is_mine= */</span> <span class="keyword">nullptr</span>, <span class="comment">/* purpose= */</span> <span class="keyword">nullptr</span>) &amp;&amp; !<a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>.empty())</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>                            strHTML += <a class="code hl_function" href="namespace_g_u_i_util.html#a2d4b7f2c11ebc4b97af10bc20d19b1b2">GUIUtil::HtmlEscape</a>(<a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>) + <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>                        strHTML += <a class="code hl_function" href="namespace_g_u_i_util.html#a2d4b7f2c11ebc4b97af10bc20d19b1b2">GUIUtil::HtmlEscape</a>(<a class="code hl_function" href="key__io_8cpp.html#a69b845c325e6bf516251cd3a67fe1df7">EncodeDestination</a>(address));</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>                        <span class="keywordflow">if</span>(toSelf == <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58">ISMINE_SPENDABLE</a>)</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>                            strHTML += <span class="stringliteral">&quot; (own address)&quot;</span>;</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>                        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(toSelf &amp; <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29">ISMINE_WATCH_ONLY</a>)</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>                            strHTML += <span class="stringliteral">&quot; (watch-only)&quot;</span>;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>                        strHTML += <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>                    }</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>                }</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span> </div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>                strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Debit&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + <a class="code hl_function" href="class_bitcoin_units.html#a6e3af68bba714ef4ab90ffce9687fa08">BitcoinUnits::formatHtmlWithUnit</a>(unit, -txout.<a class="code hl_variable" href="class_c_tx_out.html#ab278ecef3817a972cb6bc5360d13f197">nValue</a>) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>                <span class="keywordflow">if</span>(toSelf)</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>                    strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Credit&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + <a class="code hl_function" href="class_bitcoin_units.html#a6e3af68bba714ef4ab90ffce9687fa08">BitcoinUnits::formatHtmlWithUnit</a>(unit, txout.<a class="code hl_variable" href="class_c_tx_out.html#ab278ecef3817a972cb6bc5360d13f197">nValue</a>) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>            }</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span> </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>            <span class="keywordflow">if</span> (fAllToMe)</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>            {</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>                <span class="comment">// Payment to self</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>                <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nChange = wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a7345599871a75cbf25f40ac957b28fb5">change</a>;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>                <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nValue = nCredit - nChange;</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>                strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Total debit&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + <a class="code hl_function" href="class_bitcoin_units.html#a6e3af68bba714ef4ab90ffce9687fa08">BitcoinUnits::formatHtmlWithUnit</a>(unit, -nValue) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>                strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Total credit&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + <a class="code hl_function" href="class_bitcoin_units.html#a6e3af68bba714ef4ab90ffce9687fa08">BitcoinUnits::formatHtmlWithUnit</a>(unit, nValue) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>            }</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>            <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nTxFee = nDebit - wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a5bea29dda22e69899d35a9f10ec636e0">tx</a>-&gt;GetValueOut();</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>            <span class="keywordflow">if</span> (nTxFee &gt; 0)</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>                strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Transaction fee&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + <a class="code hl_function" href="class_bitcoin_units.html#a6e3af68bba714ef4ab90ffce9687fa08">BitcoinUnits::formatHtmlWithUnit</a>(unit, -nTxFee) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        }</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        {</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>            <span class="comment">//</span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>            <span class="comment">// Mixed debit transaction</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>            <span class="comment">//</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>            <span class="keyword">auto</span> mine = wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#afbd3096c0be5415970e06c89654cd501">txin_is_mine</a>.begin();</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_c_tx_in.html">CTxIn</a>&amp; txin : wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a5bea29dda22e69899d35a9f10ec636e0">tx</a>-&gt;vin) {</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>                <span class="keywordflow">if</span> (*(mine++)) {</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>                    strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Debit&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + <a class="code hl_function" href="class_bitcoin_units.html#a6e3af68bba714ef4ab90ffce9687fa08">BitcoinUnits::formatHtmlWithUnit</a>(unit, -<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.getDebit(txin, <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533a1fe9e47b4c162fd9a1779e59a11dd067">ISMINE_ALL</a>)) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>                }</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>            }</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>            mine = wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a3b72480630c1bb0e91eb66e87ca0a40f">txout_is_mine</a>.begin();</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_c_tx_out.html">CTxOut</a>&amp; txout : wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a5bea29dda22e69899d35a9f10ec636e0">tx</a>-&gt;vout) {</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>                <span class="keywordflow">if</span> (*(mine++)) {</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>                    strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Credit&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + <a class="code hl_function" href="class_bitcoin_units.html#a6e3af68bba714ef4ab90ffce9687fa08">BitcoinUnits::formatHtmlWithUnit</a>(unit, <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.getCredit(txout, <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533a1fe9e47b4c162fd9a1779e59a11dd067">ISMINE_ALL</a>)) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>                }</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>            }</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        }</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    }</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span> </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Net amount&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + <a class="code hl_function" href="class_bitcoin_units.html#a6e3af68bba714ef4ab90ffce9687fa08">BitcoinUnits::formatHtmlWithUnit</a>(unit, nNet, <span class="keyword">true</span>) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span> </div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <span class="comment">// Message</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="keywordflow">if</span> (wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a60f010b875b86b7f7e7b02e16d3f4089">value_map</a>.count(<span class="stringliteral">&quot;message&quot;</span>) &amp;&amp; !wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a60f010b875b86b7f7e7b02e16d3f4089">value_map</a>[<span class="stringliteral">&quot;message&quot;</span>].empty())</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        strHTML += <span class="stringliteral">&quot;&lt;br&gt;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Message&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt;&lt;br&gt;&quot;</span> + <a class="code hl_function" href="namespace_g_u_i_util.html#a2d4b7f2c11ebc4b97af10bc20d19b1b2">GUIUtil::HtmlEscape</a>(wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a60f010b875b86b7f7e7b02e16d3f4089">value_map</a>[<span class="stringliteral">&quot;message&quot;</span>], <span class="keyword">true</span>) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    <span class="keywordflow">if</span> (wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a60f010b875b86b7f7e7b02e16d3f4089">value_map</a>.count(<span class="stringliteral">&quot;comment&quot;</span>) &amp;&amp; !wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a60f010b875b86b7f7e7b02e16d3f4089">value_map</a>[<span class="stringliteral">&quot;comment&quot;</span>].empty())</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        strHTML += <span class="stringliteral">&quot;&lt;br&gt;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Comment&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt;&lt;br&gt;&quot;</span> + <a class="code hl_function" href="namespace_g_u_i_util.html#a2d4b7f2c11ebc4b97af10bc20d19b1b2">GUIUtil::HtmlEscape</a>(wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a60f010b875b86b7f7e7b02e16d3f4089">value_map</a>[<span class="stringliteral">&quot;comment&quot;</span>], <span class="keyword">true</span>) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Transaction ID&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + rec-&gt;<a class="code hl_function" href="class_transaction_record.html#a8c3553dbd5fc239c57abf10719e2b6a7">getTxHash</a>() + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Transaction total size&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + QString::number(wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a5bea29dda22e69899d35a9f10ec636e0">tx</a>-&gt;GetTotalSize()) + <span class="stringliteral">&quot; bytes&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Transaction virtual size&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + QString::number(<a class="code hl_function" href="policy_8cpp.html#a7cf1495f52acbb4320a50bbb831af44a">GetVirtualTransactionSize</a>(*wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a5bea29dda22e69899d35a9f10ec636e0">tx</a>)) + <span class="stringliteral">&quot; bytes&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Output index&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + QString::number(rec-&gt;<a class="code hl_function" href="class_transaction_record.html#a51d9d52d92a57448ab9b237e968c5ff6">getOutputIndex</a>()) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span> </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <span class="comment">// Message from normal bitcoin:URI (bitcoin:123...?message=example)</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::pair&lt;std::string, std::string&gt;&amp; r : orderForm) {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        <span class="keywordflow">if</span> (r.first == <span class="stringliteral">&quot;Message&quot;</span>)</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>            strHTML += <span class="stringliteral">&quot;&lt;br&gt;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Message&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt;&lt;br&gt;&quot;</span> + <a class="code hl_function" href="namespace_g_u_i_util.html#a2d4b7f2c11ebc4b97af10bc20d19b1b2">GUIUtil::HtmlEscape</a>(r.second, <span class="keyword">true</span>) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        <span class="comment">//</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <span class="comment">// PaymentRequest info:</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        <span class="comment">//</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>        <span class="keywordflow">if</span> (r.first == <span class="stringliteral">&quot;PaymentRequest&quot;</span>)</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>        {</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>            QString merchant;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="transactiondesc_8cpp.html#ab120d8c0f3a70a9fdb66e809f1f4c82c">GetPaymentRequestMerchant</a>(r.second, merchant)) {</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                merchant.clear();</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                merchant += tr(<span class="stringliteral">&quot; (Certificate was not verified)&quot;</span>);</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>            }</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>            <span class="keywordflow">if</span> (!merchant.isNull()) {</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>                strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Merchant&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + <a class="code hl_function" href="namespace_g_u_i_util.html#a2d4b7f2c11ebc4b97af10bc20d19b1b2">GUIUtil::HtmlEscape</a>(merchant) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>            }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>        }</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    }</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span> </div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    <span class="keywordflow">if</span> (wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a9a4850b76fd7e6d41c2ca810d7fb4553">is_coinbase</a>)</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    {</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>        quint32 numBlocksToMaturity = <a class="code hl_variable" href="consensus_8h.html#adeaaac740ae92deabb436ab75c835701">COINBASE_MATURITY</a> +  1;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        strHTML += <span class="stringliteral">&quot;&lt;br&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Generated coins must mature %1 blocks before they can be spent. When you generated this block, it was broadcast to the network to be added to the block chain. If it fails to get into the chain, its state will change to \&quot;not accepted\&quot; and it won&#39;t be spendable. This may occasionally happen if another node generates a block within a few seconds of yours.&quot;</span>).arg(QString::number(numBlocksToMaturity)) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    }</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span> </div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    <span class="comment">// Debug view</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    <span class="keywordflow">if</span> (<a class="code hl_namespace" href="namespacenode.html">node</a>.getLogCategories() != <a class="code hl_enumvalue" href="namespace_b_c_log.html#ad1037484206121adbcda9f9c824ab6b2a9b5923596f6405728f3dd83fcca4aae6">BCLog::NONE</a>)</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    {</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>        strHTML += <span class="stringliteral">&quot;&lt;hr&gt;&lt;br&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Debug information&quot;</span>) + <span class="stringliteral">&quot;&lt;br&gt;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_c_tx_in.html">CTxIn</a>&amp; txin : wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a5bea29dda22e69899d35a9f10ec636e0">tx</a>-&gt;vin)</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>            <span class="keywordflow">if</span>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.txinIsMine(txin))</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>                strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Debit&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + <a class="code hl_function" href="class_bitcoin_units.html#a6e3af68bba714ef4ab90ffce9687fa08">BitcoinUnits::formatHtmlWithUnit</a>(unit, -<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.getDebit(txin, <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533a1fe9e47b4c162fd9a1779e59a11dd067">ISMINE_ALL</a>)) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_c_tx_out.html">CTxOut</a>&amp; txout : wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a5bea29dda22e69899d35a9f10ec636e0">tx</a>-&gt;vout)</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>            <span class="keywordflow">if</span>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.txoutIsMine(txout))</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>                strHTML += <span class="stringliteral">&quot;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Credit&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt; &quot;</span> + <a class="code hl_function" href="class_bitcoin_units.html#a6e3af68bba714ef4ab90ffce9687fa08">BitcoinUnits::formatHtmlWithUnit</a>(unit, <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.getCredit(txout, <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533a1fe9e47b4c162fd9a1779e59a11dd067">ISMINE_ALL</a>)) + <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span> </div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>        strHTML += <span class="stringliteral">&quot;&lt;br&gt;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Transaction&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt;&lt;br&gt;&quot;</span>;</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>        strHTML += <a class="code hl_function" href="namespace_g_u_i_util.html#a2d4b7f2c11ebc4b97af10bc20d19b1b2">GUIUtil::HtmlEscape</a>(wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a5bea29dda22e69899d35a9f10ec636e0">tx</a>-&gt;ToString(), <span class="keyword">true</span>);</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span> </div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>        strHTML += <span class="stringliteral">&quot;&lt;br&gt;&lt;b&gt;&quot;</span> + tr(<span class="stringliteral">&quot;Inputs&quot;</span>) + <span class="stringliteral">&quot;:&lt;/b&gt;&quot;</span>;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        strHTML += <span class="stringliteral">&quot;&lt;ul&gt;&quot;</span>;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span> </div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_c_tx_in.html">CTxIn</a>&amp; txin : wtx.<a class="code hl_variable" href="structinterfaces_1_1_wallet_tx.html#a5bea29dda22e69899d35a9f10ec636e0">tx</a>-&gt;vin)</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        {</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>            <a class="code hl_class" href="class_c_out_point.html">COutPoint</a> prevout = txin.<a class="code hl_variable" href="class_c_tx_in.html#aed9312051a25380cbd7f123408ab7c20">prevout</a>;</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span> </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>            <a class="code hl_class" href="class_coin.html">Coin</a> prev;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>            <span class="keywordflow">if</span>(<a class="code hl_namespace" href="namespacenode.html">node</a>.getUnspentOutput(prevout, prev))</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>            {</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>                {</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>                    strHTML += <span class="stringliteral">&quot;&lt;li&gt;&quot;</span>;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>                    <span class="keyword">const</span> <a class="code hl_class" href="class_c_tx_out.html">CTxOut</a> &amp;vout = prev.<a class="code hl_variable" href="class_coin.html#aa1c3ccdcdb7754b184f433cc1f583a71">out</a>;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>                    <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> address;</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="standard_8cpp.html#a951f7e601746ae076afdf3169ecca2fc">ExtractDestination</a>(vout.<a class="code hl_variable" href="class_c_tx_out.html#a25bf3f2f4befb22a6a0be45784fe57e2">scriptPubKey</a>, address))</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>                    {</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>                        std::string <a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>                        <span class="keywordflow">if</span> (<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.getAddress(address, &amp;<a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="comment">/* is_mine= */</span> <span class="keyword">nullptr</span>, <span class="comment">/* purpose= */</span> <span class="keyword">nullptr</span>) &amp;&amp; !<a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>.empty())</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>                            strHTML += <a class="code hl_function" href="namespace_g_u_i_util.html#a2d4b7f2c11ebc4b97af10bc20d19b1b2">GUIUtil::HtmlEscape</a>(<a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>) + <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>                        strHTML += QString::fromStdString(<a class="code hl_function" href="key__io_8cpp.html#a69b845c325e6bf516251cd3a67fe1df7">EncodeDestination</a>(address));</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>                    }</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>                    strHTML = strHTML + <span class="stringliteral">&quot; &quot;</span> + tr(<span class="stringliteral">&quot;Amount&quot;</span>) + <span class="stringliteral">&quot;=&quot;</span> + <a class="code hl_function" href="class_bitcoin_units.html#a6e3af68bba714ef4ab90ffce9687fa08">BitcoinUnits::formatHtmlWithUnit</a>(unit, vout.<a class="code hl_variable" href="class_c_tx_out.html#ab278ecef3817a972cb6bc5360d13f197">nValue</a>);</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>                    strHTML = strHTML + <span class="stringliteral">&quot; IsMine=&quot;</span> + (<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.txoutIsMine(vout) &amp; <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58">ISMINE_SPENDABLE</a> ? tr(<span class="stringliteral">&quot;true&quot;</span>) : tr(<span class="stringliteral">&quot;false&quot;</span>)) + <span class="stringliteral">&quot;&lt;/li&gt;&quot;</span>;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>                    strHTML = strHTML + <span class="stringliteral">&quot; IsWatchOnly=&quot;</span> + (<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.txoutIsMine(vout) &amp; <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29">ISMINE_WATCH_ONLY</a> ? tr(<span class="stringliteral">&quot;true&quot;</span>) : tr(<span class="stringliteral">&quot;false&quot;</span>)) + <span class="stringliteral">&quot;&lt;/li&gt;&quot;</span>;</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>                }</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>            }</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>        }</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span> </div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        strHTML += <span class="stringliteral">&quot;&lt;/ul&gt;&quot;</span>;</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    }</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span> </div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    strHTML += <span class="stringliteral">&quot;&lt;/font&gt;&lt;/html&gt;&quot;</span>;</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    <span class="keywordflow">return</span> strHTML;</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>}</div>
<div class="ttc" id="aamount_8h_html_a4eaf3a5239714d8c45b851527f7cb564"><div class="ttname"><a href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a></div><div class="ttdeci">int64_t CAmount</div><div class="ttdoc">Amount in satoshis (Can be negative)</div><div class="ttdef"><b>Definition:</b> <a href="amount_8h_source.html#l00012">amount.h:12</a></div></div>
<div class="ttc" id="abitcoin-config_8h_html"><div class="ttname"><a href="bitcoin-config_8h.html">bitcoin-config.h</a></div></div>
<div class="ttc" id="abitcoinunits_8h_html"><div class="ttname"><a href="bitcoinunits_8h.html">bitcoinunits.h</a></div></div>
<div class="ttc" id="aclass_bitcoin_units_html_a6e3af68bba714ef4ab90ffce9687fa08"><div class="ttname"><a href="class_bitcoin_units.html#a6e3af68bba714ef4ab90ffce9687fa08">BitcoinUnits::formatHtmlWithUnit</a></div><div class="ttdeci">static QString formatHtmlWithUnit(int unit, const CAmount &amp;amount, bool plussign=false, SeparatorStyle separators=SeparatorStyle::STANDARD)</div><div class="ttdoc">Format as HTML string (with unit)</div><div class="ttdef"><b>Definition:</b> <a href="bitcoinunits_8cpp_source.html#l00155">bitcoinunits.cpp:155</a></div></div>
<div class="ttc" id="aclass_c_out_point_html"><div class="ttname"><a href="class_c_out_point.html">COutPoint</a></div><div class="ttdoc">An outpoint - a combination of a transaction hash and an index n into its vout.</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00026">transaction.h:27</a></div></div>
<div class="ttc" id="aclass_c_tx_in_html"><div class="ttname"><a href="class_c_tx_in.html">CTxIn</a></div><div class="ttdoc">An input of a transaction.</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00065">transaction.h:66</a></div></div>
<div class="ttc" id="aclass_c_tx_in_html_aed9312051a25380cbd7f123408ab7c20"><div class="ttname"><a href="class_c_tx_in.html#aed9312051a25380cbd7f123408ab7c20">CTxIn::prevout</a></div><div class="ttdeci">COutPoint prevout</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00068">transaction.h:68</a></div></div>
<div class="ttc" id="aclass_c_tx_out_html"><div class="ttname"><a href="class_c_tx_out.html">CTxOut</a></div><div class="ttdoc">An output of a transaction.</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00128">transaction.h:129</a></div></div>
<div class="ttc" id="aclass_c_tx_out_html_a25bf3f2f4befb22a6a0be45784fe57e2"><div class="ttname"><a href="class_c_tx_out.html#a25bf3f2f4befb22a6a0be45784fe57e2">CTxOut::scriptPubKey</a></div><div class="ttdeci">CScript scriptPubKey</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00132">transaction.h:132</a></div></div>
<div class="ttc" id="aclass_c_tx_out_html_ab278ecef3817a972cb6bc5360d13f197"><div class="ttname"><a href="class_c_tx_out.html#ab278ecef3817a972cb6bc5360d13f197">CTxOut::nValue</a></div><div class="ttdeci">CAmount nValue</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00131">transaction.h:131</a></div></div>
<div class="ttc" id="aclass_coin_html"><div class="ttname"><a href="class_coin.html">Coin</a></div><div class="ttdoc">A UTXO entry.</div><div class="ttdef"><b>Definition:</b> <a href="coins_8h_source.html#l00030">coins.h:31</a></div></div>
<div class="ttc" id="aclass_coin_html_aa1c3ccdcdb7754b184f433cc1f583a71"><div class="ttname"><a href="class_coin.html#aa1c3ccdcdb7754b184f433cc1f583a71">Coin::out</a></div><div class="ttdeci">CTxOut out</div><div class="ttdoc">unspent transaction output</div><div class="ttdef"><b>Definition:</b> <a href="coins_8h_source.html#l00034">coins.h:34</a></div></div>
<div class="ttc" id="aclass_transaction_desc_html_a6ae7f995de691f91a24e0b1bcf0a1a95"><div class="ttname"><a href="class_transaction_desc.html#a6ae7f995de691f91a24e0b1bcf0a1a95">TransactionDesc::toHTML</a></div><div class="ttdeci">static QString toHTML(interfaces::Node &amp;node, interfaces::Wallet &amp;wallet, TransactionRecord *rec, int unit)</div><div class="ttdef"><b>Definition:</b> <a href="transactiondesc_8cpp_source.html#l00084">transactiondesc.cpp:84</a></div></div>
<div class="ttc" id="aclass_transaction_desc_html_a901d3e2a83bb83150aa50e98d304b4d9"><div class="ttname"><a href="class_transaction_desc.html#a901d3e2a83bb83150aa50e98d304b4d9">TransactionDesc::FormatTxStatus</a></div><div class="ttdeci">static QString FormatTxStatus(const interfaces::WalletTx &amp;wtx, const interfaces::WalletTxStatus &amp;status, bool inMempool, int numBlocks)</div><div class="ttdef"><b>Definition:</b> <a href="transactiondesc_8cpp_source.html#l00031">transactiondesc.cpp:31</a></div></div>
<div class="ttc" id="aclass_transaction_record_html"><div class="ttname"><a href="class_transaction_record.html">TransactionRecord</a></div><div class="ttdoc">UI model for a transaction.</div><div class="ttdef"><b>Definition:</b> <a href="transactionrecord_8h_source.html#l00072">transactionrecord.h:73</a></div></div>
<div class="ttc" id="aclass_transaction_record_html_a51d9d52d92a57448ab9b237e968c5ff6"><div class="ttname"><a href="class_transaction_record.html#a51d9d52d92a57448ab9b237e968c5ff6">TransactionRecord::getOutputIndex</a></div><div class="ttdeci">int getOutputIndex() const</div><div class="ttdoc">Return the output index of the subtransaction</div><div class="ttdef"><b>Definition:</b> <a href="transactionrecord_8cpp_source.html#l00246">transactionrecord.cpp:246</a></div></div>
<div class="ttc" id="aclass_transaction_record_html_a7a89b1316eb6e7c14be17cb8448ae586"><div class="ttname"><a href="class_transaction_record.html#a7a89b1316eb6e7c14be17cb8448ae586">TransactionRecord::hash</a></div><div class="ttdeci">uint256 hash</div><div class="ttdef"><b>Definition:</b> <a href="transactionrecord_8h_source.html#l00115">transactionrecord.h:115</a></div></div>
<div class="ttc" id="aclass_transaction_record_html_a8c3553dbd5fc239c57abf10719e2b6a7"><div class="ttname"><a href="class_transaction_record.html#a8c3553dbd5fc239c57abf10719e2b6a7">TransactionRecord::getTxHash</a></div><div class="ttdeci">QString getTxHash() const</div><div class="ttdoc">Return the unique identifier for this transaction (part)</div><div class="ttdef"><b>Definition:</b> <a href="transactionrecord_8cpp_source.html#l00241">transactionrecord.cpp:241</a></div></div>
<div class="ttc" id="aclass_transaction_record_html_ad8d3d2765f95a40afc6cd93d4a881a38"><div class="ttname"><a href="class_transaction_record.html#ad8d3d2765f95a40afc6cd93d4a881a38">TransactionRecord::address</a></div><div class="ttdeci">std::string address</div><div class="ttdef"><b>Definition:</b> <a href="transactionrecord_8h_source.html#l00118">transactionrecord.h:118</a></div></div>
<div class="ttc" id="aclassinterfaces_1_1_node_html"><div class="ttname"><a href="classinterfaces_1_1_node.html">interfaces::Node</a></div><div class="ttdoc">Top-level interface for a bitcoin node (bitcoind process).</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00054">node.h:55</a></div></div>
<div class="ttc" id="aclassinterfaces_1_1_wallet_html"><div class="ttname"><a href="classinterfaces_1_1_wallet.html">interfaces::Wallet</a></div><div class="ttdoc">Interface for accessing a wallet.</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00052">wallet.h:53</a></div></div>
<div class="ttc" id="aconsensus_8h_html"><div class="ttname"><a href="consensus_8h.html">consensus.h</a></div></div>
<div class="ttc" id="aconsensus_8h_html_adeaaac740ae92deabb436ab75c835701"><div class="ttname"><a href="consensus_8h.html#adeaaac740ae92deabb436ab75c835701">COINBASE_MATURITY</a></div><div class="ttdeci">static const int COINBASE_MATURITY</div><div class="ttdoc">Coinbase transaction outputs can only be spent after this number of new blocks (network rule)</div><div class="ttdef"><b>Definition:</b> <a href="consensus_8h_source.html#l00019">consensus.h:19</a></div></div>
<div class="ttc" id="aguiutil_8h_html"><div class="ttname"><a href="guiutil_8h.html">guiutil.h</a></div></div>
<div class="ttc" id="ainterfaces_2wallet_8h_html"><div class="ttname"><a href="interfaces_2wallet_8h.html">wallet.h</a></div></div>
<div class="ttc" id="aismine_8h_html"><div class="ttname"><a href="ismine_8h.html">ismine.h</a></div></div>
<div class="ttc" id="aismine_8h_html_a050f9a1a807967a24bcbeebfc5952533"><div class="ttname"><a href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533">isminetype</a></div><div class="ttdeci">isminetype</div><div class="ttdoc">IsMine() return codes, which depend on ScriptPubKeyMan implementation.</div><div class="ttdef"><b>Definition:</b> <a href="ismine_8h_source.html#l00038">ismine.h:39</a></div></div>
<div class="ttc" id="aismine_8h_html_a050f9a1a807967a24bcbeebfc5952533a1fe9e47b4c162fd9a1779e59a11dd067"><div class="ttname"><a href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533a1fe9e47b4c162fd9a1779e59a11dd067">ISMINE_ALL</a></div><div class="ttdeci">@ ISMINE_ALL</div><div class="ttdef"><b>Definition:</b> <a href="ismine_8h_source.html#l00044">ismine.h:44</a></div></div>
<div class="ttc" id="aismine_8h_html_a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58"><div class="ttname"><a href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58">ISMINE_SPENDABLE</a></div><div class="ttdeci">@ ISMINE_SPENDABLE</div><div class="ttdef"><b>Definition:</b> <a href="ismine_8h_source.html#l00042">ismine.h:42</a></div></div>
<div class="ttc" id="aismine_8h_html_a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29"><div class="ttname"><a href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29">ISMINE_WATCH_ONLY</a></div><div class="ttdeci">@ ISMINE_WATCH_ONLY</div><div class="ttdef"><b>Definition:</b> <a href="ismine_8h_source.html#l00041">ismine.h:41</a></div></div>
<div class="ttc" id="akey__io_8cpp_html_a69b845c325e6bf516251cd3a67fe1df7"><div class="ttname"><a href="key__io_8cpp.html#a69b845c325e6bf516251cd3a67fe1df7">EncodeDestination</a></div><div class="ttdeci">std::string EncodeDestination(const CTxDestination &amp;dest)</div><div class="ttdef"><b>Definition:</b> <a href="key__io_8cpp_source.html#l00256">key_io.cpp:256</a></div></div>
<div class="ttc" id="akey__io_8cpp_html_ae9479724a35444166ba384a69e1f246c"><div class="ttname"><a href="key__io_8cpp.html#ae9479724a35444166ba384a69e1f246c">DecodeDestination</a></div><div class="ttdeci">CTxDestination DecodeDestination(const std::string &amp;str, std::string &amp;error_msg)</div><div class="ttdef"><b>Definition:</b> <a href="key__io_8cpp_source.html#l00261">key_io.cpp:261</a></div></div>
<div class="ttc" id="akey__io_8h_html"><div class="ttname"><a href="key__io_8h.html">key_io.h</a></div></div>
<div class="ttc" id="anamespace_b_c_log_html_ad1037484206121adbcda9f9c824ab6b2a9b5923596f6405728f3dd83fcca4aae6"><div class="ttname"><a href="namespace_b_c_log.html#ad1037484206121adbcda9f9c824ab6b2a9b5923596f6405728f3dd83fcca4aae6">BCLog::NONE</a></div><div class="ttdeci">@ NONE</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00037">logging.h:37</a></div></div>
<div class="ttc" id="anamespace_g_u_i_util_html_a2d4b7f2c11ebc4b97af10bc20d19b1b2"><div class="ttname"><a href="namespace_g_u_i_util.html#a2d4b7f2c11ebc4b97af10bc20d19b1b2">GUIUtil::HtmlEscape</a></div><div class="ttdeci">QString HtmlEscape(const QString &amp;str, bool fMultiLine)</div><div class="ttdef"><b>Definition:</b> <a href="guiutil_8cpp_source.html#l00233">guiutil.cpp:233</a></div></div>
<div class="ttc" id="anamespace_g_u_i_util_html_aae732a04fea25190081120bf0cc773e8"><div class="ttname"><a href="namespace_g_u_i_util.html#aae732a04fea25190081120bf0cc773e8">GUIUtil::dateTimeStr</a></div><div class="ttdeci">QString dateTimeStr(const QDateTime &amp;date)</div><div class="ttdef"><b>Definition:</b> <a href="guiutil_8cpp_source.html#l00078">guiutil.cpp:78</a></div></div>
<div class="ttc" id="anamespaceinterfaces_html_a97d1fd29a98381adad4620d1cf54d696"><div class="ttname"><a href="namespaceinterfaces.html#a97d1fd29a98381adad4620d1cf54d696">interfaces::WalletOrderForm</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; WalletOrderForm</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00048">wallet.h:48</a></div></div>
<div class="ttc" id="anamespacenode_html"><div class="ttname"><a href="namespacenode.html">node</a></div><div class="ttdef"><b>Definition:</b> <a href="node_2interfaces_8cpp_source.html#l00068">interfaces.cpp:68</a></div></div>
<div class="ttc" id="anamespacewallet_html"><div class="ttname"><a href="namespacewallet.html">wallet</a></div><div class="ttdef"><b>Definition:</b> <a href="wallet_2interfaces_8cpp_source.html#l00050">interfaces.cpp:50</a></div></div>
<div class="ttc" id="anode_8h_html"><div class="ttname"><a href="node_8h.html">node.h</a></div></div>
<div class="ttc" id="apaymentserver_8h_html"><div class="ttname"><a href="paymentserver_8h.html">paymentserver.h</a></div></div>
<div class="ttc" id="apolicy_8cpp_html_a7cf1495f52acbb4320a50bbb831af44a"><div class="ttname"><a href="policy_8cpp.html#a7cf1495f52acbb4320a50bbb831af44a">GetVirtualTransactionSize</a></div><div class="ttdeci">int64_t GetVirtualTransactionSize(int64_t nWeight, int64_t nSigOpCost, unsigned int bytes_per_sigop)</div><div class="ttdoc">Compute the virtual transaction size (weight reinterpreted as bytes).</div><div class="ttdef"><b>Definition:</b> <a href="policy_8cpp_source.html#l00285">policy.cpp:285</a></div></div>
<div class="ttc" id="apolicy_8h_html"><div class="ttname"><a href="policy_8h.html">policy.h</a></div></div>
<div class="ttc" id="arest_8cpp_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="rest_8cpp_source.html#l00043">rest.cpp:43</a></div></div>
<div class="ttc" id="ascript_2script_8h_html"><div class="ttname"><a href="script_2script_8h.html">script.h</a></div></div>
<div class="ttc" id="ascript_2script_8h_html_a18113899ca9e7ef7a1938b0209fd62b5"><div class="ttname"><a href="script_2script_8h.html#a18113899ca9e7ef7a1938b0209fd62b5">LOCKTIME_THRESHOLD</a></div><div class="ttdeci">static const unsigned int LOCKTIME_THRESHOLD</div><div class="ttdef"><b>Definition:</b> <a href="script_2script_8h_source.html#l00040">script.h:40</a></div></div>
<div class="ttc" id="astandard_8cpp_html_a951f7e601746ae076afdf3169ecca2fc"><div class="ttname"><a href="standard_8cpp.html#a951f7e601746ae076afdf3169ecca2fc">ExtractDestination</a></div><div class="ttdeci">bool ExtractDestination(const CScript &amp;scriptPubKey, CTxDestination &amp;addressRet)</div><div class="ttdoc">Parse a standard scriptPubKey for the destination address.</div><div class="ttdef"><b>Definition:</b> <a href="standard_8cpp_source.html#l00213">standard.cpp:213</a></div></div>
<div class="ttc" id="astandard_8cpp_html_adb3a21e4afe9c672720b182ddc7cad7c"><div class="ttname"><a href="standard_8cpp.html#adb3a21e4afe9c672720b182ddc7cad7c">IsValidDestination</a></div><div class="ttdeci">bool IsValidDestination(const CTxDestination &amp;dest)</div><div class="ttdoc">Check whether a CTxDestination is a CNoDestination.</div><div class="ttdef"><b>Definition:</b> <a href="standard_8cpp_source.html#l00332">standard.cpp:332</a></div></div>
<div class="ttc" id="astandard_8h_html_acdb5aa66f9529c1b71d21a99b62e0a7f"><div class="ttname"><a href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a></div><div class="ttdeci">std::variant&lt; CNoDestination, PKHash, ScriptHash, WitnessV0ScriptHash, WitnessV0KeyHash, WitnessV1Taproot, WitnessUnknown &gt; CTxDestination</div><div class="ttdoc">A txout script template with a specific destination.</div><div class="ttdef"><b>Definition:</b> <a href="standard_8h_source.html#l00157">standard.h:157</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_html"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx.html">interfaces::WalletTx</a></div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00375">wallet.h:376</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_html_a3b72480630c1bb0e91eb66e87ca0a40f"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx.html#a3b72480630c1bb0e91eb66e87ca0a40f">interfaces::WalletTx::txout_is_mine</a></div><div class="ttdeci">std::vector&lt; isminetype &gt; txout_is_mine</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00379">wallet.h:379</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_html_a5bea29dda22e69899d35a9f10ec636e0"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx.html#a5bea29dda22e69899d35a9f10ec636e0">interfaces::WalletTx::tx</a></div><div class="ttdeci">CTransactionRef tx</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00377">wallet.h:377</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_html_a5e3e1ee4c8894407bfcf77b565370a6f"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx.html#a5e3e1ee4c8894407bfcf77b565370a6f">interfaces::WalletTx::debit</a></div><div class="ttdeci">CAmount debit</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00383">wallet.h:383</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_html_a60f010b875b86b7f7e7b02e16d3f4089"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx.html#a60f010b875b86b7f7e7b02e16d3f4089">interfaces::WalletTx::value_map</a></div><div class="ttdeci">std::map&lt; std::string, std::string &gt; value_map</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00386">wallet.h:386</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_html_a6802ad201c51559aee389e901c578f7e"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx.html#a6802ad201c51559aee389e901c578f7e">interfaces::WalletTx::credit</a></div><div class="ttdeci">CAmount credit</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00382">wallet.h:382</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_html_a7345599871a75cbf25f40ac957b28fb5"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx.html#a7345599871a75cbf25f40ac957b28fb5">interfaces::WalletTx::change</a></div><div class="ttdeci">CAmount change</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00384">wallet.h:384</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_html_a9a4850b76fd7e6d41c2ca810d7fb4553"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx.html#a9a4850b76fd7e6d41c2ca810d7fb4553">interfaces::WalletTx::is_coinbase</a></div><div class="ttdeci">bool is_coinbase</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00387">wallet.h:387</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_html_ad434c8f2ef8b71105435773dbef9d285"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx.html#ad434c8f2ef8b71105435773dbef9d285">interfaces::WalletTx::time</a></div><div class="ttdeci">int64_t time</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00385">wallet.h:385</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_html_afbd3096c0be5415970e06c89654cd501"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx.html#afbd3096c0be5415970e06c89654cd501">interfaces::WalletTx::txin_is_mine</a></div><div class="ttdeci">std::vector&lt; isminetype &gt; txin_is_mine</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00378">wallet.h:378</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_status_html"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx_status.html">interfaces::WalletTxStatus</a></div><div class="ttdoc">Updated transaction status.</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00391">wallet.h:392</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_status_html_a04e2602b500a8564203e47eec80c81fa"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx_status.html#a04e2602b500a8564203e47eec80c81fa">interfaces::WalletTxStatus::blocks_to_maturity</a></div><div class="ttdeci">int blocks_to_maturity</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00394">wallet.h:394</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_status_html_a3e4bd8ca121f27b2899dd601188859e6"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx_status.html#a3e4bd8ca121f27b2899dd601188859e6">interfaces::WalletTxStatus::is_in_main_chain</a></div><div class="ttdeci">bool is_in_main_chain</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00402">wallet.h:402</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_status_html_a49203a451ac6eaaade1e3b9e51e6c75e"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx_status.html#a49203a451ac6eaaade1e3b9e51e6c75e">interfaces::WalletTxStatus::is_abandoned</a></div><div class="ttdeci">bool is_abandoned</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00400">wallet.h:400</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_status_html_a66961231185f4acb0433f8980538f774"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx_status.html#a66961231185f4acb0433f8980538f774">interfaces::WalletTxStatus::is_final</a></div><div class="ttdeci">bool is_final</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00398">wallet.h:398</a></div></div>
<div class="ttc" id="astructinterfaces_1_1_wallet_tx_status_html_aceb4942059f1295344e2cc695f45004e"><div class="ttname"><a href="structinterfaces_1_1_wallet_tx_status.html#aceb4942059f1295344e2cc695f45004e">interfaces::WalletTxStatus::depth_in_main_chain</a></div><div class="ttdeci">int depth_in_main_chain</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00395">wallet.h:395</a></div></div>
<div class="ttc" id="asystem_8h_html"><div class="ttname"><a href="system_8h.html">system.h</a></div></div>
<div class="ttc" id="atransactiondesc_8cpp_html_ab120d8c0f3a70a9fdb66e809f1f4c82c"><div class="ttname"><a href="transactiondesc_8cpp.html#ab120d8c0f3a70a9fdb66e809f1f4c82c">GetPaymentRequestMerchant</a></div><div class="ttdeci">bool GetPaymentRequestMerchant(const std::string &amp;pr, QString &amp;merchant)</div><div class="ttdef"><b>Definition:</b> <a href="transactiondesc_8cpp_source.html#l00058">transactiondesc.cpp:58</a></div></div>
<div class="ttc" id="atransactiondesc_8h_html"><div class="ttname"><a href="transactiondesc_8h.html">transactiondesc.h</a></div></div>
<div class="ttc" id="atransactionrecord_8h_html"><div class="ttname"><a href="transactionrecord_8h.html">transactionrecord.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Nov 8 2021 14:20:06 for Bitcoin Core by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
