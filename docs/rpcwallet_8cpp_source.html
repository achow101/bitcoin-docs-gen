<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bitcoin Core: src/wallet/rpcwallet.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bitcoin_logo_doxygen.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bitcoin Core<span id="projectnumber">&#160;22.99.0</span>
   </div>
   <div id="projectbrief">P2P Digital Currency</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_e91c81f9be83f649fcd1d8691438a113.html">wallet</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">rpcwallet.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="rpcwallet_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Copyright (c) 2010 Satoshi Nakamoto</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// Copyright (c) 2009-2020 The Bitcoin Core developers</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// Distributed under the MIT software license, see the accompanying</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">// file COPYING or http://www.opensource.org/licenses/mit-license.php.</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span> </div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &lt;<a class="code" href="amount_8h.html">consensus/amount.h</a>&gt;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &lt;<a class="code" href="core__io_8h.html">core_io.h</a>&gt;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;<a class="code" href="interfaces_2chain_8h.html">interfaces/chain.h</a>&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;<a class="code" href="key__io_8h.html">key_io.h</a>&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;<a class="code" href="node_2context_8h.html">node/context.h</a>&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;<a class="code" href="outputtype_8h.html">outputtype.h</a>&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;<a class="code" href="feerate_8h.html">policy/feerate.h</a>&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &lt;<a class="code" href="policy_2fees_8h.html">policy/fees.h</a>&gt;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &lt;<a class="code" href="policy_8h.html">policy/policy.h</a>&gt;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &lt;<a class="code" href="policy_2rbf_8h.html">policy/rbf.h</a>&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;<a class="code" href="rawtransaction__util_8h.html">rpc/rawtransaction_util.h</a>&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;<a class="code" href="server_8h.html">rpc/server.h</a>&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;<a class="code" href="rpc_2util_8h.html">rpc/util.h</a>&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;<a class="code" href="descriptor_8h.html">script/descriptor.h</a>&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;<a class="code" href="sign_8h.html">script/sign.h</a>&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;<a class="code" href="bip32_8h.html">util/bip32.h</a>&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;<a class="code" href="util_2fees_8h.html">util/fees.h</a>&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;<a class="code" href="message_8h.html">util/message.h</a>&gt;</span> <span class="comment">// For MessageSign()</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;<a class="code" href="moneystr_8h.html">util/moneystr.h</a>&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &lt;<a class="code" href="string_8h.html">util/string.h</a>&gt;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &lt;<a class="code" href="system_8h.html">util/system.h</a>&gt;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &lt;<a class="code" href="translation_8h.html">util/translation.h</a>&gt;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &lt;<a class="code" href="url_8h.html">util/url.h</a>&gt;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &lt;<a class="code" href="vector_8h.html">util/vector.h</a>&gt;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &lt;<a class="code" href="coincontrol_8h.html">wallet/coincontrol.h</a>&gt;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &lt;<a class="code" href="wallet_2context_8h.html">wallet/context.h</a>&gt;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &lt;<a class="code" href="feebumper_8h.html">wallet/feebumper.h</a>&gt;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &lt;<a class="code" href="load_8h.html">wallet/load.h</a>&gt;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &lt;<a class="code" href="receive_8h.html">wallet/receive.h</a>&gt;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &lt;<a class="code" href="rpcwallet_8h.html">wallet/rpcwallet.h</a>&gt;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &lt;<a class="code" href="spend_8h.html">wallet/spend.h</a>&gt;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &lt;<a class="code" href="wallet_2wallet_8h.html">wallet/wallet.h</a>&gt;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &lt;<a class="code" href="walletdb_8h.html">wallet/walletdb.h</a>&gt;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &lt;<a class="code" href="walletutil_8h.html">wallet/walletutil.h</a>&gt;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span> </div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span> </div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &lt;<a class="code" href="univalue_8h.html">univalue.h</a>&gt;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span> </div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="keyword">using</span> <a class="code hl_class" href="classinterfaces_1_1_found_block.html">interfaces::FoundBlock</a>;</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a2705bd35dae304cc30f6b4057363c22e">   50</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_variable" href="rpcwallet_8cpp.html#a2705bd35dae304cc30f6b4057363c22e">WALLET_ENDPOINT_BASE</a> = <span class="stringliteral">&quot;/wallet/&quot;</span>;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#af12e66dd08ab50e9dc1af62592a73f8f">   51</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_variable" href="rpcwallet_8cpp.html#af12e66dd08ab50e9dc1af62592a73f8f">HELP_REQUIRING_PASSPHRASE</a>{<span class="stringliteral">&quot;\nRequires wallet passphrase to be set with walletpassphrase call if wallet is encrypted.\n&quot;</span>};</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> </div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#ac77133fd3d7323c1982036503b630a0c">   53</a></span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="rpcwallet_8cpp.html#ac77133fd3d7323c1982036503b630a0c">GetAvoidReuseFlag</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>, <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; param) {</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <span class="keywordtype">bool</span> can_avoid_reuse = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.IsWalletFlagSet(<a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a4e9b88a014a2fa4a31f3698fef9f5ce2">WALLET_FLAG_AVOID_REUSE</a>);</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <span class="keywordtype">bool</span> avoid_reuse = param.<a class="code hl_function" href="class_uni_value.html#a3661be0f5580daceb23e5338e3a0df22">isNull</a>() ? can_avoid_reuse : param.<a class="code hl_function" href="class_uni_value.html#ae8a27d40aa1b1322ea95ff4fb2dec2b1">get_bool</a>();</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    <span class="keywordflow">if</span> (avoid_reuse &amp;&amp; !can_avoid_reuse) {</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;wallet does not have the \&quot;avoid reuse\&quot; feature enabled&quot;</span>);</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    }</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <span class="keywordflow">return</span> avoid_reuse;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>}</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a7733413a3ac3eed56889bde5ed0d1009">   69</a></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="rpcwallet_8cpp.html#a7733413a3ac3eed56889bde5ed0d1009">ParseIncludeWatchonly</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; include_watchonly, <span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>)</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>{</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <span class="keywordflow">if</span> (include_watchonly.<a class="code hl_function" href="class_uni_value.html#a3661be0f5580daceb23e5338e3a0df22">isNull</a>()) {</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>        <span class="comment">// if include_watchonly isn&#39;t explicitly set, then check if we have a watchonly wallet</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>        <span class="keywordflow">return</span> <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.IsWalletFlagSet(<a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a47b6a219e3ca6733b2a251be3e5def86">WALLET_FLAG_DISABLE_PRIVATE_KEYS</a>);</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    }</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="comment">// otherwise return whatever include_watchonly was set to</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="keywordflow">return</span> include_watchonly.<a class="code hl_function" href="class_uni_value.html#ae8a27d40aa1b1322ea95ff4fb2dec2b1">get_bool</a>();</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>}</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span> </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a750ef446820a1d94f687cac4cea04011">   82</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="rpcwallet_8cpp.html#a750ef446820a1d94f687cac4cea04011">HaveKey</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_signing_provider.html">SigningProvider</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>, <span class="keyword">const</span> <a class="code hl_class" href="class_c_key.html">CKey</a>&amp; key)</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>{</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <a class="code hl_class" href="class_c_key.html">CKey</a> key2;</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    key2.<a class="code hl_function" href="class_c_key.html#aaa13d5f08456bba094210c5eeabf64c8">Set</a>(key.<a class="code hl_function" href="class_c_key.html#a0bd3b7bace202d624322c6744228517a">begin</a>(), key.<a class="code hl_function" href="class_c_key.html#a92855ddefcb3d95c640383a159628991">end</a>(), !key.<a class="code hl_function" href="class_c_key.html#a96b017433a65335775cf3807d73f85ce">IsCompressed</a>());</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="keywordflow">return</span> <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.HaveKey(key.<a class="code hl_function" href="class_c_key.html#aa1085c59603a62db6ec776300f250337">GetPubKey</a>().<a class="code hl_function" href="class_c_pub_key.html#a2675f7e6f72eff68e7a5227289feb021">GetID</a>()) || <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.HaveKey(key2.<a class="code hl_function" href="class_c_key.html#aa1085c59603a62db6ec776300f250337">GetPubKey</a>().<a class="code hl_function" href="class_c_pub_key.html#a2675f7e6f72eff68e7a5227289feb021">GetID</a>());</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>}</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#af704ea42262521346e3be551cfbc5a7f">   89</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="rpcwallet_8cpp.html#af704ea42262521346e3be551cfbc5a7f">GetWalletNameFromJSONRPCRequest</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request, std::string&amp; wallet_name)</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>{</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="bitcoin-cli_8cpp.html#a0e3c99b9558f02d32a7264c108e2944b">URL_DECODE</a> &amp;&amp; request.<a class="code hl_variable" href="class_j_s_o_n_r_p_c_request.html#ad76baebb2078d9b706f92fa5202a6799">URI</a>.substr(0, <a class="code hl_variable" href="rpcwallet_8cpp.html#a2705bd35dae304cc30f6b4057363c22e">WALLET_ENDPOINT_BASE</a>.size()) == <a class="code hl_variable" href="rpcwallet_8cpp.html#a2705bd35dae304cc30f6b4057363c22e">WALLET_ENDPOINT_BASE</a>) {</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>        <span class="comment">// wallet endpoint was used</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>        wallet_name = <a class="code hl_variable" href="bitcoin-cli_8cpp.html#a0e3c99b9558f02d32a7264c108e2944b">URL_DECODE</a>(request.<a class="code hl_variable" href="class_j_s_o_n_r_p_c_request.html#ad76baebb2078d9b706f92fa5202a6799">URI</a>.substr(<a class="code hl_variable" href="rpcwallet_8cpp.html#a2705bd35dae304cc30f6b4057363c22e">WALLET_ENDPOINT_BASE</a>.size()));</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    }</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>}</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">   99</a></span>std::shared_ptr&lt;CWallet&gt; <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request)</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>{</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <a class="code hl_define" href="check_8h.html#a46a3e27097aa5e94bbf62075bad7016f">CHECK_NONFATAL</a>(request.<a class="code hl_variable" href="class_j_s_o_n_r_p_c_request.html#a2a0e3439d2e76995222577e2cba461a2">mode</a> == <a class="code hl_enumvalue" href="class_j_s_o_n_r_p_c_request.html#a348dc05061c54e8b34c2844754959718a26ab687b9b0b80850731eaff9ffc9ac3">JSONRPCRequest::EXECUTE</a>);</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <a class="code hl_struct" href="struct_wallet_context.html">WalletContext</a>&amp; context = <a class="code hl_function" href="rpcwallet_8cpp.html#adfcbdc968355be9c0ea292e1ad2239df">EnsureWalletContext</a>(request.<a class="code hl_variable" href="class_j_s_o_n_r_p_c_request.html#afb185a2238431ebbf6c9562b6df79471">context</a>);</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span> </div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    std::string wallet_name;</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rpcwallet_8cpp.html#af704ea42262521346e3be551cfbc5a7f">GetWalletNameFromJSONRPCRequest</a>(request, wallet_name)) {</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>        <span class="keyword">const</span> std::shared_ptr&lt;CWallet&gt; pwallet = <a class="code hl_function" href="wallet_2wallet_8cpp.html#aa28273281d0319a08708afcd3a4d118e">GetWallet</a>(context, wallet_name);</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>        <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadad386a2420e15dbbe0a3405141f2b84de">RPC_WALLET_NOT_FOUND</a>, <span class="stringliteral">&quot;Requested wallet does not exist or is not loaded&quot;</span>);</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>        <span class="keywordflow">return</span> pwallet;</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    }</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    std::vector&lt;std::shared_ptr&lt;CWallet&gt;&gt; wallets = <a class="code hl_function" href="wallet_2wallet_8cpp.html#a8e3280b9a934262e94003e33190a96db">GetWallets</a>(context);</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="keywordflow">if</span> (wallets.size() == 1) {</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>        <span class="keywordflow">return</span> wallets[0];</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    }</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span> </div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <span class="keywordflow">if</span> (wallets.empty()) {</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>            <a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadad386a2420e15dbbe0a3405141f2b84de">RPC_WALLET_NOT_FOUND</a>, <span class="stringliteral">&quot;No wallet is loaded. Load a wallet using loadwallet or create a new one with createwallet. (Note: A default wallet is no longer automatically created)&quot;</span>);</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    }</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada053141bfebf379deffd2131efc5db19e">RPC_WALLET_NOT_SPECIFIED</a>,</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        <span class="stringliteral">&quot;Wallet file not specified (must request wallet RPC through /wallet/&lt;filename&gt; uri-path).&quot;</span>);</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>}</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a6272e8ec945c32ab0d3e27cb0eab078b">  124</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="rpcwallet_8cpp.html#a6272e8ec945c32ab0d3e27cb0eab078b">EnsureWalletIsUnlocked</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>)</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>{</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="keywordflow">if</span> (<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.IsLocked()) {</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada0c1fbdf17d83da9f5124f2dbf0ba4765">RPC_WALLET_UNLOCK_NEEDED</a>, <span class="stringliteral">&quot;Error: Please enter the wallet passphrase with walletpassphrase first.&quot;</span>);</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    }</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>}</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#adfcbdc968355be9c0ea292e1ad2239df">  131</a></span><a class="code hl_struct" href="struct_wallet_context.html">WalletContext</a>&amp; <a class="code hl_function" href="rpcwallet_8cpp.html#adfcbdc968355be9c0ea292e1ad2239df">EnsureWalletContext</a>(<span class="keyword">const</span> std::any&amp; context)</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>{</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="keyword">auto</span> wallet_context = util::AnyPtr&lt;WalletContext&gt;(context);</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="keywordflow">if</span> (!wallet_context) {</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadad4f5ea69465f2a32fda9b9bf5e698803">RPC_INTERNAL_ERROR</a>, <span class="stringliteral">&quot;Wallet context not found&quot;</span>);</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    }</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="keywordflow">return</span> *wallet_context;</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>}</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span> </div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><span class="comment">// also_create should only be set to true only when the RPC is expected to add things to a blank wallet and make it no longer blank</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a6adff0544f801c37e53785b00d827fa8">  141</a></span><a class="code hl_class" href="class_legacy_script_pub_key_man.html">LegacyScriptPubKeyMan</a>&amp; <a class="code hl_function" href="rpcwallet_8cpp.html#a6adff0544f801c37e53785b00d827fa8">EnsureLegacyScriptPubKeyMan</a>(<a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>, <span class="keywordtype">bool</span> also_create)</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>{</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <a class="code hl_class" href="class_legacy_script_pub_key_man.html">LegacyScriptPubKeyMan</a>* spk_man = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetLegacyScriptPubKeyMan();</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="keywordflow">if</span> (!spk_man &amp;&amp; also_create) {</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>        spk_man = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetOrCreateLegacyScriptPubKeyMan();</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    }</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="keywordflow">if</span> (!spk_man) {</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;This type of wallet does not support this command&quot;</span>);</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    }</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="keywordflow">return</span> *spk_man;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>}</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span> </div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#ab230f4e7aebaea97da05183bc3bcfa03">  153</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="rpcwallet_8cpp.html#ab230f4e7aebaea97da05183bc3bcfa03">WalletTxToJSON</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>, <span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet_tx.html">CWalletTx</a>&amp; wtx, <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; entry)</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>{</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <a class="code hl_class" href="classinterfaces_1_1_chain.html">interfaces::Chain</a>&amp; chain = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.chain();</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    <span class="keywordtype">int</span> confirms = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetTxDepthInMainChain(wtx);</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;confirmations&quot;</span>, confirms);</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="keywordflow">if</span> (wtx.<a class="code hl_function" href="class_c_wallet_tx.html#aedd121a03fccf85c9b489cc1e0fbedcb">IsCoinBase</a>())</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;generated&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="keywordflow">if</span> (confirms &gt; 0)</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    {</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;blockhash&quot;</span>, wtx.<a class="code hl_variable" href="class_c_wallet_tx.html#a772462c72968fed899ed7f3d036153e6">m_confirm</a>.<a class="code hl_variable" href="struct_c_wallet_tx_1_1_confirmation.html#a94e6dff1e8e11f32e9da497ffaae55a9">hashBlock</a>.<a class="code hl_function" href="classbase__blob.html#ad7263503f949fb3c6c520ebb1f28e378">GetHex</a>());</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;blockheight&quot;</span>, wtx.<a class="code hl_variable" href="class_c_wallet_tx.html#a772462c72968fed899ed7f3d036153e6">m_confirm</a>.<a class="code hl_variable" href="struct_c_wallet_tx_1_1_confirmation.html#a4a0d59083d09d3d4082c8c5b707dcec6">block_height</a>);</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;blockindex&quot;</span>, wtx.<a class="code hl_variable" href="class_c_wallet_tx.html#a772462c72968fed899ed7f3d036153e6">m_confirm</a>.<a class="code hl_variable" href="struct_c_wallet_tx_1_1_confirmation.html#ae69cc07da4bc58ab4341b49e4ec3271b">nIndex</a>);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>        int64_t block_time;</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>        <a class="code hl_define" href="check_8h.html#a46a3e27097aa5e94bbf62075bad7016f">CHECK_NONFATAL</a>(chain.<a class="code hl_function" href="classinterfaces_1_1_chain.html#a8b3d038fc182b9268d4d3fe3c79e9a84">findBlock</a>(wtx.<a class="code hl_variable" href="class_c_wallet_tx.html#a772462c72968fed899ed7f3d036153e6">m_confirm</a>.<a class="code hl_variable" href="struct_c_wallet_tx_1_1_confirmation.html#a94e6dff1e8e11f32e9da497ffaae55a9">hashBlock</a>, <a class="code hl_class" href="classinterfaces_1_1_found_block.html">FoundBlock</a>().time(block_time)));</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;blocktime&quot;</span>, block_time);</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;trusted&quot;</span>, <a class="code hl_function" href="receive_8cpp.html#ae8f3a2eaebe2ad5a0bfee70444175de3">CachedTxIsTrusted</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>, wtx));</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    }</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <a class="code hl_class" href="classuint256.html">uint256</a> hash = wtx.<a class="code hl_function" href="class_c_wallet_tx.html#a8235bd17d83c9ed101ca88950ab922ef">GetHash</a>();</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;txid&quot;</span>, hash.<a class="code hl_function" href="classbase__blob.html#ad7263503f949fb3c6c520ebb1f28e378">GetHex</a>());</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> conflicts(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="classuint256.html">uint256</a>&amp; conflict : <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetTxConflicts(wtx))</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>        conflicts.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(conflict.GetHex());</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;walletconflicts&quot;</span>, conflicts);</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;time&quot;</span>, wtx.<a class="code hl_function" href="class_c_wallet_tx.html#ab94368cf0553687d8f1fec5d2aaa1457">GetTxTime</a>());</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;timereceived&quot;</span>, (int64_t)wtx.<a class="code hl_variable" href="class_c_wallet_tx.html#af4f4b58875061467026da7b259532b69">nTimeReceived</a>);</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="comment">// Add opt-in RBF status</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    std::string rbfStatus = <span class="stringliteral">&quot;no&quot;</span>;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="keywordflow">if</span> (confirms &lt;= 0) {</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>        <a class="code hl_enumeration" href="policy_2rbf_8h.html#a8a266cb2957aad5d08cc4c382ef6d32e">RBFTransactionState</a> rbfState = chain.<a class="code hl_function" href="classinterfaces_1_1_chain.html#a2a4a2ab40a8471a23d1018474393bc00">isRBFOptIn</a>(*wtx.<a class="code hl_variable" href="class_c_wallet_tx.html#a18376883d956cd66d9082aecd5411606">tx</a>);</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>        <span class="keywordflow">if</span> (rbfState == <a class="code hl_enumvalue" href="policy_2rbf_8h.html#a8a266cb2957aad5d08cc4c382ef6d32ea696b031073e74bf2cb98e5ef201d4aa3">RBFTransactionState::UNKNOWN</a>)</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>            rbfStatus = <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rbfState == <a class="code hl_enumvalue" href="policy_2rbf_8h.html#a8a266cb2957aad5d08cc4c382ef6d32eaac738feff3a12c7dfab95461d55faf95">RBFTransactionState::REPLACEABLE_BIP125</a>)</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>            rbfStatus = <span class="stringliteral">&quot;yes&quot;</span>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    }</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;bip125-replaceable&quot;</span>, rbfStatus);</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::pair&lt;const std::string, std::string&gt;&amp; item : wtx.<a class="code hl_variable" href="class_c_wallet_tx.html#a17229eca0c81245312115a9c333203d8">mapValue</a>)</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(item.first, item.second);</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>}</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span> </div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a0c4c4cfa68641156f1ddf4368da643e0">  195</a></span><span class="keyword">static</span> std::string <a class="code hl_function" href="rpcwallet_8cpp.html#a0c4c4cfa68641156f1ddf4368da643e0">LabelFromValue</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; value)</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>{</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    std::string label = value.<a class="code hl_function" href="class_uni_value.html#a087ea6ccec615333371fa1aaf83ab7df">get_str</a>();</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <span class="keywordflow">if</span> (label == <span class="stringliteral">&quot;*&quot;</span>)</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada0870b7c922cb7437cf22222763bcade8">RPC_WALLET_INVALID_LABEL_NAME</a>, <span class="stringliteral">&quot;Invalid label name&quot;</span>);</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <span class="keywordflow">return</span> label;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>}</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span> </div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a0bb19f5cd785f6f02d0169af7396c06b">  216</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="rpcwallet_8cpp.html#a0bb19f5cd785f6f02d0169af7396c06b">SetFeeEstimateMode</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>, <a class="code hl_class" href="class_c_coin_control.html">CCoinControl</a>&amp; cc, <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; conf_target, <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; estimate_mode, <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; fee_rate, <span class="keywordtype">bool</span> override_min_fee)</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>{</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    <span class="keywordflow">if</span> (!fee_rate.<a class="code hl_function" href="class_uni_value.html#a3661be0f5580daceb23e5338e3a0df22">isNull</a>()) {</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>        <span class="keywordflow">if</span> (!conf_target.<a class="code hl_function" href="class_uni_value.html#a3661be0f5580daceb23e5338e3a0df22">isNull</a>()) {</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Cannot specify both conf_target and fee_rate. Please provide either a confirmation target in blocks for automatic fee estimation, or an explicit fee rate.&quot;</span>);</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>        }</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>        <span class="keywordflow">if</span> (!estimate_mode.<a class="code hl_function" href="class_uni_value.html#a3661be0f5580daceb23e5338e3a0df22">isNull</a>() &amp;&amp; estimate_mode.<a class="code hl_function" href="class_uni_value.html#a087ea6ccec615333371fa1aaf83ab7df">get_str</a>() != <span class="stringliteral">&quot;unset&quot;</span>) {</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Cannot specify both estimate_mode and fee_rate&quot;</span>);</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        }</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>        <span class="comment">// Fee rates in sat/vB cannot represent more than 3 significant digits.</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>        cc.<a class="code hl_variable" href="class_c_coin_control.html#a92e9d528cbbf433a4c9a21e500fc88e0">m_feerate</a> = <a class="code hl_class" href="class_c_fee_rate.html">CFeeRate</a>{<a class="code hl_function" href="bitcoin-tx_8cpp.html#a58ca09453ed4aac5e1af948b1c6a241f">AmountFromValue</a>(fee_rate, <span class="comment">/* decimals */</span> 3)};</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>        <span class="keywordflow">if</span> (override_min_fee) cc.<a class="code hl_variable" href="class_c_coin_control.html#a9caaebbea37aa3582f58023487265dc7">fOverrideFeeRate</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>        <span class="comment">// Default RBF to true for explicit fee_rate, if unset.</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>        <span class="keywordflow">if</span> (!cc.<a class="code hl_variable" href="class_c_coin_control.html#a234604093ad4de5c6a19d39bc2fe7b19">m_signal_bip125_rbf</a>) cc.<a class="code hl_variable" href="class_c_coin_control.html#a234604093ad4de5c6a19d39bc2fe7b19">m_signal_bip125_rbf</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    }</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    <span class="keywordflow">if</span> (!estimate_mode.<a class="code hl_function" href="class_uni_value.html#a3661be0f5580daceb23e5338e3a0df22">isNull</a>() &amp;&amp; !<a class="code hl_function" href="util_2fees_8cpp.html#a792d01095df2d205c4a33d8d3ab2471d">FeeModeFromString</a>(estimate_mode.<a class="code hl_function" href="class_uni_value.html#a087ea6ccec615333371fa1aaf83ab7df">get_str</a>(), cc.<a class="code hl_variable" href="class_c_coin_control.html#afe4a9813a0fce0d5c7ab415f5c7349fb">m_fee_mode</a>)) {</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <a class="code hl_function" href="util_2fees_8cpp.html#abc483954c40f7d4102f9d42a9da152ed">InvalidEstimateModeErrorMessage</a>());</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    }</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <span class="keywordflow">if</span> (!conf_target.<a class="code hl_function" href="class_uni_value.html#a3661be0f5580daceb23e5338e3a0df22">isNull</a>()) {</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>        cc.<a class="code hl_variable" href="class_c_coin_control.html#a2dcf20b8a63111ebd5293cc753f66c39">m_confirm_target</a> = <a class="code hl_function" href="rpc_2util_8cpp.html#ae928fea7d8ddf182a6ccc24e2156b065">ParseConfirmTarget</a>(conf_target, <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.chain().estimateMaxBlocks());</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    }</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>}</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span> </div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a055940ffe686cdb3c840ccb8d9726099">  240</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a055940ffe686cdb3c840ccb8d9726099">getnewaddress</a>()</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>{</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;getnewaddress&quot;</span>,</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>                <span class="stringliteral">&quot;\nReturns a new Bitcoin address for receiving payments.\n&quot;</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>                <span class="stringliteral">&quot;If &#39;label&#39; is specified, it is added to the address book \n&quot;</span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>                <span class="stringliteral">&quot;so payments received with the address will be associated with &#39;label&#39;.\n&quot;</span>,</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>                {</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>                    {<span class="stringliteral">&quot;label&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="stringliteral">&quot;&quot;</span>}, <span class="stringliteral">&quot;The label name for the address to be linked to. It can also be set to the empty string \&quot;\&quot; to represent the default label. The label does not need to exist, it will be created if there is no label by the given name.&quot;</span>},</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>                    {<span class="stringliteral">&quot;address_type&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;set by -addresstype&quot;</span>}, <span class="stringliteral">&quot;The address type to use. Options are \&quot;legacy\&quot;, \&quot;p2sh-segwit\&quot;, and \&quot;bech32\&quot;.&quot;</span>},</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>                },</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;address&quot;</span>, <span class="stringliteral">&quot;The new bitcoin address&quot;</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>                },</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;getnewaddress&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;getnewaddress&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>                },</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>{</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span> </div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    <span class="keywordflow">if</span> (!pwallet-&gt;CanGetAddresses()) {</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Error: This wallet has no available keys&quot;</span>);</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    }</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <span class="comment">// Parse the label first so we don&#39;t generate a key if there&#39;s an error</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    std::string label;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <span class="keywordflow">if</span> (!request.params[0].isNull())</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        label = <a class="code hl_function" href="rpcwallet_8cpp.html#a0c4c4cfa68641156f1ddf4368da643e0">LabelFromValue</a>(request.params[0]);</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span> </div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <a class="code hl_enumeration" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3">OutputType</a> output_type = pwallet-&gt;m_default_address_type;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <span class="keywordflow">if</span> (!request.params[1].isNull()) {</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>        std::optional&lt;OutputType&gt; parsed = <a class="code hl_function" href="outputtype_8cpp.html#a705d5e2a23104621d2a2f3ca85eda8da">ParseOutputType</a>(request.params[1].get_str());</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        <span class="keywordflow">if</span> (!parsed) {</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;Unknown address type &#39;%s&#39;&quot;</span>, request.params[1].get_str()));</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (parsed.value() == <a class="code hl_enumvalue" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3ae5747421d490e83aa21f61eae1ae3778">OutputType::BECH32M</a> &amp;&amp; pwallet-&gt;GetLegacyScriptPubKeyMan()) {</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Legacy wallets cannot provide bech32m addresses&quot;</span>);</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        }</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>        output_type = parsed.value();</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    }</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> dest;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <a class="code hl_struct" href="structbilingual__str.html">bilingual_str</a> <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <span class="keywordflow">if</span> (!pwallet-&gt;GetNewDestination(output_type, label, dest, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>)) {</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadadacb2152d14607886f90ed134c94e21d">RPC_WALLET_KEYPOOL_RAN_OUT</a>, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>.original);</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    }</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span> </div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="key__io_8cpp.html#a69b845c325e6bf516251cd3a67fe1df7">EncodeDestination</a>(dest);</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>},</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    };</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>}</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a1147f77ce3f1e3a3d6bdddccb9c91a88">  295</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a1147f77ce3f1e3a3d6bdddccb9c91a88">getrawchangeaddress</a>()</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>{</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;getrawchangeaddress&quot;</span>,</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>                <span class="stringliteral">&quot;\nReturns a new Bitcoin address, for receiving change.\n&quot;</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>                <span class="stringliteral">&quot;This is for use with raw transactions, NOT normal use.\n&quot;</span>,</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>                {</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                    {<span class="stringliteral">&quot;address_type&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;set by -changetype&quot;</span>}, <span class="stringliteral">&quot;The address type to use. Options are \&quot;legacy\&quot;, \&quot;p2sh-segwit\&quot;, and \&quot;bech32\&quot;.&quot;</span>},</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>                },</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;address&quot;</span>, <span class="stringliteral">&quot;The address&quot;</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>                },</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;getrawchangeaddress&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;getrawchangeaddress&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>                },</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>{</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span> </div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="keywordflow">if</span> (!pwallet-&gt;CanGetAddresses(<span class="keyword">true</span>)) {</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Error: This wallet has no available keys&quot;</span>);</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    }</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span> </div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <a class="code hl_enumeration" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3">OutputType</a> output_type = pwallet-&gt;m_default_change_type.value_or(pwallet-&gt;m_default_address_type);</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    <span class="keywordflow">if</span> (!request.params[0].isNull()) {</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        std::optional&lt;OutputType&gt; parsed = <a class="code hl_function" href="outputtype_8cpp.html#a705d5e2a23104621d2a2f3ca85eda8da">ParseOutputType</a>(request.params[0].get_str());</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>        <span class="keywordflow">if</span> (!parsed) {</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;Unknown address type &#39;%s&#39;&quot;</span>, request.params[0].get_str()));</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (parsed.value() == <a class="code hl_enumvalue" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3ae5747421d490e83aa21f61eae1ae3778">OutputType::BECH32M</a> &amp;&amp; pwallet-&gt;GetLegacyScriptPubKeyMan()) {</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Legacy wallets cannot provide bech32m addresses&quot;</span>);</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>        }</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        output_type = parsed.value();</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    }</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span> </div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> dest;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <a class="code hl_struct" href="structbilingual__str.html">bilingual_str</a> <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <span class="keywordflow">if</span> (!pwallet-&gt;GetNewChangeDestination(output_type, dest, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>)) {</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadadacb2152d14607886f90ed134c94e21d">RPC_WALLET_KEYPOOL_RAN_OUT</a>, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>.original);</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    }</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="key__io_8cpp.html#a69b845c325e6bf516251cd3a67fe1df7">EncodeDestination</a>(dest);</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>},</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    };</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>}</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span> </div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#aa5f125c40e6e0f61afab798f62ea5770">  343</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#aa5f125c40e6e0f61afab798f62ea5770">setlabel</a>()</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>{</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;setlabel&quot;</span>,</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>                <span class="stringliteral">&quot;\nSets the label associated with the given address.\n&quot;</span>,</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>                {</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>                    {<span class="stringliteral">&quot;address&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The bitcoin address to be associated with a label.&quot;</span>},</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>                    {<span class="stringliteral">&quot;label&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The label to assign to the address.&quot;</span>},</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>                },</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ab50339a10e1de285ac99d4c3990b8693">RPCResult::Type::NONE</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;setlabel&quot;</span>, <span class="stringliteral">&quot;\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot; \&quot;tabby\&quot;&quot;</span>)</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;setlabel&quot;</span>, <span class="stringliteral">&quot;\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot;, \&quot;tabby\&quot;&quot;</span>)</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>                },</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>{</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span> </div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span> </div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> dest = <a class="code hl_function" href="key__io_8cpp.html#ae9479724a35444166ba384a69e1f246c">DecodeDestination</a>(request.params[0].get_str());</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="standard_8cpp.html#adb3a21e4afe9c672720b182ddc7cad7c">IsValidDestination</a>(dest)) {</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <span class="stringliteral">&quot;Invalid Bitcoin address&quot;</span>);</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    }</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span> </div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    std::string label = <a class="code hl_function" href="rpcwallet_8cpp.html#a0c4c4cfa68641156f1ddf4368da643e0">LabelFromValue</a>(request.params[1]);</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span> </div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    <span class="keywordflow">if</span> (pwallet-&gt;IsMine(dest)) {</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>        pwallet-&gt;SetAddressBook(dest, label, <span class="stringliteral">&quot;receive&quot;</span>);</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>        pwallet-&gt;SetAddressBook(dest, label, <span class="stringliteral">&quot;send&quot;</span>);</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    }</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>},</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    };</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>}</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span> </div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#ab9f378c9970704dec9d24d5532ceb1b3">  381</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="rpcwallet_8cpp.html#ab9f378c9970704dec9d24d5532ceb1b3">ParseRecipients</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; address_amounts, <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; subtract_fee_outputs, std::vector&lt;CRecipient&gt; &amp;recipients) {</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    std::set&lt;CTxDestination&gt; destinations;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::string&amp; address: address_amounts.<a class="code hl_function" href="class_uni_value.html#a67e4178f582aa9f7bc39e71066ad786e">getKeys</a>()) {</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>        <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> dest = <a class="code hl_function" href="key__io_8cpp.html#ae9479724a35444166ba384a69e1f246c">DecodeDestination</a>(address);</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="standard_8cpp.html#adb3a21e4afe9c672720b182ddc7cad7c">IsValidDestination</a>(dest)) {</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, std::string(<span class="stringliteral">&quot;Invalid Bitcoin address: &quot;</span>) + address);</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>        }</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span> </div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>        <span class="keywordflow">if</span> (destinations.count(dest)) {</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, std::string(<span class="stringliteral">&quot;Invalid parameter, duplicated address: &quot;</span>) + address);</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>        }</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>        destinations.insert(dest);</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span> </div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>        <a class="code hl_class" href="class_c_script.html">CScript</a> script_pub_key = <a class="code hl_function" href="standard_8cpp.html#ae40f28d3b46c21033f6ee1f1200d0321">GetScriptForDestination</a>(dest);</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>        <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> amount = <a class="code hl_function" href="bitcoin-tx_8cpp.html#a58ca09453ed4aac5e1af948b1c6a241f">AmountFromValue</a>(address_amounts[i++]);</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span> </div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>        <span class="keywordtype">bool</span> subtract_fee = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx = 0; idx &lt; subtract_fee_outputs.<a class="code hl_function" href="class_uni_value.html#a5a7394aeb8d5584db7a90c2c041726b1">size</a>(); idx++) {</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>            <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; addr = subtract_fee_outputs[idx];</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>            <span class="keywordflow">if</span> (addr.<a class="code hl_function" href="class_uni_value.html#a087ea6ccec615333371fa1aaf83ab7df">get_str</a>() == address) {</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>                subtract_fee = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>            }</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>        }</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span> </div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        <a class="code hl_struct" href="struct_c_recipient.html">CRecipient</a> recipient = {script_pub_key, amount, subtract_fee};</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>        recipients.<a class="code hl_function" href="classprevector.html#af34b1eea43f461465aa29fe7ca67449d">push_back</a>(recipient);</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    }</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>}</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span> </div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a51cdb564dc4951891a377203ea110cde">  411</a></span><a class="code hl_class" href="class_uni_value.html">UniValue</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a51cdb564dc4951891a377203ea110cde">SendMoney</a>(<a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>, <span class="keyword">const</span> <a class="code hl_class" href="class_c_coin_control.html">CCoinControl</a> &amp;coin_control, std::vector&lt;CRecipient&gt; &amp;recipients, <a class="code hl_typedef" href="wallet_2transaction_8h.html#aaf509cb8d82c13c57426420ef68ced6a">mapValue_t</a> map_value, <span class="keywordtype">bool</span> verbose)</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>{</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#a6272e8ec945c32ab0d3e27cb0eab078b">EnsureWalletIsUnlocked</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>);</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span> </div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    <span class="comment">// This function is only used by sendtoaddress and sendmany.</span></div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    <span class="comment">// This should always try to sign, if we don&#39;t have private keys, don&#39;t try to do anything here.</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    <span class="keywordflow">if</span> (<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.IsWalletFlagSet(<a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a47b6a219e3ca6733b2a251be3e5def86">WALLET_FLAG_DISABLE_PRIVATE_KEYS</a>)) {</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Error: Private keys are disabled for this wallet&quot;</span>);</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    }</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span> </div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    <span class="comment">// Shuffle recipient list</span></div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    std::shuffle(recipients.begin(), recipients.end(), <a class="code hl_class" href="class_fast_random_context.html">FastRandomContext</a>());</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span> </div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    <span class="comment">// Send</span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nFeeRequired = 0;</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    <span class="keywordtype">int</span> nChangePosRet = -1;</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>    <a class="code hl_struct" href="structbilingual__str.html">bilingual_str</a> <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>    <a class="code hl_typedef" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> tx;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    <a class="code hl_struct" href="struct_fee_calculation.html">FeeCalculation</a> fee_calc_out;</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> fCreated = <a class="code hl_function" href="spend_8cpp.html#a9e6b5239975f542c3b1ef3d8a89c59c1">CreateTransaction</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>, recipients, tx, nFeeRequired, nChangePosRet, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>, coin_control, fee_calc_out, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>    <span class="keywordflow">if</span> (!fCreated) {</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada5e46fc2ff7c51b8423b6eaf5b33ebfb9">RPC_WALLET_INSUFFICIENT_FUNDS</a>, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>.original);</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    }</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.CommitTransaction(tx, std::move(map_value), {} <span class="comment">/* orderForm */</span>);</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <span class="keywordflow">if</span> (verbose) {</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>        <a class="code hl_class" href="class_uni_value.html">UniValue</a> entry(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;txid&quot;</span>, tx-&gt;GetHash().GetHex());</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;fee_reason&quot;</span>, <a class="code hl_function" href="util_2fees_8cpp.html#ac829072b1bc64aaba8cb1b3a912c557c">StringForFeeReason</a>(fee_calc_out.<a class="code hl_variable" href="struct_fee_calculation.html#a890ee01083d216d5986e6301ab5b61aa">reason</a>));</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>        <span class="keywordflow">return</span> entry;</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>    }</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    <span class="keywordflow">return</span> tx-&gt;GetHash().GetHex();</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>}</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span> </div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a0e0701384140dbce448902b6b43f80e6">  444</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a0e0701384140dbce448902b6b43f80e6">sendtoaddress</a>()</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>{</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;sendtoaddress&quot;</span>,</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>                <span class="stringliteral">&quot;\nSend an amount to a given address.&quot;</span> +</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>        <a class="code hl_variable" href="rpcwallet_8cpp.html#af12e66dd08ab50e9dc1af62592a73f8f">HELP_REQUIRING_PASSPHRASE</a>,</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>                {</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>                    {<span class="stringliteral">&quot;address&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The bitcoin address to send to.&quot;</span>},</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>                    {<span class="stringliteral">&quot;amount&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The amount in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot; to send. eg 0.1&quot;</span>},</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>                    {<span class="stringliteral">&quot;comment&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;A comment used to store what the transaction is for.\n&quot;</span></div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>                                         <span class="stringliteral">&quot;This is not part of the transaction, just kept in your wallet.&quot;</span>},</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>                    {<span class="stringliteral">&quot;comment_to&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;A comment to store the name of the person or organization\n&quot;</span></div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>                                         <span class="stringliteral">&quot;to which you&#39;re sending the transaction. This is not part of the \n&quot;</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>                                         <span class="stringliteral">&quot;transaction, just kept in your wallet.&quot;</span>},</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>                    {<span class="stringliteral">&quot;subtractfeefromamount&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;The fee will be deducted from the amount being sent.\n&quot;</span></div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>                                         <span class="stringliteral">&quot;The recipient will receive less bitcoins than you enter in the amount field.&quot;</span>},</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>                    {<span class="stringliteral">&quot;replaceable&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;wallet default&quot;</span>}, <span class="stringliteral">&quot;Allow this transaction to be replaced by a transaction with higher fees via BIP 125&quot;</span>},</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>                    {<span class="stringliteral">&quot;conf_target&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;wallet -txconfirmtarget&quot;</span>}, <span class="stringliteral">&quot;Confirmation target in blocks&quot;</span>},</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>                    {<span class="stringliteral">&quot;estimate_mode&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="stringliteral">&quot;unset&quot;</span>}, std::string() + <span class="stringliteral">&quot;The fee estimate mode, must be one of (case insensitive):\n&quot;</span></div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>            <span class="stringliteral">&quot;       \&quot;&quot;</span> + <a class="code hl_function" href="util_2fees_8cpp.html#a32fab8b174c9dcbab0d46d5ea4608a6b">FeeModes</a>(<span class="stringliteral">&quot;\&quot;\n\&quot;&quot;</span>) + <span class="stringliteral">&quot;\&quot;&quot;</span>},</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>                    {<span class="stringliteral">&quot;avoid_reuse&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">true</span>}, <span class="stringliteral">&quot;(only available if avoid_reuse wallet flag is set) Avoid spending from dirty addresses; addresses are considered\n&quot;</span></div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>                                         <span class="stringliteral">&quot;dirty if they have previously been used in a transaction. If true, this also activates avoidpartialspends, grouping outputs by their addresses.&quot;</span>},</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>                    {<span class="stringliteral">&quot;fee_rate&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;not set, fall back to wallet fee estimation&quot;</span>}, <span class="stringliteral">&quot;Specify a fee rate in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB.&quot;</span>},</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>                    {<span class="stringliteral">&quot;verbose&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;If true, return extra information about the transaction.&quot;</span>},</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>                },</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>                {</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>                    <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<span class="stringliteral">&quot;if verbose is not set or set to false&quot;</span>,</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>                        <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;txid&quot;</span>, <span class="stringliteral">&quot;The transaction id.&quot;</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>                    },</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>                    <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<span class="stringliteral">&quot;if verbose is set to true&quot;</span>,</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>                        <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>                        {</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;txid&quot;</span>, <span class="stringliteral">&quot;The transaction id.&quot;</span>},</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;fee_reason&quot;</span>, <span class="stringliteral">&quot;The transaction fee reason.&quot;</span>}</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>                        },</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>                    },</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>                },</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>                    <span class="stringliteral">&quot;\nSend 0.1 BTC\n&quot;</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>                    + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;sendtoaddress&quot;</span>, <span class="stringliteral">&quot;\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot; 0.1&quot;</span>) +</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>                    <span class="stringliteral">&quot;\nSend 0.1 BTC with a confirmation target of 6 blocks in economical fee estimate mode using positional arguments\n&quot;</span></div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>                    + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;sendtoaddress&quot;</span>, <span class="stringliteral">&quot;\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot; 0.1 \&quot;donation\&quot; \&quot;sean&#39;s outpost\&quot; false true 6 economical&quot;</span>) +</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>                    <span class="stringliteral">&quot;\nSend 0.1 BTC with a fee rate of 1.1 &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB, subtract fee from amount, BIP125-replaceable, using positional arguments\n&quot;</span></div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>                    + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;sendtoaddress&quot;</span>, <span class="stringliteral">&quot;\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot; 0.1 \&quot;drinks\&quot; \&quot;room77\&quot; true true null \&quot;unset\&quot; null 1.1&quot;</span>) +</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>                    <span class="stringliteral">&quot;\nSend 0.2 BTC with a confirmation target of 6 blocks in economical fee estimate mode using named arguments\n&quot;</span></div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>                    + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;-named sendtoaddress&quot;</span>, <span class="stringliteral">&quot;address=\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot; amount=0.2 conf_target=6 estimate_mode=\&quot;economical\&quot;&quot;</span>) +</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>                    <span class="stringliteral">&quot;\nSend 0.5 BTC with a fee rate of 25 &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB using named arguments\n&quot;</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>                    + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;-named sendtoaddress&quot;</span>, <span class="stringliteral">&quot;address=\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot; amount=0.5 fee_rate=25&quot;</span>)</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>                    + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;-named sendtoaddress&quot;</span>, <span class="stringliteral">&quot;address=\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot; amount=0.5 fee_rate=25 subtractfeefromamount=false replaceable=true avoid_reuse=true comment=\&quot;2 pizzas\&quot; comment_to=\&quot;jeremy\&quot; verbose=true&quot;</span>)</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>                },</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>{</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span> </div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span> </div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span> </div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    <span class="comment">// Wallet comments</span></div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    <a class="code hl_typedef" href="wallet_2transaction_8h.html#aaf509cb8d82c13c57426420ef68ced6a">mapValue_t</a> mapValue;</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>    <span class="keywordflow">if</span> (!request.params[2].isNull() &amp;&amp; !request.params[2].get_str().empty())</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>        mapValue[<span class="stringliteral">&quot;comment&quot;</span>] = request.params[2].get_str();</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>    <span class="keywordflow">if</span> (!request.params[3].isNull() &amp;&amp; !request.params[3].get_str().empty())</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>        mapValue[<span class="stringliteral">&quot;to&quot;</span>] = request.params[3].get_str();</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span> </div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    <span class="keywordtype">bool</span> fSubtractFeeFromAmount = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>    <span class="keywordflow">if</span> (!request.params[4].isNull()) {</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>        fSubtractFeeFromAmount = request.params[4].get_bool();</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    }</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span> </div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    <a class="code hl_class" href="class_c_coin_control.html">CCoinControl</a> coin_control;</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    <span class="keywordflow">if</span> (!request.params[5].isNull()) {</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>        coin_control.<a class="code hl_variable" href="class_c_coin_control.html#a234604093ad4de5c6a19d39bc2fe7b19">m_signal_bip125_rbf</a> = request.params[5].get_bool();</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>    }</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span> </div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    coin_control.<a class="code hl_variable" href="class_c_coin_control.html#aadc9a6a1406468c09a84716700306efa">m_avoid_address_reuse</a> = <a class="code hl_function" href="rpcwallet_8cpp.html#ac77133fd3d7323c1982036503b630a0c">GetAvoidReuseFlag</a>(*pwallet, request.params[8]);</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    <span class="comment">// We also enable partial spend avoidance if reuse avoidance is set.</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    coin_control.<a class="code hl_variable" href="class_c_coin_control.html#ab718eddaacac6bad9e9a80324a348957">m_avoid_partial_spends</a> |= coin_control.<a class="code hl_variable" href="class_c_coin_control.html#aadc9a6a1406468c09a84716700306efa">m_avoid_address_reuse</a>;</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span> </div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#a0bb19f5cd785f6f02d0169af7396c06b">SetFeeEstimateMode</a>(*pwallet, coin_control, <span class="comment">/* conf_target */</span> request.params[6], <span class="comment">/* estimate_mode */</span> request.params[7], <span class="comment">/* fee_rate */</span> request.params[9], <span class="comment">/* override_min_fee */</span> <span class="keyword">false</span>);</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span> </div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#a6272e8ec945c32ab0d3e27cb0eab078b">EnsureWalletIsUnlocked</a>(*pwallet);</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span> </div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> address_amounts(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    <span class="keyword">const</span> std::string address = request.params[0].get_str();</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    address_amounts.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(address, request.params[1]);</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> subtractFeeFromAmount(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <span class="keywordflow">if</span> (fSubtractFeeFromAmount) {</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>        subtractFeeFromAmount.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(address);</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    }</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span> </div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    std::vector&lt;CRecipient&gt; recipients;</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#ab9f378c9970704dec9d24d5532ceb1b3">ParseRecipients</a>(address_amounts, subtractFeeFromAmount, recipients);</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> verbose{request.params[10].isNull() ? false : request.params[10].get_bool()};</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span> </div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="rpcwallet_8cpp.html#a51cdb564dc4951891a377203ea110cde">SendMoney</a>(*pwallet, coin_control, recipients, mapValue, verbose);</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>},</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    };</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>}</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span> </div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a32a99f2cf745e72ae55dbb9187a5f88f">  546</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a32a99f2cf745e72ae55dbb9187a5f88f">listaddressgroupings</a>()</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>{</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;listaddressgroupings&quot;</span>,</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>                <span class="stringliteral">&quot;\nLists groups of addresses which have had their common ownership\n&quot;</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>                <span class="stringliteral">&quot;made public by common use as inputs or as the resulting change\n&quot;</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>                <span class="stringliteral">&quot;in past transactions\n&quot;</span>,</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>                {},</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>                    {</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>                        {</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a9eed531a64c62698c293e18f174346ff">RPCResult::Type::ARR_FIXED</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>                            {</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;address&quot;</span>, <span class="stringliteral">&quot;The bitcoin address&quot;</span>},</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;amount&quot;</span>, <span class="stringliteral">&quot;The amount in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a>},</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;label&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The label&quot;</span>},</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>                            }},</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>                        }},</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>                    }</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>                },</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listaddressgroupings&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;listaddressgroupings&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>                },</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>{</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span> </div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span> </div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span> </div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> jsonGroupings(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>    std::map&lt;CTxDestination, CAmount&gt; balances = <a class="code hl_function" href="receive_8cpp.html#a2fcd92e95673fc169acdedd294467723">GetAddressBalances</a>(*pwallet);</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::set&lt;CTxDestination&gt;&amp; grouping : <a class="code hl_function" href="receive_8cpp.html#a13b4267a5b8a64f78841c3e7f481ddbc">GetAddressGroupings</a>(*pwallet)) {</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>        <a class="code hl_class" href="class_uni_value.html">UniValue</a> jsonGrouping(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a>&amp; address : grouping)</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>        {</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>            <a class="code hl_class" href="class_uni_value.html">UniValue</a> addressInfo(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>            addressInfo.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(<a class="code hl_function" href="key__io_8cpp.html#a69b845c325e6bf516251cd3a67fe1df7">EncodeDestination</a>(address));</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>            addressInfo.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(<a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(balances[address]));</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>            {</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>                <span class="keyword">const</span> <span class="keyword">auto</span>* address_book_entry = pwallet-&gt;FindAddressBookEntry(address);</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>                <span class="keywordflow">if</span> (address_book_entry) {</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>                    addressInfo.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(address_book_entry-&gt;GetLabel());</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>                }</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>            }</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>            jsonGrouping.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(addressInfo);</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>        }</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>        jsonGroupings.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(jsonGrouping);</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    }</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    <span class="keywordflow">return</span> jsonGroupings;</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>},</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>    };</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>}</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span> </div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a7696abbf4e16991be606575b872fdbbe">  606</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a7696abbf4e16991be606575b872fdbbe">signmessage</a>()</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>{</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;signmessage&quot;</span>,</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>                <span class="stringliteral">&quot;\nSign a message with the private key of an address&quot;</span> +</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>        <a class="code hl_variable" href="rpcwallet_8cpp.html#af12e66dd08ab50e9dc1af62592a73f8f">HELP_REQUIRING_PASSPHRASE</a>,</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>                {</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>                    {<span class="stringliteral">&quot;address&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The bitcoin address to use for the private key.&quot;</span>},</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>                    {<span class="stringliteral">&quot;message&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The message to create a signature of.&quot;</span>},</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>                },</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;signature&quot;</span>, <span class="stringliteral">&quot;The signature of the message encoded in base 64&quot;</span></div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>                },</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>            <span class="stringliteral">&quot;\nUnlock the wallet for 30 seconds\n&quot;</span></div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;walletpassphrase&quot;</span>, <span class="stringliteral">&quot;\&quot;mypassphrase\&quot; 30&quot;</span>) +</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>            <span class="stringliteral">&quot;\nCreate the signature\n&quot;</span></div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;signmessage&quot;</span>, <span class="stringliteral">&quot;\&quot;1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\&quot; \&quot;my message\&quot;&quot;</span>) +</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>            <span class="stringliteral">&quot;\nVerify the signature\n&quot;</span></div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;verifymessage&quot;</span>, <span class="stringliteral">&quot;\&quot;1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\&quot; \&quot;signature\&quot; \&quot;my message\&quot;&quot;</span>) +</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>            <span class="stringliteral">&quot;\nAs a JSON-RPC call\n&quot;</span></div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;signmessage&quot;</span>, <span class="stringliteral">&quot;\&quot;1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\&quot;, \&quot;my message\&quot;&quot;</span>)</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>                },</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>{</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span> </div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span> </div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#a6272e8ec945c32ab0d3e27cb0eab078b">EnsureWalletIsUnlocked</a>(*pwallet);</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span> </div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>    std::string strAddress = request.params[0].get_str();</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>    std::string strMessage = request.params[1].get_str();</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span> </div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>    <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> dest = <a class="code hl_function" href="key__io_8cpp.html#ae9479724a35444166ba384a69e1f246c">DecodeDestination</a>(strAddress);</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="standard_8cpp.html#adb3a21e4afe9c672720b182ddc7cad7c">IsValidDestination</a>(dest)) {</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <span class="stringliteral">&quot;Invalid address&quot;</span>);</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    }</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span> </div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    <span class="keyword">const</span> <a class="code hl_struct" href="struct_p_k_hash.html">PKHash</a>* pkhash = std::get_if&lt;PKHash&gt;(&amp;dest);</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>    <span class="keywordflow">if</span> (!pkhash) {</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada7c63246a7c7bc5912d499fb117358506">RPC_TYPE_ERROR</a>, <span class="stringliteral">&quot;Address does not refer to key&quot;</span>);</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    }</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span> </div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    std::string signature;</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>    <a class="code hl_enumeration" href="message_8h.html#a5f6c064c16999f3c857affb9e4b99a1e">SigningResult</a> err = pwallet-&gt;SignMessage(strMessage, *pkhash, signature);</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>    <span class="keywordflow">if</span> (err == <a class="code hl_enumvalue" href="message_8h.html#a5f6c064c16999f3c857affb9e4b99a1ea5949069cd0ebd438f332cab590a1b073">SigningResult::SIGNING_FAILED</a>) {</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <a class="code hl_function" href="util_2message_8cpp.html#ab31473fff0976e80fcd67166175c0c16">SigningResultString</a>(err));</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err != <a class="code hl_enumvalue" href="message_8h.html#a5f6c064c16999f3c857affb9e4b99a1eae0aa021e21dddbd6d8cecec71e9cf564">SigningResult::OK</a>){</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <a class="code hl_function" href="util_2message_8cpp.html#ab31473fff0976e80fcd67166175c0c16">SigningResultString</a>(err));</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>    }</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span> </div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>    <span class="keywordflow">return</span> signature;</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>},</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>    };</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>}</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span> </div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a79c0af8881e05475fa73ee8836c50adb">  663</a></span><span class="keyword">static</span> <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a79c0af8881e05475fa73ee8836c50adb">GetReceived</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>, <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; params, <span class="keywordtype">bool</span> by_label) <a class="code hl_define" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.cs_wallet)</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>{</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    std::set&lt;CTxDestination&gt; address_set;</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span> </div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    <span class="keywordflow">if</span> (by_label) {</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>        <span class="comment">// Get the set of addresses assigned to label</span></div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>        std::string label = <a class="code hl_function" href="rpcwallet_8cpp.html#a0c4c4cfa68641156f1ddf4368da643e0">LabelFromValue</a>(params[0]);</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        address_set = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetLabelAddresses(label);</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        <span class="comment">// Get the address</span></div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>        <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> dest = <a class="code hl_function" href="key__io_8cpp.html#ae9479724a35444166ba384a69e1f246c">DecodeDestination</a>(params[0].get_str());</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="standard_8cpp.html#adb3a21e4afe9c672720b182ddc7cad7c">IsValidDestination</a>(dest)) {</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <span class="stringliteral">&quot;Invalid Bitcoin address&quot;</span>);</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>        }</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>        <a class="code hl_class" href="class_c_script.html">CScript</a> script_pub_key = <a class="code hl_function" href="standard_8cpp.html#ae40f28d3b46c21033f6ee1f1200d0321">GetScriptForDestination</a>(dest);</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>        <span class="keywordflow">if</span> (!<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.IsMine(script_pub_key)) {</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Address not found in wallet&quot;</span>);</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>        }</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>        address_set.insert(dest);</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    }</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span> </div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    <span class="comment">// Minimum confirmations</span></div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    <span class="keywordtype">int</span> min_depth = 1;</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>    <span class="keywordflow">if</span> (!params[1].isNull())</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>        min_depth = params[1].get_int();</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span> </div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    <span class="comment">// Tally</span></div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> amount = 0;</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::pair&lt;const uint256, CWalletTx&gt;&amp; wtx_pair : <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.mapWallet) {</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet_tx.html">CWalletTx</a>&amp; wtx = wtx_pair.second;</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>        <span class="keywordflow">if</span> (wtx.<a class="code hl_function" href="class_c_wallet_tx.html#aedd121a03fccf85c9b489cc1e0fbedcb">IsCoinBase</a>() || !<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.chain().checkFinalTx(*wtx.<a class="code hl_variable" href="class_c_wallet_tx.html#a18376883d956cd66d9082aecd5411606">tx</a>) || <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetTxDepthInMainChain(wtx) &lt; min_depth) {</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>        }</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span> </div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_c_tx_out.html">CTxOut</a>&amp; txout : wtx.<a class="code hl_variable" href="class_c_wallet_tx.html#a18376883d956cd66d9082aecd5411606">tx</a>-&gt;vout) {</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>            <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> address;</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="standard_8cpp.html#a951f7e601746ae076afdf3169ecca2fc">ExtractDestination</a>(txout.<a class="code hl_variable" href="class_c_tx_out.html#a25bf3f2f4befb22a6a0be45784fe57e2">scriptPubKey</a>, address) &amp;&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.IsMine(address) &amp;&amp; address_set.count(address)) {</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>                amount += txout.<a class="code hl_variable" href="class_c_tx_out.html#ab278ecef3817a972cb6bc5360d13f197">nValue</a>;</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>            }</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>        }</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    }</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span> </div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>    <span class="keywordflow">return</span> amount;</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>}</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span> </div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span> </div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#aab912e8d8ca42ed5bc8b1015efb546c5">  709</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#aab912e8d8ca42ed5bc8b1015efb546c5">getreceivedbyaddress</a>()</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>{</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;getreceivedbyaddress&quot;</span>,</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>                <span class="stringliteral">&quot;\nReturns the total amount received by the given address in transactions with at least minconf confirmations.\n&quot;</span>,</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>                {</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>                    {<span class="stringliteral">&quot;address&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The bitcoin address for transactions.&quot;</span>},</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>                    {<span class="stringliteral">&quot;minconf&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{1}, <span class="stringliteral">&quot;Only include transactions confirmed at least this many times.&quot;</span>},</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>                },</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;amount&quot;</span>, <span class="stringliteral">&quot;The total amount in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot; received at this address.&quot;</span></div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>                },</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>            <span class="stringliteral">&quot;\nThe amount from transactions with at least 1 confirmation\n&quot;</span></div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;getreceivedbyaddress&quot;</span>, <span class="stringliteral">&quot;\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot;&quot;</span>) +</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>            <span class="stringliteral">&quot;\nThe amount including unconfirmed transactions, zero confirmations\n&quot;</span></div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;getreceivedbyaddress&quot;</span>, <span class="stringliteral">&quot;\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot; 0&quot;</span>) +</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>            <span class="stringliteral">&quot;\nThe amount with at least 6 confirmations\n&quot;</span></div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;getreceivedbyaddress&quot;</span>, <span class="stringliteral">&quot;\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot; 6&quot;</span>) +</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>            <span class="stringliteral">&quot;\nAs a JSON-RPC call\n&quot;</span></div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;getreceivedbyaddress&quot;</span>, <span class="stringliteral">&quot;\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot;, 6&quot;</span>)</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>                },</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>{</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span> </div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span> </div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span> </div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(<a class="code hl_function" href="rpcwallet_8cpp.html#a79c0af8881e05475fa73ee8836c50adb">GetReceived</a>(*pwallet, request.params, <span class="comment">/* by_label */</span> <span class="keyword">false</span>));</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>},</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>    };</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>}</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span> </div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span> </div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#aac8d45f29c7be98149f954cf17f0a62e">  747</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#aac8d45f29c7be98149f954cf17f0a62e">getreceivedbylabel</a>()</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>{</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;getreceivedbylabel&quot;</span>,</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>                <span class="stringliteral">&quot;\nReturns the total amount received by addresses with &lt;label&gt; in transactions with at least [minconf] confirmations.\n&quot;</span>,</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>                {</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>                    {<span class="stringliteral">&quot;label&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The selected label, may be the default label using \&quot;\&quot;.&quot;</span>},</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>                    {<span class="stringliteral">&quot;minconf&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{1}, <span class="stringliteral">&quot;Only include transactions confirmed at least this many times.&quot;</span>},</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>                },</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;amount&quot;</span>, <span class="stringliteral">&quot;The total amount in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot; received for this label.&quot;</span></div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>                },</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>            <span class="stringliteral">&quot;\nAmount received by the default label with at least 1 confirmation\n&quot;</span></div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;getreceivedbylabel&quot;</span>, <span class="stringliteral">&quot;\&quot;\&quot;&quot;</span>) +</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>            <span class="stringliteral">&quot;\nAmount received at the tabby label including unconfirmed amounts with zero confirmations\n&quot;</span></div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;getreceivedbylabel&quot;</span>, <span class="stringliteral">&quot;\&quot;tabby\&quot; 0&quot;</span>) +</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>            <span class="stringliteral">&quot;\nThe amount with at least 6 confirmations\n&quot;</span></div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;getreceivedbylabel&quot;</span>, <span class="stringliteral">&quot;\&quot;tabby\&quot; 6&quot;</span>) +</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>            <span class="stringliteral">&quot;\nAs a JSON-RPC call\n&quot;</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;getreceivedbylabel&quot;</span>, <span class="stringliteral">&quot;\&quot;tabby\&quot;, 6&quot;</span>)</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>                },</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>{</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span> </div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span> </div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span> </div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(<a class="code hl_function" href="rpcwallet_8cpp.html#a79c0af8881e05475fa73ee8836c50adb">GetReceived</a>(*pwallet, request.params, <span class="comment">/* by_label */</span> <span class="keyword">true</span>));</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>},</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>    };</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>}</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span> </div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span> </div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#ac0a3d609eb5441015b886f8740498d8e">  785</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#ac0a3d609eb5441015b886f8740498d8e">getbalance</a>()</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>{</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;getbalance&quot;</span>,</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>                <span class="stringliteral">&quot;\nReturns the total available balance.\n&quot;</span></div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>                <span class="stringliteral">&quot;The available balance is what the wallet considers currently spendable, and is\n&quot;</span></div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>                <span class="stringliteral">&quot;thus affected by options which limit spendability such as -spendzeroconfchange.\n&quot;</span>,</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>                {</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>                    {<span class="stringliteral">&quot;dummy&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;Remains for backward compatibility. Must be excluded or set to \&quot;*\&quot;.&quot;</span>},</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>                    {<span class="stringliteral">&quot;minconf&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{0}, <span class="stringliteral">&quot;Only include transactions confirmed at least this many times.&quot;</span>},</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>                    {<span class="stringliteral">&quot;include_watchonly&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;true for watch-only wallets, otherwise false&quot;</span>}, <span class="stringliteral">&quot;Also include balance in watch-only addresses (see &#39;importaddress&#39;)&quot;</span>},</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>                    {<span class="stringliteral">&quot;avoid_reuse&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">true</span>}, <span class="stringliteral">&quot;(only available if avoid_reuse wallet flag is set) Do not include balance in dirty outputs; addresses are considered dirty if they have previously been used in a transaction.&quot;</span>},</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>                },</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;amount&quot;</span>, <span class="stringliteral">&quot;The total amount in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot; received for this wallet.&quot;</span></div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>                },</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>            <span class="stringliteral">&quot;\nThe total amount in the wallet with 0 or more confirmations\n&quot;</span></div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;getbalance&quot;</span>, <span class="stringliteral">&quot;&quot;</span>) +</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>            <span class="stringliteral">&quot;\nThe total amount in the wallet with at least 6 confirmations\n&quot;</span></div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;getbalance&quot;</span>, <span class="stringliteral">&quot;\&quot;*\&quot; 6&quot;</span>) +</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>            <span class="stringliteral">&quot;\nAs a JSON-RPC call\n&quot;</span></div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;getbalance&quot;</span>, <span class="stringliteral">&quot;\&quot;*\&quot;, 6&quot;</span>)</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>                },</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>{</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span> </div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span> </div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span> </div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; dummy_value = request.params[0];</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>    <span class="keywordflow">if</span> (!dummy_value.<a class="code hl_function" href="class_uni_value.html#a3661be0f5580daceb23e5338e3a0df22">isNull</a>() &amp;&amp; dummy_value.<a class="code hl_function" href="class_uni_value.html#a087ea6ccec615333371fa1aaf83ab7df">get_str</a>() != <span class="stringliteral">&quot;*&quot;</span>) {</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaa6700abd71966b878b5a383ef9f43fda">RPC_METHOD_DEPRECATED</a>, <span class="stringliteral">&quot;dummy first argument must be excluded or set to \&quot;*\&quot;.&quot;</span>);</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>    }</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span> </div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>    <span class="keywordtype">int</span> min_depth = 0;</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>    <span class="keywordflow">if</span> (!request.params[1].isNull()) {</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>        min_depth = request.params[1].get_int();</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>    }</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span> </div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>    <span class="keywordtype">bool</span> include_watchonly = <a class="code hl_function" href="rpcwallet_8cpp.html#a7733413a3ac3eed56889bde5ed0d1009">ParseIncludeWatchonly</a>(request.params[2], *pwallet);</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span> </div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    <span class="keywordtype">bool</span> avoid_reuse = <a class="code hl_function" href="rpcwallet_8cpp.html#ac77133fd3d7323c1982036503b630a0c">GetAvoidReuseFlag</a>(*pwallet, request.params[3]);</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span> </div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>    <span class="keyword">const</span> <span class="keyword">auto</span> bal = <a class="code hl_function" href="receive_8cpp.html#ae63a6c2dcc2042cb682e19c26b25b6d2">GetBalance</a>(*pwallet, min_depth, avoid_reuse);</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span> </div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(bal.m_mine_trusted + (include_watchonly ? bal.m_watchonly_trusted : 0));</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>},</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    };</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>}</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span> </div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a56614fc8dd41157efdfa54f694071309">  840</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a56614fc8dd41157efdfa54f694071309">getunconfirmedbalance</a>()</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>{</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;getunconfirmedbalance&quot;</span>,</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>                <span class="stringliteral">&quot;DEPRECATED\nIdentical to getbalances().mine.untrusted_pending\n&quot;</span>,</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>                {},</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;The balance&quot;</span>},</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{<span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>{</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span> </div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span> </div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span> </div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(<a class="code hl_function" href="receive_8cpp.html#ae63a6c2dcc2042cb682e19c26b25b6d2">GetBalance</a>(*pwallet).<a class="code hl_variable" href="struct_balance.html#afa09569931321b140df98f3130d40ec7">m_mine_untrusted_pending</a>);</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>},</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>    };</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>}</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span> </div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span> </div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#ada16fd07921b4b76e58fe09850196ce5">  864</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#ada16fd07921b4b76e58fe09850196ce5">sendmany</a>()</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>{</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;sendmany&quot;</span>,</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>                <span class="stringliteral">&quot;\nSend multiple times. Amounts are double-precision floating point numbers.&quot;</span> +</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>        <a class="code hl_variable" href="rpcwallet_8cpp.html#af12e66dd08ab50e9dc1af62592a73f8f">HELP_REQUIRING_PASSPHRASE</a>,</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>                {</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>                    {<span class="stringliteral">&quot;dummy&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;Must be set to \&quot;\&quot; for backwards compatibility.&quot;</span>, <span class="stringliteral">&quot;\&quot;\&quot;&quot;</span>},</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>                    {<span class="stringliteral">&quot;amounts&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a39fad5e2aa21550787e1e716ecc4829b">RPCArg::Type::OBJ_USER_KEYS</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The addresses and amounts&quot;</span>,</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>                        {</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>                            {<span class="stringliteral">&quot;address&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The bitcoin address is the key, the numeric amount (can be string) in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot; is the value&quot;</span>},</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>                        },</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>                    },</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>                    {<span class="stringliteral">&quot;minconf&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;Ignored dummy value&quot;</span>},</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>                    {<span class="stringliteral">&quot;comment&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;A comment&quot;</span>},</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>                    {<span class="stringliteral">&quot;subtractfeefrom&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;The addresses.\n&quot;</span></div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>                                       <span class="stringliteral">&quot;The fee will be equally deducted from the amount of each selected address.\n&quot;</span></div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>                                       <span class="stringliteral">&quot;Those recipients will receive less bitcoins than you enter in their corresponding amount field.\n&quot;</span></div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>                                       <span class="stringliteral">&quot;If no addresses are specified here, the sender pays the fee.&quot;</span>,</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>                        {</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>                            {<span class="stringliteral">&quot;address&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;Subtract fee from this address&quot;</span>},</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>                        },</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>                    },</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>                    {<span class="stringliteral">&quot;replaceable&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;wallet default&quot;</span>}, <span class="stringliteral">&quot;Allow this transaction to be replaced by a transaction with higher fees via BIP 125&quot;</span>},</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>                    {<span class="stringliteral">&quot;conf_target&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;wallet -txconfirmtarget&quot;</span>}, <span class="stringliteral">&quot;Confirmation target in blocks&quot;</span>},</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>                    {<span class="stringliteral">&quot;estimate_mode&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="stringliteral">&quot;unset&quot;</span>}, std::string() + <span class="stringliteral">&quot;The fee estimate mode, must be one of (case insensitive):\n&quot;</span></div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>            <span class="stringliteral">&quot;       \&quot;&quot;</span> + <a class="code hl_function" href="util_2fees_8cpp.html#a32fab8b174c9dcbab0d46d5ea4608a6b">FeeModes</a>(<span class="stringliteral">&quot;\&quot;\n\&quot;&quot;</span>) + <span class="stringliteral">&quot;\&quot;&quot;</span>},</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>                    {<span class="stringliteral">&quot;fee_rate&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;not set, fall back to wallet fee estimation&quot;</span>}, <span class="stringliteral">&quot;Specify a fee rate in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB.&quot;</span>},</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>                    {<span class="stringliteral">&quot;verbose&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;If true, return extra infomration about the transaction.&quot;</span>},</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>                },</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>                {</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>                    <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<span class="stringliteral">&quot;if verbose is not set or set to false&quot;</span>,</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>                        <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;txid&quot;</span>, <span class="stringliteral">&quot;The transaction id for the send. Only 1 transaction is created regardless of\n&quot;</span></div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>                <span class="stringliteral">&quot;the number of addresses.&quot;</span></div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>                    },</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>                    <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<span class="stringliteral">&quot;if verbose is set to true&quot;</span>,</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>                        <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>                        {</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;txid&quot;</span>, <span class="stringliteral">&quot;The transaction id for the send. Only 1 transaction is created regardless of\n&quot;</span></div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>                <span class="stringliteral">&quot;the number of addresses.&quot;</span>},</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;fee_reason&quot;</span>, <span class="stringliteral">&quot;The transaction fee reason.&quot;</span>}</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>                        },</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>                    },</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>                },</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>            <span class="stringliteral">&quot;\nSend two amounts to two different addresses:\n&quot;</span></div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;sendmany&quot;</span>, <span class="stringliteral">&quot;\&quot;\&quot; \&quot;{\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\\\&quot;:0.01,\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[1] + <span class="stringliteral">&quot;\\\&quot;:0.02}\&quot;&quot;</span>) +</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>            <span class="stringliteral">&quot;\nSend two amounts to two different addresses setting the confirmation and comment:\n&quot;</span></div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;sendmany&quot;</span>, <span class="stringliteral">&quot;\&quot;\&quot; \&quot;{\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\\\&quot;:0.01,\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[1] + <span class="stringliteral">&quot;\\\&quot;:0.02}\&quot; 6 \&quot;testing\&quot;&quot;</span>) +</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>            <span class="stringliteral">&quot;\nSend two amounts to two different addresses, subtract fee from amount:\n&quot;</span></div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;sendmany&quot;</span>, <span class="stringliteral">&quot;\&quot;\&quot; \&quot;{\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\\\&quot;:0.01,\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[1] + <span class="stringliteral">&quot;\\\&quot;:0.02}\&quot; 1 \&quot;\&quot; \&quot;[\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\\\&quot;,\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[1] + <span class="stringliteral">&quot;\\\&quot;]\&quot;&quot;</span>) +</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>            <span class="stringliteral">&quot;\nAs a JSON-RPC call\n&quot;</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;sendmany&quot;</span>, <span class="stringliteral">&quot;\&quot;\&quot;, {\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot;:0.01,\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[1] + <span class="stringliteral">&quot;\&quot;:0.02}, 6, \&quot;testing\&quot;&quot;</span>)</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>                },</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>{</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span> </div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span> </div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span> </div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>    <span class="keywordflow">if</span> (!request.params[0].isNull() &amp;&amp; !request.params[0].get_str().empty()) {</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Dummy value must be set to \&quot;\&quot;&quot;</span>);</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>    }</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> sendTo = request.params[1].<a class="code hl_function" href="class_uni_value.html#a49a6ac464f3c2d918e7379d3203c7337">get_obj</a>();</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span> </div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>    <a class="code hl_typedef" href="wallet_2transaction_8h.html#aaf509cb8d82c13c57426420ef68ced6a">mapValue_t</a> mapValue;</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>    <span class="keywordflow">if</span> (!request.params[3].isNull() &amp;&amp; !request.params[3].get_str().empty())</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>        mapValue[<span class="stringliteral">&quot;comment&quot;</span>] = request.params[3].<a class="code hl_function" href="class_uni_value.html#a087ea6ccec615333371fa1aaf83ab7df">get_str</a>();</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span> </div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> subtractFeeFromAmount(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>    <span class="keywordflow">if</span> (!request.params[4].isNull())</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>        subtractFeeFromAmount = request.params[4].<a class="code hl_function" href="class_uni_value.html#aa9751b5797cb84d15b9fe4ca217f0b63">get_array</a>();</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span> </div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>    <a class="code hl_class" href="class_c_coin_control.html">CCoinControl</a> coin_control;</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>    <span class="keywordflow">if</span> (!request.params[5].isNull()) {</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>        coin_control.<a class="code hl_variable" href="class_c_coin_control.html#a234604093ad4de5c6a19d39bc2fe7b19">m_signal_bip125_rbf</a> = request.params[5].get_bool();</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>    }</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span> </div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#a0bb19f5cd785f6f02d0169af7396c06b">SetFeeEstimateMode</a>(*pwallet, coin_control, <span class="comment">/* conf_target */</span> request.params[6], <span class="comment">/* estimate_mode */</span> request.params[7], <span class="comment">/* fee_rate */</span> request.params[8], <span class="comment">/* override_min_fee */</span> <span class="keyword">false</span>);</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span> </div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    std::vector&lt;CRecipient&gt; recipients;</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#ab9f378c9970704dec9d24d5532ceb1b3">ParseRecipients</a>(sendTo, subtractFeeFromAmount, recipients);</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> verbose{request.params[9].isNull() ? false : request.params[9].get_bool()};</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span> </div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="rpcwallet_8cpp.html#a51cdb564dc4951891a377203ea110cde">SendMoney</a>(*pwallet, coin_control, recipients, std::move(mapValue), verbose);</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>},</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>    };</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>}</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span> </div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span> </div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a3976c86f0965ecb3f9087b5b736db19a">  958</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a3976c86f0965ecb3f9087b5b736db19a">addmultisigaddress</a>()</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>{</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;addmultisigaddress&quot;</span>,</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>                <span class="stringliteral">&quot;\nAdd an nrequired-to-sign multisignature address to the wallet. Requires a new wallet backup.\n&quot;</span></div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>                <span class="stringliteral">&quot;Each key is a Bitcoin address or hex-encoded public key.\n&quot;</span></div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>                <span class="stringliteral">&quot;This functionality is only intended for use with non-watchonly addresses.\n&quot;</span></div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>                <span class="stringliteral">&quot;See `importaddress` for watchonly p2sh address support.\n&quot;</span></div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>                <span class="stringliteral">&quot;If &#39;label&#39; is specified, assign address to that label.\n&quot;</span>,</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>                {</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>                    {<span class="stringliteral">&quot;nrequired&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The number of required signatures out of the n keys or addresses.&quot;</span>},</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>                    {<span class="stringliteral">&quot;keys&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The bitcoin addresses or hex-encoded public keys&quot;</span>,</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>                        {</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>                            {<span class="stringliteral">&quot;key&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;bitcoin address or hex-encoded public key&quot;</span>},</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>                        },</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>                        },</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>                    {<span class="stringliteral">&quot;label&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;A label to assign the addresses to.&quot;</span>},</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>                    {<span class="stringliteral">&quot;address_type&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;set by -addresstype&quot;</span>}, <span class="stringliteral">&quot;The address type to use. Options are \&quot;legacy\&quot;, \&quot;p2sh-segwit\&quot;, and \&quot;bech32\&quot;.&quot;</span>},</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>                },</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>                    {</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;address&quot;</span>, <span class="stringliteral">&quot;The value of the new multisig address&quot;</span>},</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;redeemScript&quot;</span>, <span class="stringliteral">&quot;The string value of the hex-encoded redemption script&quot;</span>},</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;descriptor&quot;</span>, <span class="stringliteral">&quot;The descriptor for this multisig&quot;</span>},</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>                    }</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>                },</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>            <span class="stringliteral">&quot;\nAdd a multisig address from 2 addresses\n&quot;</span></div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;addmultisigaddress&quot;</span>, <span class="stringliteral">&quot;2 \&quot;[\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\\\&quot;,\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[1] + <span class="stringliteral">&quot;\\\&quot;]\&quot;&quot;</span>) +</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>            <span class="stringliteral">&quot;\nAs a JSON-RPC call\n&quot;</span></div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;addmultisigaddress&quot;</span>, <span class="stringliteral">&quot;2, \&quot;[\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\\\&quot;,\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[1] + <span class="stringliteral">&quot;\\\&quot;]\&quot;&quot;</span>)</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>                },</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>{</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span> </div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>    <a class="code hl_class" href="class_legacy_script_pub_key_man.html">LegacyScriptPubKeyMan</a>&amp; spk_man = <a class="code hl_function" href="rpcwallet_8cpp.html#a6adff0544f801c37e53785b00d827fa8">EnsureLegacyScriptPubKeyMan</a>(*pwallet);</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span> </div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>    <a class="code hl_define" href="sync_8h.html#a35644e2b75a93da0cb0f6c768f34efa8">LOCK2</a>(pwallet-&gt;cs_wallet, spk_man.<a class="code hl_variable" href="class_fillable_signing_provider.html#af746182753c4b86ce00d101422ea6027">cs_KeyStore</a>);</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span> </div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>    std::string label;</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>    <span class="keywordflow">if</span> (!request.params[2].isNull())</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>        label = <a class="code hl_function" href="rpcwallet_8cpp.html#a0c4c4cfa68641156f1ddf4368da643e0">LabelFromValue</a>(request.params[2]);</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span> </div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>    <span class="keywordtype">int</span> required = request.params[0].get_int();</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span> </div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>    <span class="comment">// Get the public keys</span></div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; keys_or_addrs = request.params[1].<a class="code hl_function" href="class_uni_value.html#aa9751b5797cb84d15b9fe4ca217f0b63">get_array</a>();</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>    std::vector&lt;CPubKey&gt; pubkeys;</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; keys_or_addrs.<a class="code hl_function" href="class_uni_value.html#a5a7394aeb8d5584db7a90c2c041726b1">size</a>(); ++i) {</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="strencodings_8cpp.html#a9f23401f4b871ed693f7a96a9ba40c58">IsHex</a>(keys_or_addrs[i].get_str()) &amp;&amp; (keys_or_addrs[i].get_str().length() == 66 || keys_or_addrs[i].get_str().length() == 130)) {</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>            pubkeys.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(<a class="code hl_function" href="rpc_2util_8cpp.html#ac18ea86a874bf7841b716eca2b467746">HexToPubKey</a>(keys_or_addrs[i].get_str()));</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>            pubkeys.push_back(<a class="code hl_function" href="rpc_2util_8cpp.html#af86da2c2b86724988da653824124c798">AddrToPubKey</a>(spk_man, keys_or_addrs[i].get_str()));</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>        }</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>    }</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span> </div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>    <a class="code hl_enumeration" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3">OutputType</a> output_type = pwallet-&gt;m_default_address_type;</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>    <span class="keywordflow">if</span> (!request.params[3].isNull()) {</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>        std::optional&lt;OutputType&gt; parsed = <a class="code hl_function" href="outputtype_8cpp.html#a705d5e2a23104621d2a2f3ca85eda8da">ParseOutputType</a>(request.params[3].get_str());</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>        <span class="keywordflow">if</span> (!parsed) {</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;Unknown address type &#39;%s&#39;&quot;</span>, request.params[3].get_str()));</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (parsed.value() == <a class="code hl_enumvalue" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3ae5747421d490e83aa21f61eae1ae3778">OutputType::BECH32M</a>) {</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <span class="stringliteral">&quot;Bech32m multisig addresses cannot be created with legacy wallets&quot;</span>);</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>        }</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>        output_type = parsed.value();</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>    }</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span> </div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>    <span class="comment">// Construct using pay-to-script-hash:</span></div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>    <a class="code hl_class" href="class_c_script.html">CScript</a> inner;</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>    <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> dest = <a class="code hl_function" href="rpc_2util_8cpp.html#a2d8c4646d61f74ed875717d360d71791">AddAndGetMultisigDestination</a>(required, pubkeys, output_type, spk_man, inner);</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>    pwallet-&gt;SetAddressBook(dest, label, <span class="stringliteral">&quot;send&quot;</span>);</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span> </div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>    <span class="comment">// Make the descriptor</span></div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>    std::unique_ptr&lt;Descriptor&gt; descriptor = <a class="code hl_function" href="descriptor_8cpp.html#a496a25c1d88122782c2a426d38394f0a">InferDescriptor</a>(<a class="code hl_function" href="standard_8cpp.html#ae40f28d3b46c21033f6ee1f1200d0321">GetScriptForDestination</a>(dest), spk_man);</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span> </div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> result(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;address&quot;</span>, <a class="code hl_function" href="key__io_8cpp.html#a69b845c325e6bf516251cd3a67fe1df7">EncodeDestination</a>(dest));</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;redeemScript&quot;</span>, <a class="code hl_function" href="strencodings_8cpp.html#a16ace928e6a675ba31e23458c9149432">HexStr</a>(inner));</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;descriptor&quot;</span>, descriptor-&gt;ToString());</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>},</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>    };</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>}</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span> </div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"><a class="line" href="structtallyitem.html"> 1044</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structtallyitem.html">tallyitem</a></div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>{</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"><a class="line" href="structtallyitem.html#acc553807f036face8ef10eac9f277d79"> 1046</a></span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> <a class="code hl_variable" href="structtallyitem.html#acc553807f036face8ef10eac9f277d79">nAmount</a>{0};</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"><a class="line" href="structtallyitem.html#a3b2facf2b1290561c5eabb22bc26c22d"> 1047</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structtallyitem.html#a3b2facf2b1290561c5eabb22bc26c22d">nConf</a>{std::numeric_limits&lt;int&gt;::max()};</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"><a class="line" href="structtallyitem.html#a7193026721459b81fbef87b00dcc8390"> 1048</a></span>    std::vector&lt;uint256&gt; <a class="code hl_variable" href="structtallyitem.html#a7193026721459b81fbef87b00dcc8390">txids</a>;</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"><a class="line" href="structtallyitem.html#a9e7a70ef944206ebb0f3a394eba92673"> 1049</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structtallyitem.html#a9e7a70ef944206ebb0f3a394eba92673">fIsWatchonly</a>{<span class="keyword">false</span>};</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"><a class="line" href="structtallyitem.html#ae5422f8bac6178b3e7dd634d6bfc454c"> 1050</a></span>    <a class="code hl_function" href="structtallyitem.html#ae5422f8bac6178b3e7dd634d6bfc454c">tallyitem</a>()</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>    {</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>    }</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>};</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span> </div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#aa8ed1845d693eabd2eac752dc369b239"> 1055</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a> <a class="code hl_function" href="rpcwallet_8cpp.html#aa8ed1845d693eabd2eac752dc369b239">ListReceived</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>, <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; params, <span class="keywordtype">bool</span> by_label) <a class="code hl_define" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.cs_wallet)</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>{</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>    <span class="comment">// Minimum confirmations</span></div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>    <span class="keywordtype">int</span> nMinDepth = 1;</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>    <span class="keywordflow">if</span> (!params[0].isNull())</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>        nMinDepth = params[0].get_int();</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span> </div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>    <span class="comment">// Whether to include empty labels</span></div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>    <span class="keywordtype">bool</span> fIncludeEmpty = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>    <span class="keywordflow">if</span> (!params[1].isNull())</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>        fIncludeEmpty = params[1].get_bool();</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span> </div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>    <a class="code hl_typedef" href="interfaces_2wallet_8h.html#aaa5e1639d76aef50f70532acc3302c4b">isminefilter</a> filter = <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58">ISMINE_SPENDABLE</a>;</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span> </div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rpcwallet_8cpp.html#a7733413a3ac3eed56889bde5ed0d1009">ParseIncludeWatchonly</a>(params[2], <a class="code hl_namespace" href="namespacewallet.html">wallet</a>)) {</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>        filter |= <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29">ISMINE_WATCH_ONLY</a>;</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>    }</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span> </div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>    <span class="keywordtype">bool</span> has_filtered_address = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>    <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> filtered_address = <a class="code hl_class" href="class_c_no_destination.html">CNoDestination</a>();</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>    <span class="keywordflow">if</span> (!by_label &amp;&amp; params.size() &gt; 3) {</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="key__io_8cpp.html#a32169f8eb6ebcce6412b675f9d23d878">IsValidDestinationString</a>(params[3].get_str())) {</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;address_filter parameter was invalid&quot;</span>);</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>        }</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>        filtered_address = <a class="code hl_function" href="key__io_8cpp.html#ae9479724a35444166ba384a69e1f246c">DecodeDestination</a>(params[3].get_str());</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>        has_filtered_address = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>    }</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span> </div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    <span class="comment">// Tally</span></div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>    std::map&lt;CTxDestination, tallyitem&gt; mapTally;</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::pair&lt;const uint256, CWalletTx&gt;&amp; pairWtx : <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.mapWallet) {</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet_tx.html">CWalletTx</a>&amp; wtx = pairWtx.second;</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span> </div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>        <span class="keywordflow">if</span> (wtx.<a class="code hl_function" href="class_c_wallet_tx.html#aedd121a03fccf85c9b489cc1e0fbedcb">IsCoinBase</a>() || !<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.chain().checkFinalTx(*wtx.<a class="code hl_variable" href="class_c_wallet_tx.html#a18376883d956cd66d9082aecd5411606">tx</a>)) {</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>        }</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span> </div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>        <span class="keywordtype">int</span> nDepth = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetTxDepthInMainChain(wtx);</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>        <span class="keywordflow">if</span> (nDepth &lt; nMinDepth)</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span> </div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_c_tx_out.html">CTxOut</a>&amp; txout : wtx.<a class="code hl_variable" href="class_c_wallet_tx.html#a18376883d956cd66d9082aecd5411606">tx</a>-&gt;vout)</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>        {</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>            <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> address;</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="standard_8cpp.html#a951f7e601746ae076afdf3169ecca2fc">ExtractDestination</a>(txout.<a class="code hl_variable" href="class_c_tx_out.html#a25bf3f2f4befb22a6a0be45784fe57e2">scriptPubKey</a>, address))</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span> </div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>            <span class="keywordflow">if</span> (has_filtered_address &amp;&amp; !(filtered_address == address)) {</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>            }</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span> </div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>            <a class="code hl_typedef" href="interfaces_2wallet_8h.html#aaa5e1639d76aef50f70532acc3302c4b">isminefilter</a> mine = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.IsMine(address);</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>            <span class="keywordflow">if</span>(!(mine &amp; filter))</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span> </div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>            <a class="code hl_struct" href="structtallyitem.html">tallyitem</a>&amp; item = mapTally[address];</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>            item.<a class="code hl_variable" href="structtallyitem.html#acc553807f036face8ef10eac9f277d79">nAmount</a> += txout.<a class="code hl_variable" href="class_c_tx_out.html#ab278ecef3817a972cb6bc5360d13f197">nValue</a>;</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>            item.<a class="code hl_variable" href="structtallyitem.html#a3b2facf2b1290561c5eabb22bc26c22d">nConf</a> = std::min(item.<a class="code hl_variable" href="structtallyitem.html#a3b2facf2b1290561c5eabb22bc26c22d">nConf</a>, nDepth);</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>            item.<a class="code hl_variable" href="structtallyitem.html#a7193026721459b81fbef87b00dcc8390">txids</a>.push_back(wtx.<a class="code hl_function" href="class_c_wallet_tx.html#a8235bd17d83c9ed101ca88950ab922ef">GetHash</a>());</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>            <span class="keywordflow">if</span> (mine &amp; <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29">ISMINE_WATCH_ONLY</a>)</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>                item.<a class="code hl_variable" href="structtallyitem.html#a9e7a70ef944206ebb0f3a394eba92673">fIsWatchonly</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>        }</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>    }</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span> </div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>    <span class="comment">// Reply</span></div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> ret(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>    std::map&lt;std::string, tallyitem&gt; label_tally;</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span> </div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>    <span class="comment">// Create m_address_book iterator</span></div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>    <span class="comment">// If we aren&#39;t filtering, go from begin() to end()</span></div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>    <span class="keyword">auto</span> start = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.m_address_book.begin();</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>    <span class="keyword">auto</span> end = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.m_address_book.end();</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>    <span class="comment">// If we are filtering, find() the applicable entry</span></div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>    <span class="keywordflow">if</span> (has_filtered_address) {</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>        start = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.m_address_book.find(filtered_address);</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>        <span class="keywordflow">if</span> (start != end) {</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>            end = std::next(start);</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>        }</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>    }</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span> </div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> item_it = start; item_it != end; ++item_it)</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>    {</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>        <span class="keywordflow">if</span> (item_it-&gt;second.IsChange()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a>&amp; address = item_it-&gt;first;</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>        <span class="keyword">const</span> std::string&amp; label = item_it-&gt;second.GetLabel();</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>        <span class="keyword">auto</span> it = mapTally.find(address);</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>        <span class="keywordflow">if</span> (it == mapTally.end() &amp;&amp; !fIncludeEmpty)</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span> </div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>        <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nAmount = 0;</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>        <span class="keywordtype">int</span> nConf = std::numeric_limits&lt;int&gt;::max();</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>        <span class="keywordtype">bool</span> fIsWatchonly = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>        <span class="keywordflow">if</span> (it != mapTally.end())</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>        {</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>            nAmount = (*it).second.nAmount;</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>            nConf = (*it).second.nConf;</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>            fIsWatchonly = (*it).second.fIsWatchonly;</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>        }</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span> </div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>        <span class="keywordflow">if</span> (by_label)</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>        {</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>            <a class="code hl_struct" href="structtallyitem.html">tallyitem</a>&amp; _item = label_tally[label];</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>            _item.<a class="code hl_variable" href="structtallyitem.html#acc553807f036face8ef10eac9f277d79">nAmount</a> += nAmount;</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>            _item.<a class="code hl_variable" href="structtallyitem.html#a3b2facf2b1290561c5eabb22bc26c22d">nConf</a> = std::min(_item.<a class="code hl_variable" href="structtallyitem.html#a3b2facf2b1290561c5eabb22bc26c22d">nConf</a>, nConf);</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>            _item.<a class="code hl_variable" href="structtallyitem.html#a9e7a70ef944206ebb0f3a394eba92673">fIsWatchonly</a> = fIsWatchonly;</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>        }</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>        {</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>            <a class="code hl_class" href="class_uni_value.html">UniValue</a> obj(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>            <span class="keywordflow">if</span>(fIsWatchonly)</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>                obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;involvesWatchonly&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>            obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;address&quot;</span>,       <a class="code hl_function" href="key__io_8cpp.html#a69b845c325e6bf516251cd3a67fe1df7">EncodeDestination</a>(address));</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>            obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;amount&quot;</span>,        <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(nAmount));</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>            obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;confirmations&quot;</span>, (nConf == std::numeric_limits&lt;int&gt;::max() ? 0 : nConf));</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>            obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;label&quot;</span>, label);</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>            <a class="code hl_class" href="class_uni_value.html">UniValue</a> transactions(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>            <span class="keywordflow">if</span> (it != mapTally.end())</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>            {</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="classuint256.html">uint256</a>&amp; _item : (*it).second.txids)</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>                {</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>                    transactions.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(_item.<a class="code hl_function" href="classbase__blob.html#ad7263503f949fb3c6c520ebb1f28e378">GetHex</a>());</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>                }</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>            }</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>            obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;txids&quot;</span>, transactions);</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>            ret.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(obj);</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>        }</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>    }</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span> </div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>    <span class="keywordflow">if</span> (by_label)</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>    {</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; entry : label_tally)</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>        {</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>            <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nAmount = entry.second.nAmount;</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>            <span class="keywordtype">int</span> nConf = entry.second.nConf;</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>            <a class="code hl_class" href="class_uni_value.html">UniValue</a> obj(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>            <span class="keywordflow">if</span> (entry.second.fIsWatchonly)</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>                obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;involvesWatchonly&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>            obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;amount&quot;</span>,        <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(nAmount));</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>            obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;confirmations&quot;</span>, (nConf == std::numeric_limits&lt;int&gt;::max() ? 0 : nConf));</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>            obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;label&quot;</span>,         entry.first);</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>            ret.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(obj);</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>        }</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>    }</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span> </div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>}</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span> </div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#ad79e92d508ffcbe6b0aff45ce7716077"> 1202</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#ad79e92d508ffcbe6b0aff45ce7716077">listreceivedbyaddress</a>()</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>{</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;listreceivedbyaddress&quot;</span>,</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>                <span class="stringliteral">&quot;\nList balances by receiving address.\n&quot;</span>,</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>                {</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>                    {<span class="stringliteral">&quot;minconf&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{1}, <span class="stringliteral">&quot;The minimum number of confirmations before payments are included.&quot;</span>},</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>                    {<span class="stringliteral">&quot;include_empty&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;Whether to include addresses that haven&#39;t received any payments.&quot;</span>},</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>                    {<span class="stringliteral">&quot;include_watchonly&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;true for watch-only wallets, otherwise false&quot;</span>}, <span class="stringliteral">&quot;Whether to include watch-only addresses (see &#39;importaddress&#39;)&quot;</span>},</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>                    {<span class="stringliteral">&quot;address_filter&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;If present, only return information on this address.&quot;</span>},</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>                },</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>                    {</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>                        {</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;involvesWatchonly&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;Only returns true if imported addresses were involved in transaction&quot;</span>},</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;address&quot;</span>, <span class="stringliteral">&quot;The receiving address&quot;</span>},</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;amount&quot;</span>, <span class="stringliteral">&quot;The total amount in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot; received by the address&quot;</span>},</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;confirmations&quot;</span>, <span class="stringliteral">&quot;The number of confirmations of the most recent transaction included&quot;</span>},</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;label&quot;</span>, <span class="stringliteral">&quot;The label of the receiving address. The default label is \&quot;\&quot;&quot;</span>},</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;txids&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>                            {</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;txid&quot;</span>, <span class="stringliteral">&quot;The ids of transactions received with the address&quot;</span>},</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>                            }},</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>                        }},</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>                    }</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>                },</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listreceivedbyaddress&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listreceivedbyaddress&quot;</span>, <span class="stringliteral">&quot;6 true&quot;</span>)</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;listreceivedbyaddress&quot;</span>, <span class="stringliteral">&quot;6, true, true&quot;</span>)</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;listreceivedbyaddress&quot;</span>, <span class="stringliteral">&quot;6, true, true, \&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot;&quot;</span>)</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>                },</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>{</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span> </div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span> </div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span> </div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="rpcwallet_8cpp.html#aa8ed1845d693eabd2eac752dc369b239">ListReceived</a>(*pwallet, request.params, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>},</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>    };</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>}</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span> </div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a0b79e6f82c610a55d39c5e7b951201c0"> 1251</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a0b79e6f82c610a55d39c5e7b951201c0">listreceivedbylabel</a>()</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>{</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;listreceivedbylabel&quot;</span>,</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>                <span class="stringliteral">&quot;\nList received transactions by label.\n&quot;</span>,</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>                {</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>                    {<span class="stringliteral">&quot;minconf&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{1}, <span class="stringliteral">&quot;The minimum number of confirmations before payments are included.&quot;</span>},</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>                    {<span class="stringliteral">&quot;include_empty&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;Whether to include labels that haven&#39;t received any payments.&quot;</span>},</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>                    {<span class="stringliteral">&quot;include_watchonly&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;true for watch-only wallets, otherwise false&quot;</span>}, <span class="stringliteral">&quot;Whether to include watch-only addresses (see &#39;importaddress&#39;)&quot;</span>},</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>                },</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>                    {</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>                        {</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;involvesWatchonly&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;Only returns true if imported addresses were involved in transaction&quot;</span>},</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;amount&quot;</span>, <span class="stringliteral">&quot;The total amount received by addresses with this label&quot;</span>},</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;confirmations&quot;</span>, <span class="stringliteral">&quot;The number of confirmations of the most recent transaction included&quot;</span>},</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;label&quot;</span>, <span class="stringliteral">&quot;The label of the receiving address. The default label is \&quot;\&quot;&quot;</span>},</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>                        }},</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>                    }</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>                },</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listreceivedbylabel&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listreceivedbylabel&quot;</span>, <span class="stringliteral">&quot;6 true&quot;</span>)</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;listreceivedbylabel&quot;</span>, <span class="stringliteral">&quot;6, true, true&quot;</span>)</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>                },</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>{</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span> </div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span> </div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span> </div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="rpcwallet_8cpp.html#aa8ed1845d693eabd2eac752dc369b239">ListReceived</a>(*pwallet, request.params, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>},</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>    };</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>}</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span> </div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#ab482096dc1977bd9963a6010d329a382"> 1293</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="rpcwallet_8cpp.html#ab482096dc1977bd9963a6010d329a382">MaybePushAddress</a>(<a class="code hl_class" href="class_uni_value.html">UniValue</a> &amp; entry, <span class="keyword">const</span> <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> &amp;dest)</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>{</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="standard_8cpp.html#adb3a21e4afe9c672720b182ddc7cad7c">IsValidDestination</a>(dest)) {</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;address&quot;</span>, <a class="code hl_function" href="key__io_8cpp.html#a69b845c325e6bf516251cd3a67fe1df7">EncodeDestination</a>(dest));</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>    }</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>}</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span> </div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a75b7b7e52a7e30bf1ef59caa98919a9c"> 1311</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="rpcwallet_8cpp.html#a75b7b7e52a7e30bf1ef59caa98919a9c">ListTransactions</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>, <span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet_tx.html">CWalletTx</a>&amp; wtx, <span class="keywordtype">int</span> nMinDepth, <span class="keywordtype">bool</span> fLong, <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; ret, <span class="keyword">const</span> <a class="code hl_typedef" href="interfaces_2wallet_8h.html#aaa5e1639d76aef50f70532acc3302c4b">isminefilter</a>&amp; filter_ismine, <span class="keyword">const</span> std::string* filter_label) <a class="code hl_define" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.cs_wallet)</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>{</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nFee;</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>    std::list&lt;COutputEntry&gt; listReceived;</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>    std::list&lt;COutputEntry&gt; listSent;</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span> </div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>    <a class="code hl_function" href="receive_8cpp.html#a4941e02485cf7c24b8d85cf046325247">CachedTxGetAmounts</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>, wtx, listReceived, listSent, nFee, filter_ismine);</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span> </div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>    <span class="keywordtype">bool</span> involvesWatchonly = <a class="code hl_function" href="receive_8cpp.html#a0d8dfc02306ecf6c9ef066e6c9948a41">CachedTxIsFromMe</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>, wtx, <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29">ISMINE_WATCH_ONLY</a>);</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span> </div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>    <span class="comment">// Sent</span></div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>    <span class="keywordflow">if</span> (!filter_label)</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>    {</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_struct" href="struct_c_output_entry.html">COutputEntry</a>&amp; s : listSent)</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>        {</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>            <a class="code hl_class" href="class_uni_value.html">UniValue</a> entry(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>            <span class="keywordflow">if</span> (involvesWatchonly || (<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.IsMine(s.destination) &amp; <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29">ISMINE_WATCH_ONLY</a>)) {</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>                entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;involvesWatchonly&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>            }</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>            <a class="code hl_function" href="rpcwallet_8cpp.html#ab482096dc1977bd9963a6010d329a382">MaybePushAddress</a>(entry, s.destination);</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>            entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;category&quot;</span>, <span class="stringliteral">&quot;send&quot;</span>);</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>            entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;amount&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(-s.amount));</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>            <span class="keyword">const</span> <span class="keyword">auto</span>* address_book_entry = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.FindAddressBookEntry(s.destination);</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>            <span class="keywordflow">if</span> (address_book_entry) {</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>                entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;label&quot;</span>, address_book_entry-&gt;GetLabel());</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>            }</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>            entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;vout&quot;</span>, s.vout);</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>            entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;fee&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(-nFee));</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>            <span class="keywordflow">if</span> (fLong)</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>                <a class="code hl_function" href="rpcwallet_8cpp.html#ab230f4e7aebaea97da05183bc3bcfa03">WalletTxToJSON</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>, wtx, entry);</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>            entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;abandoned&quot;</span>, wtx.isAbandoned());</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>            ret.push_back(entry);</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>        }</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>    }</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span> </div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>    <span class="comment">// Received</span></div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>    <span class="keywordflow">if</span> (listReceived.size() &gt; 0 &amp;&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetTxDepthInMainChain(wtx) &gt;= nMinDepth) {</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_struct" href="struct_c_output_entry.html">COutputEntry</a>&amp; r : listReceived)</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>        {</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>            std::string label;</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>            <span class="keyword">const</span> <span class="keyword">auto</span>* address_book_entry = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.FindAddressBookEntry(r.destination);</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>            <span class="keywordflow">if</span> (address_book_entry) {</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>                label = address_book_entry-&gt;GetLabel();</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>            }</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>            <span class="keywordflow">if</span> (filter_label &amp;&amp; label != *filter_label) {</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>            }</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>            <a class="code hl_class" href="class_uni_value.html">UniValue</a> entry(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>            <span class="keywordflow">if</span> (involvesWatchonly || (<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.IsMine(r.destination) &amp; <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29">ISMINE_WATCH_ONLY</a>)) {</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>                entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;involvesWatchonly&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>            }</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>            <a class="code hl_function" href="rpcwallet_8cpp.html#ab482096dc1977bd9963a6010d329a382">MaybePushAddress</a>(entry, r.destination);</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>            <span class="keywordflow">if</span> (wtx.IsCoinBase())</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>            {</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>                <span class="keywordflow">if</span> (<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetTxDepthInMainChain(wtx) &lt; 1)</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>                    entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;category&quot;</span>, <span class="stringliteral">&quot;orphan&quot;</span>);</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.IsTxImmatureCoinBase(wtx))</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>                    entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;category&quot;</span>, <span class="stringliteral">&quot;immature&quot;</span>);</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>                    entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;category&quot;</span>, <span class="stringliteral">&quot;generate&quot;</span>);</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>            }</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>            {</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>                entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;category&quot;</span>, <span class="stringliteral">&quot;receive&quot;</span>);</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>            }</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>            entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;amount&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(r.amount));</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>            <span class="keywordflow">if</span> (address_book_entry) {</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>                entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;label&quot;</span>, label);</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>            }</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>            entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;vout&quot;</span>, r.vout);</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>            <span class="keywordflow">if</span> (fLong)</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>                <a class="code hl_function" href="rpcwallet_8cpp.html#ab230f4e7aebaea97da05183bc3bcfa03">WalletTxToJSON</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>, wtx, entry);</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>            ret.push_back(entry);</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>        }</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>    }</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>}</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span> </div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a1bdff293e51d01f82039a8e72f9b237d"> 1388</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;RPCResult&gt; <a class="code hl_function" href="rpcwallet_8cpp.html#a1bdff293e51d01f82039a8e72f9b237d">TransactionDescriptionString</a>()</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>{</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>    <span class="keywordflow">return</span>{{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;confirmations&quot;</span>, <span class="stringliteral">&quot;The number of confirmations for the transaction. Negative confirmations means the\n&quot;</span></div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>               <span class="stringliteral">&quot;transaction conflicted that many blocks ago.&quot;</span>},</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;generated&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;Only present if the transaction&#39;s only input is a coinbase one.&quot;</span>},</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;trusted&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;Whether we consider the transaction to be trusted and safe to spend from.\n&quot;</span></div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>                <span class="stringliteral">&quot;Only present when the transaction has 0 confirmations (or negative confirmations, if conflicted).&quot;</span>},</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;blockhash&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The block hash containing the transaction.&quot;</span>},</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;blockheight&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The block height containing the transaction.&quot;</span>},</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;blockindex&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The index of the transaction in the block that includes it.&quot;</span>},</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a420373841df076014d27fd869eab98dd">RPCResult::Type::NUM_TIME</a>, <span class="stringliteral">&quot;blocktime&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The block time expressed in &quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#aad676cc5fc482fffa78911b8d7d9d32d">UNIX_EPOCH_TIME</a> + <span class="stringliteral">&quot;.&quot;</span>},</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;txid&quot;</span>, <span class="stringliteral">&quot;The transaction id.&quot;</span>},</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;walletconflicts&quot;</span>, <span class="stringliteral">&quot;Conflicting transaction ids.&quot;</span>,</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>           {</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>               {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;txid&quot;</span>, <span class="stringliteral">&quot;The transaction id.&quot;</span>},</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>           }},</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;replaced_by_txid&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The txid if this tx was replaced.&quot;</span>},</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;replaces_txid&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The txid if the tx replaces one.&quot;</span>},</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;comment&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;to&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;If a comment to is associated with the transaction.&quot;</span>},</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a420373841df076014d27fd869eab98dd">RPCResult::Type::NUM_TIME</a>, <span class="stringliteral">&quot;time&quot;</span>, <span class="stringliteral">&quot;The transaction time expressed in &quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#aad676cc5fc482fffa78911b8d7d9d32d">UNIX_EPOCH_TIME</a> + <span class="stringliteral">&quot;.&quot;</span>},</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a420373841df076014d27fd869eab98dd">RPCResult::Type::NUM_TIME</a>, <span class="stringliteral">&quot;timereceived&quot;</span>, <span class="stringliteral">&quot;The time received expressed in &quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#aad676cc5fc482fffa78911b8d7d9d32d">UNIX_EPOCH_TIME</a> + <span class="stringliteral">&quot;.&quot;</span>},</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;comment&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;If a comment is associated with the transaction, only present if not empty.&quot;</span>},</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>           {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;bip125-replaceable&quot;</span>, <span class="stringliteral">&quot;(\&quot;yes|no|unknown\&quot;) Whether this transaction could be replaced due to BIP125 (replace-by-fee);\n&quot;</span></div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>               <span class="stringliteral">&quot;may be unknown for unconfirmed transactions not in the mempool.&quot;</span>}};</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>}</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span> </div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a491a9b1ea641869dad52fe793d1c6fba"> 1415</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a491a9b1ea641869dad52fe793d1c6fba">listtransactions</a>()</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>{</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;listtransactions&quot;</span>,</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>                <span class="stringliteral">&quot;\nIf a label name is provided, this will return only incoming transactions paying to addresses with the specified label.\n&quot;</span></div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>                <span class="stringliteral">&quot;\nReturns up to &#39;count&#39; most recent transactions skipping the first &#39;from&#39; transactions.\n&quot;</span>,</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>                {</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>                    {<span class="stringliteral">&quot;label|dummy&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;If set, should be a valid label name to return only incoming transactions\n&quot;</span></div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>                          <span class="stringliteral">&quot;with the specified label, or \&quot;*\&quot; to disable filtering and return all transactions.&quot;</span>},</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>                    {<span class="stringliteral">&quot;count&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{10}, <span class="stringliteral">&quot;The number of transactions to return&quot;</span>},</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>                    {<span class="stringliteral">&quot;skip&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{0}, <span class="stringliteral">&quot;The number of transactions to skip&quot;</span>},</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>                    {<span class="stringliteral">&quot;include_watchonly&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;true for watch-only wallets, otherwise false&quot;</span>}, <span class="stringliteral">&quot;Include transactions to watch-only addresses (see &#39;importaddress&#39;)&quot;</span>},</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>                },</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>                    {</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_function" href="vector_8h.html#a56f3051110695bb710625b2f90f09eb3">Cat</a>(<a class="code hl_function" href="vector_8h.html#a56f3051110695bb710625b2f90f09eb3">Cat</a>&lt;std::vector&lt;RPCResult&gt;&gt;(</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>                        {</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;involvesWatchonly&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;Only returns true if imported addresses were involved in transaction.&quot;</span>},</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;address&quot;</span>, <span class="stringliteral">&quot;The bitcoin address of the transaction.&quot;</span>},</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;category&quot;</span>, <span class="stringliteral">&quot;The transaction category.\n&quot;</span></div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>                                <span class="stringliteral">&quot;\&quot;send\&quot;                  Transactions sent.\n&quot;</span></div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>                                <span class="stringliteral">&quot;\&quot;receive\&quot;               Non-coinbase transactions received.\n&quot;</span></div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>                                <span class="stringliteral">&quot;\&quot;generate\&quot;              Coinbase transactions received with more than 100 confirmations.\n&quot;</span></div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>                                <span class="stringliteral">&quot;\&quot;immature\&quot;              Coinbase transactions received with 100 or fewer confirmations.\n&quot;</span></div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>                                <span class="stringliteral">&quot;\&quot;orphan\&quot;                Orphaned coinbase transactions received.&quot;</span>},</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;amount&quot;</span>, <span class="stringliteral">&quot;The amount in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;. This is negative for the &#39;send&#39; category, and is positive\n&quot;</span></div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>                                <span class="stringliteral">&quot;for all other categories&quot;</span>},</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;label&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;A comment for the address/transaction, if any&quot;</span>},</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;vout&quot;</span>, <span class="stringliteral">&quot;the vout value&quot;</span>},</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;fee&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The amount of the fee in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;. This is negative and only available for the\n&quot;</span></div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>                                 <span class="stringliteral">&quot;&#39;send&#39; category of transactions.&quot;</span>},</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>                        },</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>                        <a class="code hl_function" href="rpcwallet_8cpp.html#a1bdff293e51d01f82039a8e72f9b237d">TransactionDescriptionString</a>()),</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>                        {</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;abandoned&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;&#39;true&#39; if the transaction has been abandoned (inputs are respendable). Only available for the \n&quot;</span></div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>                                 <span class="stringliteral">&quot;&#39;send&#39; category of transactions.&quot;</span>},</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>                        })},</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>                    }</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>                },</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>            <span class="stringliteral">&quot;\nList the most recent 10 transactions in the systems\n&quot;</span></div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listtransactions&quot;</span>, <span class="stringliteral">&quot;&quot;</span>) +</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>            <span class="stringliteral">&quot;\nList transactions 100 to 120\n&quot;</span></div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listtransactions&quot;</span>, <span class="stringliteral">&quot;\&quot;*\&quot; 20 100&quot;</span>) +</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>            <span class="stringliteral">&quot;\nAs a JSON-RPC call\n&quot;</span></div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;listtransactions&quot;</span>, <span class="stringliteral">&quot;\&quot;*\&quot;, 20, 100&quot;</span>)</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>                },</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>{</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span> </div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span> </div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>    <span class="keyword">const</span> std::string* filter_label = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>    <span class="keywordflow">if</span> (!request.params[0].isNull() &amp;&amp; request.params[0].get_str() != <span class="stringliteral">&quot;*&quot;</span>) {</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>        filter_label = &amp;request.params[0].<a class="code hl_function" href="class_uni_value.html#a087ea6ccec615333371fa1aaf83ab7df">get_str</a>();</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>        <span class="keywordflow">if</span> (filter_label-&gt;empty()) {</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Label argument must be a valid label name or \&quot;*\&quot;.&quot;</span>);</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>        }</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>    }</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>    <span class="keywordtype">int</span> nCount = 10;</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>    <span class="keywordflow">if</span> (!request.params[1].isNull())</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>        nCount = request.params[1].get_int();</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>    <span class="keywordtype">int</span> nFrom = 0;</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>    <span class="keywordflow">if</span> (!request.params[2].isNull())</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>        nFrom = request.params[2].get_int();</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>    <a class="code hl_typedef" href="interfaces_2wallet_8h.html#aaa5e1639d76aef50f70532acc3302c4b">isminefilter</a> filter = <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58">ISMINE_SPENDABLE</a>;</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span> </div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rpcwallet_8cpp.html#a7733413a3ac3eed56889bde5ed0d1009">ParseIncludeWatchonly</a>(request.params[3], *pwallet)) {</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>        filter |= <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29">ISMINE_WATCH_ONLY</a>;</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>    }</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span> </div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>    <span class="keywordflow">if</span> (nCount &lt; 0)</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Negative count&quot;</span>);</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>    <span class="keywordflow">if</span> (nFrom &lt; 0)</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Negative from&quot;</span>);</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span> </div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> ret(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span> </div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>    {</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>        <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span> </div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="class_c_wallet.html#ab8ede771bb3f291d1d6795004c2b0b72">CWallet::TxItems</a> &amp; txOrdered = pwallet-&gt;wtxOrdered;</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span> </div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>        <span class="comment">// iterate backwards until we have nCount items to return:</span></div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>        <span class="keywordflow">for</span> (CWallet::TxItems::const_reverse_iterator it = txOrdered.rbegin(); it != txOrdered.rend(); ++it)</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>        {</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>            <a class="code hl_class" href="class_c_wallet_tx.html">CWalletTx</a> *<span class="keyword">const</span> pwtx = (*it).second;</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>            <a class="code hl_function" href="rpcwallet_8cpp.html#a75b7b7e52a7e30bf1ef59caa98919a9c">ListTransactions</a>(*pwallet, *pwtx, 0, <span class="keyword">true</span>, ret, filter, filter_label);</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>            <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)ret.<a class="code hl_function" href="class_uni_value.html#a5a7394aeb8d5584db7a90c2c041726b1">size</a>() &gt;= (nCount+nFrom)) <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>        }</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>    }</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span> </div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>    <span class="comment">// ret is newest to oldest</span></div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span> </div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>    <span class="keywordflow">if</span> (nFrom &gt; (<span class="keywordtype">int</span>)ret.<a class="code hl_function" href="class_uni_value.html#a5a7394aeb8d5584db7a90c2c041726b1">size</a>())</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>        nFrom = ret.<a class="code hl_function" href="class_uni_value.html#a5a7394aeb8d5584db7a90c2c041726b1">size</a>();</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>    <span class="keywordflow">if</span> ((nFrom + nCount) &gt; (<span class="keywordtype">int</span>)ret.<a class="code hl_function" href="class_uni_value.html#a5a7394aeb8d5584db7a90c2c041726b1">size</a>())</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>        nCount = ret.<a class="code hl_function" href="class_uni_value.html#a5a7394aeb8d5584db7a90c2c041726b1">size</a>() - nFrom;</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span> </div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>    <span class="keyword">const</span> std::vector&lt;UniValue&gt;&amp; txs = ret.<a class="code hl_function" href="class_uni_value.html#a60de76689de98b6c97ca723e280becf8">getValues</a>();</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> result{<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>};</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>    result.push_backV({ txs.rend() - nFrom - nCount, txs.rend() - nFrom }); <span class="comment">// Return oldest to newest</span></div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>},</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>    };</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>}</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span> </div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#ac9f38435a9ae9c1de873a411a232b509"> 1526</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#ac9f38435a9ae9c1de873a411a232b509">listsinceblock</a>()</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>{</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;listsinceblock&quot;</span>,</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>                <span class="stringliteral">&quot;\nGet all transactions in blocks since block [blockhash], or all transactions if omitted.\n&quot;</span></div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>                <span class="stringliteral">&quot;If \&quot;blockhash\&quot; is no longer a part of the main chain, transactions from the fork point onward are included.\n&quot;</span></div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>                <span class="stringliteral">&quot;Additionally, if include_removed is set, transactions affecting the wallet which were removed are returned in the \&quot;removed\&quot; array.\n&quot;</span>,</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>                {</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>                    {<span class="stringliteral">&quot;blockhash&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;If set, the block hash to list transactions since, otherwise list all transactions.&quot;</span>},</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>                    {<span class="stringliteral">&quot;target_confirmations&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{1}, <span class="stringliteral">&quot;Return the nth block hash from the main chain. e.g. 1 would mean the best block hash. Note: this is not used as a filter, but only affects [lastblock] in the return value&quot;</span>},</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>                    {<span class="stringliteral">&quot;include_watchonly&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;true for watch-only wallets, otherwise false&quot;</span>}, <span class="stringliteral">&quot;Include transactions to watch-only addresses (see &#39;importaddress&#39;)&quot;</span>},</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>                    {<span class="stringliteral">&quot;include_removed&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">true</span>}, <span class="stringliteral">&quot;Show transactions that were removed due to a reorg in the \&quot;removed\&quot; array\n&quot;</span></div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>                                                                       <span class="stringliteral">&quot;(not guaranteed to work on pruned nodes)&quot;</span>},</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>                },</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>                    {</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;transactions&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>                        {</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_function" href="vector_8h.html#a56f3051110695bb710625b2f90f09eb3">Cat</a>(<a class="code hl_function" href="vector_8h.html#a56f3051110695bb710625b2f90f09eb3">Cat</a>&lt;std::vector&lt;RPCResult&gt;&gt;(</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>                            {</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;involvesWatchonly&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;Only returns true if imported addresses were involved in transaction.&quot;</span>},</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;address&quot;</span>, <span class="stringliteral">&quot;The bitcoin address of the transaction.&quot;</span>},</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;category&quot;</span>, <span class="stringliteral">&quot;The transaction category.\n&quot;</span></div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>                                    <span class="stringliteral">&quot;\&quot;send\&quot;                  Transactions sent.\n&quot;</span></div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>                                    <span class="stringliteral">&quot;\&quot;receive\&quot;               Non-coinbase transactions received.\n&quot;</span></div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>                                    <span class="stringliteral">&quot;\&quot;generate\&quot;              Coinbase transactions received with more than 100 confirmations.\n&quot;</span></div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>                                    <span class="stringliteral">&quot;\&quot;immature\&quot;              Coinbase transactions received with 100 or fewer confirmations.\n&quot;</span></div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>                                    <span class="stringliteral">&quot;\&quot;orphan\&quot;                Orphaned coinbase transactions received.&quot;</span>},</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;amount&quot;</span>, <span class="stringliteral">&quot;The amount in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;. This is negative for the &#39;send&#39; category, and is positive\n&quot;</span></div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>                                    <span class="stringliteral">&quot;for all other categories&quot;</span>},</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;vout&quot;</span>, <span class="stringliteral">&quot;the vout value&quot;</span>},</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;fee&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The amount of the fee in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;. This is negative and only available for the\n&quot;</span></div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>                                     <span class="stringliteral">&quot;&#39;send&#39; category of transactions.&quot;</span>},</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>                            },</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>                            <a class="code hl_function" href="rpcwallet_8cpp.html#a1bdff293e51d01f82039a8e72f9b237d">TransactionDescriptionString</a>()),</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>                            {</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;abandoned&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;&#39;true&#39; if the transaction has been abandoned (inputs are respendable). Only available for the \n&quot;</span></div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>                                     <span class="stringliteral">&quot;&#39;send&#39; category of transactions.&quot;</span>},</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;label&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;A comment for the address/transaction, if any&quot;</span>},</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>                            })},</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>                        }},</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;removed&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;&lt;structure is the same as \&quot;transactions\&quot; above, only present if include_removed=true&gt;\n&quot;</span></div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>                            <span class="stringliteral">&quot;Note: transactions that were re-added in the active chain will appear as-is in this array, and may thus have a positive confirmation count.&quot;</span></div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>                        , {{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a04fe69265c8043766766d58e5d14d8cc">RPCResult::Type::ELISION</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>},}},</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;lastblock&quot;</span>, <span class="stringliteral">&quot;The hash of the block (target_confirmations-1) from the best block on the main chain, or the genesis hash if the referenced block does not exist yet. This is typically used to feed back into listsinceblock the next time you call it. So you would generally use a target_confirmations of say 6, so you will be continually re-notified of transactions until they&#39;ve reached 6 confirmations plus any new ones&quot;</span>},</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>                    }</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>                },</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listsinceblock&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listsinceblock&quot;</span>, <span class="stringliteral">&quot;\&quot;000000000000000bacf66f7497b7dc45ef753ee9a7d38571037cdb1a57f663ad\&quot; 6&quot;</span>)</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;listsinceblock&quot;</span>, <span class="stringliteral">&quot;\&quot;000000000000000bacf66f7497b7dc45ef753ee9a7d38571037cdb1a57f663ad\&quot;, 6&quot;</span>)</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>                },</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>{</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span> </div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a> = *pwallet;</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>    <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span> </div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.cs_wallet);</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span> </div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>    std::optional&lt;int&gt; height;    <span class="comment">// Height of the specified block or the common ancestor, if the block provided was in a deactivated chain.</span></div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>    std::optional&lt;int&gt; altheight; <span class="comment">// Height of the specified block, even if it&#39;s in a deactivated chain.</span></div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>    <span class="keywordtype">int</span> target_confirms = 1;</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>    <a class="code hl_typedef" href="interfaces_2wallet_8h.html#aaa5e1639d76aef50f70532acc3302c4b">isminefilter</a> filter = <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58">ISMINE_SPENDABLE</a>;</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span> </div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>    <a class="code hl_class" href="classuint256.html">uint256</a> blockId;</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>    <span class="keywordflow">if</span> (!request.params[0].isNull() &amp;&amp; !request.params[0].get_str().empty()) {</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>        blockId = <a class="code hl_function" href="rpc_2util_8cpp.html#adb231eaeb57d26011655ee8aaa5315e2">ParseHashV</a>(request.params[0], <span class="stringliteral">&quot;blockhash&quot;</span>);</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>        height = <span class="keywordtype">int</span>{};</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>        altheight = <span class="keywordtype">int</span>{};</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>        <span class="keywordflow">if</span> (!<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.chain().findCommonAncestor(blockId, <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetLastBlockHash(), <span class="comment">/* ancestor out */</span> <a class="code hl_class" href="classinterfaces_1_1_found_block.html">FoundBlock</a>().height(*height), <span class="comment">/* blockId out */</span> <a class="code hl_class" href="classinterfaces_1_1_found_block.html">FoundBlock</a>().height(*altheight))) {</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <span class="stringliteral">&quot;Block not found&quot;</span>);</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>        }</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>    }</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span> </div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>    <span class="keywordflow">if</span> (!request.params[1].isNull()) {</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>        target_confirms = request.params[1].get_int();</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span> </div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>        <span class="keywordflow">if</span> (target_confirms &lt; 1) {</div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Invalid parameter&quot;</span>);</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>        }</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>    }</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span> </div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rpcwallet_8cpp.html#a7733413a3ac3eed56889bde5ed0d1009">ParseIncludeWatchonly</a>(request.params[2], <a class="code hl_namespace" href="namespacewallet.html">wallet</a>)) {</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>        filter |= <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29">ISMINE_WATCH_ONLY</a>;</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>    }</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span> </div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>    <span class="keywordtype">bool</span> include_removed = (request.params[3].isNull() || request.params[3].get_bool());</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span> </div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>    <span class="keywordtype">int</span> depth = height ? <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetLastBlockHeight() + 1 - *height : -1;</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span> </div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> transactions(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span> </div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::pair&lt;const uint256, CWalletTx&gt;&amp; pairWtx : <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.mapWallet) {</div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet_tx.html">CWalletTx</a>&amp; tx = pairWtx.second;</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span> </div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>        <span class="keywordflow">if</span> (depth == -1 || abs(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetTxDepthInMainChain(tx)) &lt; depth) {</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>            <a class="code hl_function" href="rpcwallet_8cpp.html#a75b7b7e52a7e30bf1ef59caa98919a9c">ListTransactions</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>, tx, 0, <span class="keyword">true</span>, transactions, filter, <span class="keyword">nullptr</span> <span class="comment">/* filter_label */</span>);</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>        }</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>    }</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span> </div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>    <span class="comment">// when a reorg&#39;d block is requested, we also list any relevant transactions</span></div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>    <span class="comment">// in the blocks of the chain that was detached</span></div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> removed(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>    <span class="keywordflow">while</span> (include_removed &amp;&amp; altheight &amp;&amp; *altheight &gt; *height) {</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>        <a class="code hl_class" href="class_c_block.html">CBlock</a> block;</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>        <span class="keywordflow">if</span> (!<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.chain().findBlock(blockId, <a class="code hl_class" href="classinterfaces_1_1_found_block.html">FoundBlock</a>().data(block)) || block.<a class="code hl_function" href="class_c_block_header.html#afb875dba7ce6e26c01509244e3cd950f">IsNull</a>()) {</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadad4f5ea69465f2a32fda9b9bf5e698803">RPC_INTERNAL_ERROR</a>, <span class="stringliteral">&quot;Can&#39;t read block from disk&quot;</span>);</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>        }</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_typedef" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a>&amp; tx : block.<a class="code hl_variable" href="class_c_block.html#a33fcab2e8b903f5be812c714cee42626">vtx</a>) {</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>            <span class="keyword">auto</span> it = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.mapWallet.find(tx-&gt;GetHash());</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>            <span class="keywordflow">if</span> (it != <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.mapWallet.end()) {</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>                <span class="comment">// We want all transactions regardless of confirmation count to appear here,</span></div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>                <span class="comment">// even negative confirmation ones, hence the big negative.</span></div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>                <a class="code hl_function" href="rpcwallet_8cpp.html#a75b7b7e52a7e30bf1ef59caa98919a9c">ListTransactions</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>, it-&gt;second, -100000000, <span class="keyword">true</span>, removed, filter, <span class="keyword">nullptr</span> <span class="comment">/* filter_label */</span>);</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>            }</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>        }</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>        blockId = block.<a class="code hl_variable" href="class_c_block_header.html#ad9b904df502d648309342e5e5b0949a6">hashPrevBlock</a>;</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>        --*altheight;</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>    }</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span> </div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>    <a class="code hl_class" href="classuint256.html">uint256</a> lastblock;</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>    target_confirms = std::min(target_confirms, <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetLastBlockHeight() + 1);</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>    <a class="code hl_define" href="check_8h.html#a46a3e27097aa5e94bbf62075bad7016f">CHECK_NONFATAL</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.chain().findAncestorByHeight(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetLastBlockHash(), <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetLastBlockHeight() + 1 - target_confirms, <a class="code hl_class" href="classinterfaces_1_1_found_block.html">FoundBlock</a>().hash(lastblock)));</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span> </div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> ret(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>    ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;transactions&quot;</span>, transactions);</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>    <span class="keywordflow">if</span> (include_removed) ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;removed&quot;</span>, removed);</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>    ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;lastblock&quot;</span>, lastblock.<a class="code hl_function" href="classbase__blob.html#ad7263503f949fb3c6c520ebb1f28e378">GetHex</a>());</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span> </div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>},</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>    };</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>}</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span> </div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a296deec16f9285e7b2f3676506f8a991"> 1665</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a296deec16f9285e7b2f3676506f8a991">gettransaction</a>()</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>{</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;gettransaction&quot;</span>,</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>                <span class="stringliteral">&quot;\nGet detailed information about in-wallet transaction &lt;txid&gt;\n&quot;</span>,</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>                {</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>                    {<span class="stringliteral">&quot;txid&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The transaction id&quot;</span>},</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>                    {<span class="stringliteral">&quot;include_watchonly&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;true for watch-only wallets, otherwise false&quot;</span>},</div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>                            <span class="stringliteral">&quot;Whether to include watch-only addresses in balance calculation and details[]&quot;</span>},</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>                    {<span class="stringliteral">&quot;verbose&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>},</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>                            <span class="stringliteral">&quot;Whether to include a `decoded` field containing the decoded transaction (equivalent to RPC decoderawtransaction)&quot;</span>},</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>                },</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_function" href="vector_8h.html#a56f3051110695bb710625b2f90f09eb3">Cat</a>(<a class="code hl_function" href="vector_8h.html#a56f3051110695bb710625b2f90f09eb3">Cat</a>&lt;std::vector&lt;RPCResult&gt;&gt;(</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>                    {</div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;amount&quot;</span>, <span class="stringliteral">&quot;The amount in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a>},</div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;fee&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The amount of the fee in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;. This is negative and only available for the\n&quot;</span></div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>                                     <span class="stringliteral">&quot;&#39;send&#39; category of transactions.&quot;</span>},</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>                    },</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>                    <a class="code hl_function" href="rpcwallet_8cpp.html#a1bdff293e51d01f82039a8e72f9b237d">TransactionDescriptionString</a>()),</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>                    {</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;details&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>                        {</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>                            {</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;involvesWatchonly&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;Only returns true if imported addresses were involved in transaction.&quot;</span>},</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;address&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The bitcoin address involved in the transaction.&quot;</span>},</div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;category&quot;</span>, <span class="stringliteral">&quot;The transaction category.\n&quot;</span></div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>                                    <span class="stringliteral">&quot;\&quot;send\&quot;                  Transactions sent.\n&quot;</span></div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>                                    <span class="stringliteral">&quot;\&quot;receive\&quot;               Non-coinbase transactions received.\n&quot;</span></div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>                                    <span class="stringliteral">&quot;\&quot;generate\&quot;              Coinbase transactions received with more than 100 confirmations.\n&quot;</span></div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>                                    <span class="stringliteral">&quot;\&quot;immature\&quot;              Coinbase transactions received with 100 or fewer confirmations.\n&quot;</span></div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>                                    <span class="stringliteral">&quot;\&quot;orphan\&quot;                Orphaned coinbase transactions received.&quot;</span>},</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;amount&quot;</span>, <span class="stringliteral">&quot;The amount in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a>},</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;label&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;A comment for the address/transaction, if any&quot;</span>},</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;vout&quot;</span>, <span class="stringliteral">&quot;the vout value&quot;</span>},</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;fee&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The amount of the fee in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;. This is negative and only available for the \n&quot;</span></div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>                                    <span class="stringliteral">&quot;&#39;send&#39; category of transactions.&quot;</span>},</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;abandoned&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;&#39;true&#39; if the transaction has been abandoned (inputs are respendable). Only available for the \n&quot;</span></div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>                                     <span class="stringliteral">&quot;&#39;send&#39; category of transactions.&quot;</span>},</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>                            }},</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>                        }},</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;hex&quot;</span>, <span class="stringliteral">&quot;Raw data for transaction&quot;</span>},</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;decoded&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The decoded transaction (only present when `verbose` is passed)&quot;</span>,</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>                        {</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a04fe69265c8043766766d58e5d14d8cc">RPCResult::Type::ELISION</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;Equivalent to the RPC decoderawtransaction method, or the RPC getrawtransaction method when `verbose` is passed.&quot;</span>},</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>                        }},</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>                    })</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>                },</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;gettransaction&quot;</span>, <span class="stringliteral">&quot;\&quot;1075db55d416d3ca199f55b6084e2115b9345e16c5cf302fc80e9d5fbf5d48d\&quot;&quot;</span>)</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;gettransaction&quot;</span>, <span class="stringliteral">&quot;\&quot;1075db55d416d3ca199f55b6084e2115b9345e16c5cf302fc80e9d5fbf5d48d\&quot; true&quot;</span>)</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;gettransaction&quot;</span>, <span class="stringliteral">&quot;\&quot;1075db55d416d3ca199f55b6084e2115b9345e16c5cf302fc80e9d5fbf5d48d\&quot; false true&quot;</span>)</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;gettransaction&quot;</span>, <span class="stringliteral">&quot;\&quot;1075db55d416d3ca199f55b6084e2115b9345e16c5cf302fc80e9d5fbf5d48d\&quot;&quot;</span>)</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>                },</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>{</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span> </div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span> </div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span> </div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>    <a class="code hl_class" href="classuint256.html">uint256</a> hash(<a class="code hl_function" href="rpc_2util_8cpp.html#adb231eaeb57d26011655ee8aaa5315e2">ParseHashV</a>(request.params[0], <span class="stringliteral">&quot;txid&quot;</span>));</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span> </div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>    <a class="code hl_typedef" href="interfaces_2wallet_8h.html#aaa5e1639d76aef50f70532acc3302c4b">isminefilter</a> filter = <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58">ISMINE_SPENDABLE</a>;</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span> </div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rpcwallet_8cpp.html#a7733413a3ac3eed56889bde5ed0d1009">ParseIncludeWatchonly</a>(request.params[1], *pwallet)) {</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>        filter |= <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29">ISMINE_WATCH_ONLY</a>;</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>    }</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span> </div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>    <span class="keywordtype">bool</span> verbose = request.params[2].isNull() ? false : request.params[2].get_bool();</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span> </div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> entry(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>    <span class="keyword">auto</span> it = pwallet-&gt;mapWallet.find(hash);</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>    <span class="keywordflow">if</span> (it == pwallet-&gt;mapWallet.end()) {</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <span class="stringliteral">&quot;Invalid or non-wallet transaction id&quot;</span>);</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>    }</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet_tx.html">CWalletTx</a>&amp; wtx = it-&gt;second;</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span> </div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nCredit = <a class="code hl_function" href="receive_8cpp.html#ac964a83b21374d6d8a94bdc36c4b83d4">CachedTxGetCredit</a>(*pwallet, wtx, filter);</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nDebit = <a class="code hl_function" href="receive_8cpp.html#abfb505bccc01a47840fa88332d242819">CachedTxGetDebit</a>(*pwallet, wtx, filter);</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nNet = nCredit - nDebit;</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nFee = (<a class="code hl_function" href="receive_8cpp.html#a0d8dfc02306ecf6c9ef066e6c9948a41">CachedTxIsFromMe</a>(*pwallet, wtx, filter) ? wtx.<a class="code hl_variable" href="class_c_wallet_tx.html#a18376883d956cd66d9082aecd5411606">tx</a>-&gt;GetValueOut() - nDebit : 0);</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span> </div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>    entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;amount&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(nNet - nFee));</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="receive_8cpp.html#a0d8dfc02306ecf6c9ef066e6c9948a41">CachedTxIsFromMe</a>(*pwallet, wtx, filter))</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;fee&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(nFee));</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span> </div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#ab230f4e7aebaea97da05183bc3bcfa03">WalletTxToJSON</a>(*pwallet, wtx, entry);</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span> </div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> details(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#a75b7b7e52a7e30bf1ef59caa98919a9c">ListTransactions</a>(*pwallet, wtx, 0, <span class="keyword">false</span>, details, filter, <span class="keyword">nullptr</span> <span class="comment">/* filter_label */</span>);</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>    entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;details&quot;</span>, details);</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span> </div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>    std::string strHex = <a class="code hl_function" href="core__io_8h.html#aadd59c0793b3ccee08ad1c3f4557c1c3">EncodeHexTx</a>(*wtx.<a class="code hl_variable" href="class_c_wallet_tx.html#a18376883d956cd66d9082aecd5411606">tx</a>, pwallet-&gt;chain().rpcSerializationFlags());</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>    entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;hex&quot;</span>, strHex);</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span> </div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>    <span class="keywordflow">if</span> (verbose) {</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>        <a class="code hl_class" href="class_uni_value.html">UniValue</a> decoded(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>        <a class="code hl_function" href="core__io_8h.html#aaf5886c6c92afeb399fb5c4dcf19db44">TxToUniv</a>(*wtx.<a class="code hl_variable" href="class_c_wallet_tx.html#a18376883d956cd66d9082aecd5411606">tx</a>, <a class="code hl_class" href="classuint256.html">uint256</a>(), decoded, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;decoded&quot;</span>, decoded);</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>    }</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span> </div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>    <span class="keywordflow">return</span> entry;</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>},</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>    };</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>}</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span> </div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#afdf1c02be806780e987dc291f421a173"> 1776</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#afdf1c02be806780e987dc291f421a173">abandontransaction</a>()</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>{</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;abandontransaction&quot;</span>,</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>                <span class="stringliteral">&quot;\nMark in-wallet transaction &lt;txid&gt; as abandoned\n&quot;</span></div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>                <span class="stringliteral">&quot;This will mark this transaction and all its in-wallet descendants as abandoned which will allow\n&quot;</span></div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>                <span class="stringliteral">&quot;for their inputs to be respent.  It can be used to replace \&quot;stuck\&quot; or evicted transactions.\n&quot;</span></div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>                <span class="stringliteral">&quot;It only works on transactions which are not included in a block and are not currently in the mempool.\n&quot;</span></div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>                <span class="stringliteral">&quot;It has no effect on transactions which are already abandoned.\n&quot;</span>,</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>                {</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>                    {<span class="stringliteral">&quot;txid&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The transaction id&quot;</span>},</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>                },</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ab50339a10e1de285ac99d4c3990b8693">RPCResult::Type::NONE</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;abandontransaction&quot;</span>, <span class="stringliteral">&quot;\&quot;1075db55d416d3ca199f55b6084e2115b9345e16c5cf302fc80e9d5fbf5d48d\&quot;&quot;</span>)</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;abandontransaction&quot;</span>, <span class="stringliteral">&quot;\&quot;1075db55d416d3ca199f55b6084e2115b9345e16c5cf302fc80e9d5fbf5d48d\&quot;&quot;</span>)</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>                },</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>{</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span> </div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span> </div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span> </div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>    <a class="code hl_class" href="classuint256.html">uint256</a> hash(<a class="code hl_function" href="rpc_2util_8cpp.html#adb231eaeb57d26011655ee8aaa5315e2">ParseHashV</a>(request.params[0], <span class="stringliteral">&quot;txid&quot;</span>));</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span> </div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>    <span class="keywordflow">if</span> (!pwallet-&gt;mapWallet.count(hash)) {</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <span class="stringliteral">&quot;Invalid or non-wallet transaction id&quot;</span>);</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>    }</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>    <span class="keywordflow">if</span> (!pwallet-&gt;AbandonTransaction(hash)) {</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <span class="stringliteral">&quot;Transaction not eligible for abandonment&quot;</span>);</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>    }</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span> </div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>},</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>    };</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>}</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span> </div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span> </div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#ab2100b77e178132587a7b08aa8e728d4"> 1818</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#ab2100b77e178132587a7b08aa8e728d4">backupwallet</a>()</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>{</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;backupwallet&quot;</span>,</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>                <span class="stringliteral">&quot;\nSafely copies current wallet file to destination, which can be a directory or a path with filename.\n&quot;</span>,</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>                {</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>                    {<span class="stringliteral">&quot;destination&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The destination directory or file&quot;</span>},</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>                },</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ab50339a10e1de285ac99d4c3990b8693">RPCResult::Type::NONE</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;backupwallet&quot;</span>, <span class="stringliteral">&quot;\&quot;backup.dat\&quot;&quot;</span>)</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;backupwallet&quot;</span>, <span class="stringliteral">&quot;\&quot;backup.dat\&quot;&quot;</span>)</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>                },</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>{</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span> </div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span> </div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span> </div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>    std::string strDest = request.params[0].get_str();</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>    <span class="keywordflow">if</span> (!pwallet-&gt;BackupWallet(strDest)) {</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Error: Wallet backup failed!&quot;</span>);</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>    }</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span> </div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>},</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>    };</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>}</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span> </div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span> </div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a7288922c50760f2fd2e73e6ae486975e"> 1852</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a7288922c50760f2fd2e73e6ae486975e">keypoolrefill</a>()</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>{</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;keypoolrefill&quot;</span>,</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>                <span class="stringliteral">&quot;\nFills the keypool.&quot;</span>+</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>        <a class="code hl_variable" href="rpcwallet_8cpp.html#af12e66dd08ab50e9dc1af62592a73f8f">HELP_REQUIRING_PASSPHRASE</a>,</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>                {</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>                    {<span class="stringliteral">&quot;newsize&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;%u, or as set by -keypool&quot;</span>, <a class="code hl_variable" href="scriptpubkeyman_8h.html#a63da8d3877972e02968c9d7f7156cf44">DEFAULT_KEYPOOL_SIZE</a>)}, <span class="stringliteral">&quot;The new keypool size&quot;</span>},</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>                },</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ab50339a10e1de285ac99d4c3990b8693">RPCResult::Type::NONE</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;keypoolrefill&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;keypoolrefill&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>                },</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>{</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span> </div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>    <span class="keywordflow">if</span> (pwallet-&gt;IsLegacy() &amp;&amp; pwallet-&gt;IsWalletFlagSet(<a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a47b6a219e3ca6733b2a251be3e5def86">WALLET_FLAG_DISABLE_PRIVATE_KEYS</a>)) {</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Error: Private keys are disabled for this wallet&quot;</span>);</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>    }</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span> </div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span> </div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>    <span class="comment">// 0 is interpreted by TopUpKeyPool() as the default keypool size given by -keypool</span></div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> kpSize = 0;</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>    <span class="keywordflow">if</span> (!request.params[0].isNull()) {</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>        <span class="keywordflow">if</span> (request.params[0].get_int() &lt; 0)</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Invalid parameter, expected valid size.&quot;</span>);</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>        kpSize = (<span class="keywordtype">unsigned</span> int)request.params[0].get_int();</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>    }</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span> </div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#a6272e8ec945c32ab0d3e27cb0eab078b">EnsureWalletIsUnlocked</a>(*pwallet);</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>    pwallet-&gt;TopUpKeyPool(kpSize);</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span> </div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>    <span class="keywordflow">if</span> (pwallet-&gt;GetKeyPoolSize() &lt; kpSize) {</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Error refreshing keypool.&quot;</span>);</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>    }</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span> </div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>},</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>    };</div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>}</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span> </div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span> </div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a96ffd73d54a0c6a3936ac3d5fbcd82e2"> 1897</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a96ffd73d54a0c6a3936ac3d5fbcd82e2">newkeypool</a>()</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>{</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;newkeypool&quot;</span>,</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>                <span class="stringliteral">&quot;\nEntirely clears and refills the keypool.&quot;</span>+</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>            <a class="code hl_variable" href="rpcwallet_8cpp.html#af12e66dd08ab50e9dc1af62592a73f8f">HELP_REQUIRING_PASSPHRASE</a>,</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>                {},</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ab50339a10e1de285ac99d4c3990b8693">RPCResult::Type::NONE</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>            <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;newkeypool&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;newkeypool&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>                },</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>{</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span> </div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span> </div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>    <a class="code hl_class" href="class_legacy_script_pub_key_man.html">LegacyScriptPubKeyMan</a>&amp; spk_man = <a class="code hl_function" href="rpcwallet_8cpp.html#a6adff0544f801c37e53785b00d827fa8">EnsureLegacyScriptPubKeyMan</a>(*pwallet, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>    spk_man.<a class="code hl_function" href="class_legacy_script_pub_key_man.html#ab50971b7c07a1814423218b10dbf3b56">NewKeyPool</a>();</div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span> </div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>},</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>    };</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>}</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span> </div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span> </div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#aee52b8f06c4fa095a5652d8cbabe4faf"> 1924</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#aee52b8f06c4fa095a5652d8cbabe4faf">walletpassphrase</a>()</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>{</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;walletpassphrase&quot;</span>,</div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span>                <span class="stringliteral">&quot;\nStores the wallet decryption key in memory for &#39;timeout&#39; seconds.\n&quot;</span></div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>                <span class="stringliteral">&quot;This is needed prior to performing transactions related to private keys such as sending bitcoins\n&quot;</span></div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>            <span class="stringliteral">&quot;\nNote:\n&quot;</span></div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>            <span class="stringliteral">&quot;Issuing the walletpassphrase command while the wallet is already unlocked will set a new unlock\n&quot;</span></div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>            <span class="stringliteral">&quot;time that overrides the old one.\n&quot;</span>,</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>                {</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>                    {<span class="stringliteral">&quot;passphrase&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The wallet passphrase&quot;</span>},</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>                    {<span class="stringliteral">&quot;timeout&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The time to keep the decryption key in seconds; capped at 100000000 (~3 years).&quot;</span>},</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>                },</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ab50339a10e1de285ac99d4c3990b8693">RPCResult::Type::NONE</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>            <span class="stringliteral">&quot;\nUnlock the wallet for 60 seconds\n&quot;</span></div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;walletpassphrase&quot;</span>, <span class="stringliteral">&quot;\&quot;my pass phrase\&quot; 60&quot;</span>) +</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>            <span class="stringliteral">&quot;\nLock the wallet again (before 60 seconds)\n&quot;</span></div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;walletlock&quot;</span>, <span class="stringliteral">&quot;&quot;</span>) +</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>            <span class="stringliteral">&quot;\nAs a JSON-RPC call\n&quot;</span></div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;walletpassphrase&quot;</span>, <span class="stringliteral">&quot;\&quot;my pass phrase\&quot;, 60&quot;</span>)</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>                },</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>{</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> <a class="code hl_namespace" href="namespacewallet.html">wallet</a> = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>    <span class="keywordflow">if</span> (!<a class="code hl_namespace" href="namespacewallet.html">wallet</a>) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>    <a class="code hl_class" href="class_c_wallet.html">CWallet</a>* <span class="keyword">const</span> pwallet = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.get();</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span> </div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>    int64_t nSleepTime;</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>    int64_t relock_time;</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>    <span class="comment">// Prevent concurrent calls to walletpassphrase with the same wallet.</span></div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;<a class="code hl_variable" href="class_c_wallet.html#a1e6c1f101cbd1a34f7a779a9dbcfee50">m_unlock_mutex</a>);</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>    {</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>        <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;<a class="code hl_variable" href="class_c_wallet.html#a33ec4b30a0d711b3d8abe3de5bd1a06a">cs_wallet</a>);</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span> </div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>        <span class="keywordflow">if</span> (!pwallet-&gt;<a class="code hl_function" href="class_c_wallet.html#add676e643140c93d394bc01bc96f5cd9">IsCrypted</a>()) {</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada6aa5da515d4b7230dfeb65017b9fd38d">RPC_WALLET_WRONG_ENC_STATE</a>, <span class="stringliteral">&quot;Error: running with an unencrypted wallet, but walletpassphrase was called.&quot;</span>);</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>        }</div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span> </div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>        <span class="comment">// Note that the walletpassphrase is stored in request.params[0] which is not mlock()ed</span></div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span>        <a class="code hl_typedef" href="secure_8h.html#a396ed773a5ac24aec28c8f7dc413c7ac">SecureString</a> strWalletPass;</div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>        strWalletPass.reserve(100);</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>        <span class="comment">// TODO: get rid of this .c_str() by implementing SecureString::operator=(std::string)</span></div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>        <span class="comment">// Alternately, find a way to make request.params[0] mlock()&#39;d to begin with.</span></div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>        strWalletPass = request.params[0].get_str().c_str();</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span> </div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>        <span class="comment">// Get the timeout</span></div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>        nSleepTime = request.params[1].get_int64();</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span>        <span class="comment">// Timeout cannot be negative, otherwise it will relock immediately</span></div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>        <span class="keywordflow">if</span> (nSleepTime &lt; 0) {</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Timeout cannot be negative.&quot;</span>);</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>        }</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>        <span class="comment">// Clamp timeout</span></div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span>        <span class="keyword">constexpr</span> int64_t MAX_SLEEP_TIME = 100000000; <span class="comment">// larger values trigger a macos/libevent bug?</span></div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>        <span class="keywordflow">if</span> (nSleepTime &gt; MAX_SLEEP_TIME) {</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>            nSleepTime = MAX_SLEEP_TIME;</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span>        }</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span> </div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>        <span class="keywordflow">if</span> (strWalletPass.empty()) {</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;passphrase can not be empty&quot;</span>);</div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>        }</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span> </div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>        <span class="keywordflow">if</span> (!pwallet-&gt;<a class="code hl_function" href="class_c_wallet.html#a3935971cd92f8dc6c32acb2c6aa3edb5">Unlock</a>(strWalletPass)) {</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadae7f578c2ec4458c79250e204505dedcc">RPC_WALLET_PASSPHRASE_INCORRECT</a>, <span class="stringliteral">&quot;Error: The wallet passphrase entered was incorrect.&quot;</span>);</div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>        }</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span> </div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span>        pwallet-&gt;<a class="code hl_function" href="group___actions.html#ga9730278506e0a4f1c65239b951525b55">TopUpKeyPool</a>();</div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span> </div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>        pwallet-&gt;nRelockTime = <a class="code hl_function" href="time_8cpp.html#ad11e03a8d791f8cafff278a2c7de8c9a">GetTime</a>() + nSleepTime;</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>        relock_time = pwallet-&gt;nRelockTime;</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>    }</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span> </div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>    <span class="comment">// rpcRunLater must be called without cs_wallet held otherwise a deadlock</span></div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>    <span class="comment">// can occur. The deadlock would happen when RPCRunLater removes the</span></div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span>    <span class="comment">// previous timer (and waits for the callback to finish if already running)</span></div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span>    <span class="comment">// and the callback locks cs_wallet.</span></div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span>    <a class="code hl_define" href="sync_8h.html#a2bc429e4b3e667009b3aea3a6fab8e97">AssertLockNotHeld</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>-&gt;cs_wallet);</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>    <span class="comment">// Keep a weak pointer to the wallet so that it is possible to unload the</span></div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span>    <span class="comment">// wallet before the following callback is called. If a valid shared pointer</span></div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>    <span class="comment">// is acquired in the callback then the wallet is still loaded.</span></div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>    std::weak_ptr&lt;CWallet&gt; weak_wallet = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>;</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span>    pwallet-&gt;<a class="code hl_function" href="class_c_wallet.html#a42ac51ccf4fc9598eff4a3ce8aff58df">chain</a>().<a class="code hl_function" href="classinterfaces_1_1_chain.html#a0219c6352071d6fc2ad93a4579242e29">rpcRunLater</a>(<a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;lockwallet(%s)&quot;</span>, pwallet-&gt;<a class="code hl_function" href="class_c_wallet.html#a8a7290b388218a1b2b0845d4d4779bad">GetName</a>()), [weak_wallet, relock_time] {</div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span>        if (auto shared_wallet = weak_wallet.lock()) {</div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>            LOCK(shared_wallet-&gt;cs_wallet);</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>            <span class="comment">// Skip if this is not the most recent rpcRunLater callback.</span></div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>            if (shared_wallet-&gt;nRelockTime != relock_time) return;</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>            shared_wallet-&gt;Lock();</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>            shared_wallet-&gt;nRelockTime = 0;</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>        }</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>    }, nSleepTime);</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span> </div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>},</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>    };</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>}</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span> </div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span> </div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a459e9be27fdb9b1353b555484f3321a7"> 2020</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a459e9be27fdb9b1353b555484f3321a7">walletpassphrasechange</a>()</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span>{</div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;walletpassphrasechange&quot;</span>,</div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>                <span class="stringliteral">&quot;\nChanges the wallet passphrase from &#39;oldpassphrase&#39; to &#39;newpassphrase&#39;.\n&quot;</span>,</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>                {</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>                    {<span class="stringliteral">&quot;oldpassphrase&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The current passphrase&quot;</span>},</div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span>                    {<span class="stringliteral">&quot;newpassphrase&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The new passphrase&quot;</span>},</div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>                },</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ab50339a10e1de285ac99d4c3990b8693">RPCResult::Type::NONE</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;walletpassphrasechange&quot;</span>, <span class="stringliteral">&quot;\&quot;old one\&quot; \&quot;new one\&quot;&quot;</span>)</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;walletpassphrasechange&quot;</span>, <span class="stringliteral">&quot;\&quot;old one\&quot;, \&quot;new one\&quot;&quot;</span>)</div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>                },</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span>{</div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span> </div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span> </div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>    <span class="keywordflow">if</span> (!pwallet-&gt;IsCrypted()) {</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada6aa5da515d4b7230dfeb65017b9fd38d">RPC_WALLET_WRONG_ENC_STATE</a>, <span class="stringliteral">&quot;Error: running with an unencrypted wallet, but walletpassphrasechange was called.&quot;</span>);</div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>    }</div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span> </div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>    <span class="comment">// TODO: get rid of these .c_str() calls by implementing SecureString::operator=(std::string)</span></div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>    <span class="comment">// Alternately, find a way to make request.params[0] mlock()&#39;d to begin with.</span></div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>    <a class="code hl_typedef" href="secure_8h.html#a396ed773a5ac24aec28c8f7dc413c7ac">SecureString</a> strOldWalletPass;</div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>    strOldWalletPass.reserve(100);</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>    strOldWalletPass = request.params[0].get_str().c_str();</div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span> </div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>    <a class="code hl_typedef" href="secure_8h.html#a396ed773a5ac24aec28c8f7dc413c7ac">SecureString</a> strNewWalletPass;</div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>    strNewWalletPass.reserve(100);</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span>    strNewWalletPass = request.params[1].get_str().c_str();</div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span> </div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span>    <span class="keywordflow">if</span> (strOldWalletPass.empty() || strNewWalletPass.empty()) {</div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;passphrase can not be empty&quot;</span>);</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>    }</div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span> </div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>    <span class="keywordflow">if</span> (!pwallet-&gt;ChangeWalletPassphrase(strOldWalletPass, strNewWalletPass)) {</div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadae7f578c2ec4458c79250e204505dedcc">RPC_WALLET_PASSPHRASE_INCORRECT</a>, <span class="stringliteral">&quot;Error: The wallet passphrase entered was incorrect.&quot;</span>);</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>    }</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span> </div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span>},</div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>    };</div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>}</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span> </div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span> </div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a08543a00801ff701888ea204c1fba857"> 2068</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a08543a00801ff701888ea204c1fba857">walletlock</a>()</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>{</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;walletlock&quot;</span>,</div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>                <span class="stringliteral">&quot;\nRemoves the wallet encryption key from memory, locking the wallet.\n&quot;</span></div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span>                <span class="stringliteral">&quot;After calling this method, you will need to call walletpassphrase again\n&quot;</span></div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>                <span class="stringliteral">&quot;before being able to call any methods which require the wallet to be unlocked.\n&quot;</span>,</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>                {},</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ab50339a10e1de285ac99d4c3990b8693">RPCResult::Type::NONE</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span>            <span class="stringliteral">&quot;\nSet the passphrase for 2 minutes to perform a transaction\n&quot;</span></div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;walletpassphrase&quot;</span>, <span class="stringliteral">&quot;\&quot;my pass phrase\&quot; 120&quot;</span>) +</div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>            <span class="stringliteral">&quot;\nPerform a send (requires passphrase set)\n&quot;</span></div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;sendtoaddress&quot;</span>, <span class="stringliteral">&quot;\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot; 1.0&quot;</span>) +</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>            <span class="stringliteral">&quot;\nClear the passphrase since we are done before 2 minutes is up\n&quot;</span></div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;walletlock&quot;</span>, <span class="stringliteral">&quot;&quot;</span>) +</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>            <span class="stringliteral">&quot;\nAs a JSON-RPC call\n&quot;</span></div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;walletlock&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span>                },</div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>{</div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span> </div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span> </div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>    <span class="keywordflow">if</span> (!pwallet-&gt;IsCrypted()) {</div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada6aa5da515d4b7230dfeb65017b9fd38d">RPC_WALLET_WRONG_ENC_STATE</a>, <span class="stringliteral">&quot;Error: running with an unencrypted wallet, but walletlock was called.&quot;</span>);</div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span>    }</div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span> </div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>    pwallet-&gt;Lock();</div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>    pwallet-&gt;nRelockTime = 0;</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span> </div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span>},</div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>    };</div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span>}</div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span> </div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span> </div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#ab0d26ca921b4d95334b156b3bbedd21d"> 2106</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#ab0d26ca921b4d95334b156b3bbedd21d">encryptwallet</a>()</div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span>{</div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;encryptwallet&quot;</span>,</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>                <span class="stringliteral">&quot;\nEncrypts the wallet with &#39;passphrase&#39;. This is for first time encryption.\n&quot;</span></div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>                <span class="stringliteral">&quot;After this, any calls that interact with private keys such as sending or signing \n&quot;</span></div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>                <span class="stringliteral">&quot;will require the passphrase to be set prior the making these calls.\n&quot;</span></div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>                <span class="stringliteral">&quot;Use the walletpassphrase call for this, and then walletlock call.\n&quot;</span></div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span>                <span class="stringliteral">&quot;If the wallet is already encrypted, use the walletpassphrasechange call.\n&quot;</span>,</div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span>                {</div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span>                    {<span class="stringliteral">&quot;passphrase&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The pass phrase to encrypt the wallet with. It must be at least 1 character, but should be long.&quot;</span>},</div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>                },</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;A string with further instructions&quot;</span>},</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>            <span class="stringliteral">&quot;\nEncrypt your wallet\n&quot;</span></div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;encryptwallet&quot;</span>, <span class="stringliteral">&quot;\&quot;my pass phrase\&quot;&quot;</span>) +</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span>            <span class="stringliteral">&quot;\nNow set the passphrase to use the wallet, such as for signing or sending bitcoin\n&quot;</span></div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;walletpassphrase&quot;</span>, <span class="stringliteral">&quot;\&quot;my pass phrase\&quot;&quot;</span>) +</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span>            <span class="stringliteral">&quot;\nNow we can do something like sign\n&quot;</span></div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;signmessage&quot;</span>, <span class="stringliteral">&quot;\&quot;address\&quot; \&quot;test message\&quot;&quot;</span>) +</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>            <span class="stringliteral">&quot;\nNow lock the wallet again by removing the passphrase\n&quot;</span></div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;walletlock&quot;</span>, <span class="stringliteral">&quot;&quot;</span>) +</div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>            <span class="stringliteral">&quot;\nAs a JSON-RPC call\n&quot;</span></div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;encryptwallet&quot;</span>, <span class="stringliteral">&quot;\&quot;my pass phrase\&quot;&quot;</span>)</div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>                },</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>{</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span> </div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span> </div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>    <span class="keywordflow">if</span> (pwallet-&gt;IsWalletFlagSet(<a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a47b6a219e3ca6733b2a251be3e5def86">WALLET_FLAG_DISABLE_PRIVATE_KEYS</a>)) {</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada796c728d5ec3fc308609494e1d608940">RPC_WALLET_ENCRYPTION_FAILED</a>, <span class="stringliteral">&quot;Error: wallet does not contain private keys, nothing to encrypt.&quot;</span>);</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>    }</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span> </div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>    <span class="keywordflow">if</span> (pwallet-&gt;IsCrypted()) {</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada6aa5da515d4b7230dfeb65017b9fd38d">RPC_WALLET_WRONG_ENC_STATE</a>, <span class="stringliteral">&quot;Error: running with an encrypted wallet, but encryptwallet was called.&quot;</span>);</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>    }</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span> </div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>    <span class="comment">// TODO: get rid of this .c_str() by implementing SecureString::operator=(std::string)</span></div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span>    <span class="comment">// Alternately, find a way to make request.params[0] mlock()&#39;d to begin with.</span></div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span>    <a class="code hl_typedef" href="secure_8h.html#a396ed773a5ac24aec28c8f7dc413c7ac">SecureString</a> strWalletPass;</div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span>    strWalletPass.reserve(100);</div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span>    strWalletPass = request.params[0].get_str().c_str();</div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span> </div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>    <span class="keywordflow">if</span> (strWalletPass.empty()) {</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;passphrase can not be empty&quot;</span>);</div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>    }</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span> </div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span>    <span class="keywordflow">if</span> (!pwallet-&gt;EncryptWallet(strWalletPass)) {</div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada796c728d5ec3fc308609494e1d608940">RPC_WALLET_ENCRYPTION_FAILED</a>, <span class="stringliteral">&quot;Error: Failed to encrypt the wallet.&quot;</span>);</div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>    }</div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span> </div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;wallet encrypted; The keypool has been flushed and a new HD seed was generated (if you are using HD). You need to make a new backup.&quot;</span>;</div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span>},</div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span>    };</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span>}</div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span> </div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a85381e7fa5317b50dc86a2dd87766c2f"> 2164</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a85381e7fa5317b50dc86a2dd87766c2f">lockunspent</a>()</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>{</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;lockunspent&quot;</span>,</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>                <span class="stringliteral">&quot;\nUpdates list of temporarily unspendable outputs.\n&quot;</span></div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>                <span class="stringliteral">&quot;Temporarily lock (unlock=false) or unlock (unlock=true) specified transaction outputs.\n&quot;</span></div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>                <span class="stringliteral">&quot;If no transaction outputs are specified when unlocking then all current locked transaction outputs are unlocked.\n&quot;</span></div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>                <span class="stringliteral">&quot;A locked transaction output will not be chosen by automatic coin selection, when spending bitcoins.\n&quot;</span></div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>                <span class="stringliteral">&quot;Manually selected coins are automatically unlocked.\n&quot;</span></div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>                <span class="stringliteral">&quot;Locks are stored in memory only, unless persistent=true, in which case they will be written to the\n&quot;</span></div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>                <span class="stringliteral">&quot;wallet database and loaded on node start. Unwritten (persistent=false) locks are always cleared\n&quot;</span></div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>                <span class="stringliteral">&quot;(by virtue of process exit) when a node stops or fails. Unlocking will clear both persistent and not.\n&quot;</span></div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>                <span class="stringliteral">&quot;Also see the listunspent call\n&quot;</span>,</div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>                {</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>                    {<span class="stringliteral">&quot;unlock&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;Whether to unlock (true) or lock (false) the specified transactions&quot;</span>},</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>                    {<span class="stringliteral">&quot;transactions&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>}, <span class="stringliteral">&quot;The transaction outputs and within each, the txid (string) vout (numeric).&quot;</span>,</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>                        {</div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>                            {<span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2af34d534adfb78a9e6432be4621a93eec">RPCArg::Type::OBJ</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>                                {</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>                                    {<span class="stringliteral">&quot;txid&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The transaction id&quot;</span>},</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>                                    {<span class="stringliteral">&quot;vout&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The output number&quot;</span>},</div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>                                },</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>                            },</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>                        },</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>                    },</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>                    {<span class="stringliteral">&quot;persistent&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;Whether to write/erase this lock in the wallet database, or keep the change in memory only. Ignored for unlocking.&quot;</span>},</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>                },</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;Whether the command was successful or not&quot;</span></div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>                },</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span>            <span class="stringliteral">&quot;\nList the unspent transactions\n&quot;</span></div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listunspent&quot;</span>, <span class="stringliteral">&quot;&quot;</span>) +</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>            <span class="stringliteral">&quot;\nLock an unspent transaction\n&quot;</span></div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;lockunspent&quot;</span>, <span class="stringliteral">&quot;false \&quot;[{\\\&quot;txid\\\&quot;:\\\&quot;a08e6907dbbd3d809776dbfc5d82e371b764ed838b5655e72f463568df1aadf0\\\&quot;,\\\&quot;vout\\\&quot;:1}]\&quot;&quot;</span>) +</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>            <span class="stringliteral">&quot;\nList the locked transactions\n&quot;</span></div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listlockunspent&quot;</span>, <span class="stringliteral">&quot;&quot;</span>) +</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>            <span class="stringliteral">&quot;\nUnlock the transaction again\n&quot;</span></div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;lockunspent&quot;</span>, <span class="stringliteral">&quot;true \&quot;[{\\\&quot;txid\\\&quot;:\\\&quot;a08e6907dbbd3d809776dbfc5d82e371b764ed838b5655e72f463568df1aadf0\\\&quot;,\\\&quot;vout\\\&quot;:1}]\&quot;&quot;</span>) +</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>            <span class="stringliteral">&quot;\nLock the transaction persistently in the wallet database\n&quot;</span></div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;lockunspent&quot;</span>, <span class="stringliteral">&quot;false \&quot;[{\\\&quot;txid\\\&quot;:\\\&quot;a08e6907dbbd3d809776dbfc5d82e371b764ed838b5655e72f463568df1aadf0\\\&quot;,\\\&quot;vout\\\&quot;:1}]\&quot; true&quot;</span>) +</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>            <span class="stringliteral">&quot;\nAs a JSON-RPC call\n&quot;</span></div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;lockunspent&quot;</span>, <span class="stringliteral">&quot;false, \&quot;[{\\\&quot;txid\\\&quot;:\\\&quot;a08e6907dbbd3d809776dbfc5d82e371b764ed838b5655e72f463568df1aadf0\\\&quot;,\\\&quot;vout\\\&quot;:1}]\&quot;&quot;</span>)</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>                },</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>{</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span> </div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span> </div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span> </div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>    <a class="code hl_function" href="rpc_2util_8cpp.html#a34ca526f05cc7f2281e634a5be48c121">RPCTypeCheckArgument</a>(request.params[0], <a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8">UniValue::VBOOL</a>);</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span> </div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>    <span class="keywordtype">bool</span> fUnlock = request.params[0].get_bool();</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span> </div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> persistent{request.params[2].isNull() ? false : request.params[2].get_bool()};</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span> </div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>    <span class="keywordflow">if</span> (request.params[1].isNull()) {</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>        <span class="keywordflow">if</span> (fUnlock) {</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>            <span class="keywordflow">if</span> (!pwallet-&gt;UnlockAllCoins())</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Unlocking coins failed&quot;</span>);</div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>        }</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>    }</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span> </div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>    <a class="code hl_function" href="rpc_2util_8cpp.html#a34ca526f05cc7f2281e634a5be48c121">RPCTypeCheckArgument</a>(request.params[1], <a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span> </div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; output_params = request.params[1];</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span> </div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>    <span class="comment">// Create and validate the COutPoints first.</span></div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span> </div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>    std::vector&lt;COutPoint&gt; outputs;</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>    outputs.reserve(output_params.<a class="code hl_function" href="class_uni_value.html#a5a7394aeb8d5584db7a90c2c041726b1">size</a>());</div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span> </div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx = 0; idx &lt; output_params.<a class="code hl_function" href="class_uni_value.html#a5a7394aeb8d5584db7a90c2c041726b1">size</a>(); idx++) {</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; o = output_params[idx].<a class="code hl_function" href="class_uni_value.html#a49a6ac464f3c2d918e7379d3203c7337">get_obj</a>();</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span> </div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>        <a class="code hl_function" href="rpc_2util_8cpp.html#aec45a2addcbf2231658dce8bbfbb792c">RPCTypeCheckObj</a>(o,</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>            {</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span>                {<span class="stringliteral">&quot;txid&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a7afa7b747615105024aab97ff5bf4d11">UniValue::VSTR</a>)},</div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>                {<span class="stringliteral">&quot;vout&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aba88a44dcdb6e3be0538d14997ff042b">UniValue::VNUM</a>)},</div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>            });</div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span> </div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>        <span class="keyword">const</span> <a class="code hl_class" href="classuint256.html">uint256</a> txid(<a class="code hl_function" href="rpc_2util_8cpp.html#ad4549aceb751d2ed900b3235d5342815">ParseHashO</a>(o, <span class="stringliteral">&quot;txid&quot;</span>));</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> nOutput = <a class="code hl_function" href="univalue_8h.html#ae351ab7e558baa27e42ccbcc2455cc67">find_value</a>(o, <span class="stringliteral">&quot;vout&quot;</span>).<a class="code hl_function" href="class_uni_value.html#af45edc6e67eaa6d1f271ce18e435a376">get_int</a>();</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>        <span class="keywordflow">if</span> (nOutput &lt; 0) {</div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Invalid parameter, vout cannot be negative&quot;</span>);</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>        }</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span> </div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_c_out_point.html">COutPoint</a> outpt(txid, nOutput);</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span> </div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>        <span class="keyword">const</span> <span class="keyword">auto</span> it = pwallet-&gt;mapWallet.find(outpt.<a class="code hl_variable" href="class_c_out_point.html#af131c7194a660558b0ff158f4efa7a28">hash</a>);</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>        <span class="keywordflow">if</span> (it == pwallet-&gt;mapWallet.end()) {</div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Invalid parameter, unknown transaction&quot;</span>);</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>        }</div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span> </div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet_tx.html">CWalletTx</a>&amp; trans = it-&gt;second;</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span> </div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>        <span class="keywordflow">if</span> (outpt.<a class="code hl_variable" href="class_c_out_point.html#a1b857e3a0412ff741da2c9f8defe315c">n</a> &gt;= trans.<a class="code hl_variable" href="class_c_wallet_tx.html#a18376883d956cd66d9082aecd5411606">tx</a>-&gt;vout.size()) {</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Invalid parameter, vout index out of bounds&quot;</span>);</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>        }</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span> </div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>        <span class="keywordflow">if</span> (pwallet-&gt;IsSpent(outpt.<a class="code hl_variable" href="class_c_out_point.html#af131c7194a660558b0ff158f4efa7a28">hash</a>, outpt.<a class="code hl_variable" href="class_c_out_point.html#a1b857e3a0412ff741da2c9f8defe315c">n</a>)) {</div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Invalid parameter, expected unspent output&quot;</span>);</div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>        }</div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span> </div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_locked = pwallet-&gt;IsLockedCoin(outpt.<a class="code hl_variable" href="class_c_out_point.html#af131c7194a660558b0ff158f4efa7a28">hash</a>, outpt.<a class="code hl_variable" href="class_c_out_point.html#a1b857e3a0412ff741da2c9f8defe315c">n</a>);</div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span> </div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>        <span class="keywordflow">if</span> (fUnlock &amp;&amp; !is_locked) {</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Invalid parameter, expected locked output&quot;</span>);</div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>        }</div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span> </div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span>        <span class="keywordflow">if</span> (!fUnlock &amp;&amp; is_locked &amp;&amp; !persistent) {</div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Invalid parameter, output already locked&quot;</span>);</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>        }</div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span> </div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>        outputs.push_back(outpt);</div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>    }</div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span> </div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>    std::unique_ptr&lt;WalletBatch&gt; batch = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span>    <span class="comment">// Unlock is always persistent</span></div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span>    <span class="keywordflow">if</span> (fUnlock || persistent) batch = std::make_unique&lt;WalletBatch&gt;(pwallet-&gt;GetDatabase());</div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span> </div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span>    <span class="comment">// Atomically set (un)locked status for the outputs.</span></div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_c_out_point.html">COutPoint</a>&amp; outpt : outputs) {</div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span>        <span class="keywordflow">if</span> (fUnlock) {</div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>            <span class="keywordflow">if</span> (!pwallet-&gt;UnlockCoin(outpt, batch.get())) <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Unlocking coin failed&quot;</span>);</div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>            <span class="keywordflow">if</span> (!pwallet-&gt;LockCoin(outpt, batch.get())) <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Locking coin failed&quot;</span>);</div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>        }</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>    }</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span> </div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>},</div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>    };</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>}</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span> </div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a5162280ace84bb5ea7da7cbeaa5beb8b"> 2304</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a5162280ace84bb5ea7da7cbeaa5beb8b">listlockunspent</a>()</div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>{</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;listlockunspent&quot;</span>,</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>                <span class="stringliteral">&quot;\nReturns list of temporarily unspendable outputs.\n&quot;</span></div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>                <span class="stringliteral">&quot;See the lockunspent call to lock and unlock transactions for spending.\n&quot;</span>,</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>                {},</div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>                    {</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>                        {</div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;txid&quot;</span>, <span class="stringliteral">&quot;The transaction id locked&quot;</span>},</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;vout&quot;</span>, <span class="stringliteral">&quot;The vout value&quot;</span>},</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>                        }},</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>                    }</div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>                },</div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>            <span class="stringliteral">&quot;\nList the unspent transactions\n&quot;</span></div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listunspent&quot;</span>, <span class="stringliteral">&quot;&quot;</span>) +</div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>            <span class="stringliteral">&quot;\nLock an unspent transaction\n&quot;</span></div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;lockunspent&quot;</span>, <span class="stringliteral">&quot;false \&quot;[{\\\&quot;txid\\\&quot;:\\\&quot;a08e6907dbbd3d809776dbfc5d82e371b764ed838b5655e72f463568df1aadf0\\\&quot;,\\\&quot;vout\\\&quot;:1}]\&quot;&quot;</span>) +</div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>            <span class="stringliteral">&quot;\nList the locked transactions\n&quot;</span></div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listlockunspent&quot;</span>, <span class="stringliteral">&quot;&quot;</span>) +</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>            <span class="stringliteral">&quot;\nUnlock the transaction again\n&quot;</span></div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;lockunspent&quot;</span>, <span class="stringliteral">&quot;true \&quot;[{\\\&quot;txid\\\&quot;:\\\&quot;a08e6907dbbd3d809776dbfc5d82e371b764ed838b5655e72f463568df1aadf0\\\&quot;,\\\&quot;vout\\\&quot;:1}]\&quot;&quot;</span>) +</div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>            <span class="stringliteral">&quot;\nAs a JSON-RPC call\n&quot;</span></div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;listlockunspent&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>                },</div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>{</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span> </div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span> </div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>    std::vector&lt;COutPoint&gt; vOutpts;</div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>    pwallet-&gt;ListLockedCoins(vOutpts);</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span> </div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> ret(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span> </div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_c_out_point.html">COutPoint</a>&amp; outpt : vOutpts) {</div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>        <a class="code hl_class" href="class_uni_value.html">UniValue</a> o(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span> </div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span>        o.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;txid&quot;</span>, outpt.hash.GetHex());</div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span>        o.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;vout&quot;</span>, (<span class="keywordtype">int</span>)outpt.n);</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>        ret.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(o);</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>    }</div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span> </div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>},</div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>    };</div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>}</div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span> </div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#acfc7a4149ac8f2c7dca4d1cda9f99bf8"> 2357</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#acfc7a4149ac8f2c7dca4d1cda9f99bf8">settxfee</a>()</div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span>{</div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;settxfee&quot;</span>,</div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>                <span class="stringliteral">&quot;\nSet the transaction fee rate in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;/kvB for this wallet. Overrides the global -paytxfee command line parameter.\n&quot;</span></div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span>                <span class="stringliteral">&quot;Can be deactivated by passing 0 as the fee. In that case automatic fee selection will be used by default.\n&quot;</span>,</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span>                {</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span>                    {<span class="stringliteral">&quot;amount&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The transaction fee rate in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;/kvB&quot;</span>},</div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>                },</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;Returns true if successful&quot;</span></div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span>                },</div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;settxfee&quot;</span>, <span class="stringliteral">&quot;0.00001&quot;</span>)</div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;settxfee&quot;</span>, <span class="stringliteral">&quot;0.00001&quot;</span>)</div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span>                },</div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>{</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span> </div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span> </div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nAmount = <a class="code hl_function" href="bitcoin-tx_8cpp.html#a58ca09453ed4aac5e1af948b1c6a241f">AmountFromValue</a>(request.params[0]);</div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span>    <a class="code hl_class" href="class_c_fee_rate.html">CFeeRate</a> tx_fee_rate(nAmount, 1000);</div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span>    <a class="code hl_class" href="class_c_fee_rate.html">CFeeRate</a> max_tx_fee_rate(pwallet-&gt;m_default_max_tx_fee, 1000);</div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span>    <span class="keywordflow">if</span> (tx_fee_rate == <a class="code hl_class" href="class_c_fee_rate.html">CFeeRate</a>(0)) {</div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>        <span class="comment">// automatic selection</span></div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tx_fee_rate &lt; pwallet-&gt;chain().relayMinFee()) {</div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;txfee cannot be less than min relay tx fee (%s)&quot;</span>, pwallet-&gt;chain().relayMinFee().ToString()));</div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tx_fee_rate &lt; pwallet-&gt;m_min_fee) {</div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;txfee cannot be less than wallet min fee (%s)&quot;</span>, pwallet-&gt;m_min_fee.ToString()));</div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tx_fee_rate &gt; max_tx_fee_rate) {</div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;txfee cannot be more than wallet max tx fee (%s)&quot;</span>, max_tx_fee_rate.<a class="code hl_function" href="class_c_fee_rate.html#a150357ec36fe517adf4a9876089c3a8e">ToString</a>()));</div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span>    }</div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span> </div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span>    pwallet-&gt;m_pay_tx_fee = tx_fee_rate;</div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span>},</div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span>    };</div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span>}</div>
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"> 2397</span> </div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a6d0ffd39214c1235368a33af1b085b81"> 2398</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a6d0ffd39214c1235368a33af1b085b81">getbalances</a>()</div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span>{</div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{</div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span>        <span class="stringliteral">&quot;getbalances&quot;</span>,</div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span>        <span class="stringliteral">&quot;Returns an object with all balances in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;.\n&quot;</span>,</div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span>        {},</div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span>        <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span>            <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"> 2406</span>            {</div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span>                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;mine&quot;</span>, <span class="stringliteral">&quot;balances from outputs that the wallet can sign&quot;</span>,</div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span>                {</div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span>                    {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;trusted&quot;</span>, <span class="stringliteral">&quot;trusted balance (outputs created by the wallet or confirmed outputs)&quot;</span>},</div>
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"> 2410</span>                    {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;untrusted_pending&quot;</span>, <span class="stringliteral">&quot;untrusted pending balance (outputs created by others that are in the mempool)&quot;</span>},</div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"> 2411</span>                    {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;immature&quot;</span>, <span class="stringliteral">&quot;balance from immature coinbase outputs&quot;</span>},</div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span>                    {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;used&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;(only present if avoid_reuse is set) balance from coins sent to addresses that were previously spent from (potentially privacy violating)&quot;</span>},</div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span>                }},</div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span>                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;watchonly&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;watchonly balances (not present if wallet does not watch anything)&quot;</span>,</div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span>                {</div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span>                    {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;trusted&quot;</span>, <span class="stringliteral">&quot;trusted balance (outputs created by the wallet or confirmed outputs)&quot;</span>},</div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span>                    {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;untrusted_pending&quot;</span>, <span class="stringliteral">&quot;untrusted pending balance (outputs created by others that are in the mempool)&quot;</span>},</div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span>                    {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;immature&quot;</span>, <span class="stringliteral">&quot;balance from immature coinbase outputs&quot;</span>},</div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span>                }},</div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span>            }</div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"> 2421</span>            },</div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span>        <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span>            <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;getbalances&quot;</span>, <span class="stringliteral">&quot;&quot;</span>) +</div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"> 2424</span>            <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;getbalances&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)},</div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span>{</div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; rpc_wallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span>    <span class="keywordflow">if</span> (!rpc_wallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a> = *rpc_wallet;</div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span> </div>
<div class="line"><a id="l02431" name="l02431"></a><span class="lineno"> 2431</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l02432" name="l02432"></a><span class="lineno"> 2432</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l02433" name="l02433"></a><span class="lineno"> 2433</span>    <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l02434" name="l02434"></a><span class="lineno"> 2434</span> </div>
<div class="line"><a id="l02435" name="l02435"></a><span class="lineno"> 2435</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.cs_wallet);</div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span> </div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span>    <span class="keyword">const</span> <span class="keyword">auto</span> bal = <a class="code hl_function" href="receive_8cpp.html#ae63a6c2dcc2042cb682e19c26b25b6d2">GetBalance</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>);</div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"> 2438</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> balances{<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>};</div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span>    {</div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span>        <a class="code hl_class" href="class_uni_value.html">UniValue</a> balances_mine{<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>};</div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span>        balances_mine.pushKV(<span class="stringliteral">&quot;trusted&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(bal.m_mine_trusted));</div>
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"> 2442</span>        balances_mine.pushKV(<span class="stringliteral">&quot;untrusted_pending&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(bal.m_mine_untrusted_pending));</div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span>        balances_mine.pushKV(<span class="stringliteral">&quot;immature&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(bal.m_mine_immature));</div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span>        <span class="keywordflow">if</span> (<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.IsWalletFlagSet(<a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a4e9b88a014a2fa4a31f3698fef9f5ce2">WALLET_FLAG_AVOID_REUSE</a>)) {</div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"> 2445</span>            <span class="comment">// If the AVOID_REUSE flag is set, bal has been set to just the un-reused address balance. Get</span></div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span>            <span class="comment">// the total balance, and then subtract bal to get the reused address balance.</span></div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"> 2447</span>            <span class="keyword">const</span> <span class="keyword">auto</span> full_bal = <a class="code hl_function" href="receive_8cpp.html#ae63a6c2dcc2042cb682e19c26b25b6d2">GetBalance</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"> 2448</span>            balances_mine.pushKV(<span class="stringliteral">&quot;used&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(full_bal.m_mine_trusted + full_bal.m_mine_untrusted_pending - bal.m_mine_trusted - bal.m_mine_untrusted_pending));</div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"> 2449</span>        }</div>
<div class="line"><a id="l02450" name="l02450"></a><span class="lineno"> 2450</span>        balances.pushKV(<span class="stringliteral">&quot;mine&quot;</span>, balances_mine);</div>
<div class="line"><a id="l02451" name="l02451"></a><span class="lineno"> 2451</span>    }</div>
<div class="line"><a id="l02452" name="l02452"></a><span class="lineno"> 2452</span>    <span class="keyword">auto</span> spk_man = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetLegacyScriptPubKeyMan();</div>
<div class="line"><a id="l02453" name="l02453"></a><span class="lineno"> 2453</span>    <span class="keywordflow">if</span> (spk_man &amp;&amp; spk_man-&gt;HaveWatchOnly()) {</div>
<div class="line"><a id="l02454" name="l02454"></a><span class="lineno"> 2454</span>        <a class="code hl_class" href="class_uni_value.html">UniValue</a> balances_watchonly{<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>};</div>
<div class="line"><a id="l02455" name="l02455"></a><span class="lineno"> 2455</span>        balances_watchonly.pushKV(<span class="stringliteral">&quot;trusted&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(bal.m_watchonly_trusted));</div>
<div class="line"><a id="l02456" name="l02456"></a><span class="lineno"> 2456</span>        balances_watchonly.pushKV(<span class="stringliteral">&quot;untrusted_pending&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(bal.m_watchonly_untrusted_pending));</div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"> 2457</span>        balances_watchonly.pushKV(<span class="stringliteral">&quot;immature&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(bal.m_watchonly_immature));</div>
<div class="line"><a id="l02458" name="l02458"></a><span class="lineno"> 2458</span>        balances.pushKV(<span class="stringliteral">&quot;watchonly&quot;</span>, balances_watchonly);</div>
<div class="line"><a id="l02459" name="l02459"></a><span class="lineno"> 2459</span>    }</div>
<div class="line"><a id="l02460" name="l02460"></a><span class="lineno"> 2460</span>    <span class="keywordflow">return</span> balances;</div>
<div class="line"><a id="l02461" name="l02461"></a><span class="lineno"> 2461</span>},</div>
<div class="line"><a id="l02462" name="l02462"></a><span class="lineno"> 2462</span>    };</div>
<div class="line"><a id="l02463" name="l02463"></a><span class="lineno"> 2463</span>}</div>
<div class="line"><a id="l02464" name="l02464"></a><span class="lineno"> 2464</span> </div>
<div class="line"><a id="l02465" name="l02465"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a81c1515dbbc177811c2b32d87927a158"> 2465</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a81c1515dbbc177811c2b32d87927a158">getwalletinfo</a>()</div>
<div class="line"><a id="l02466" name="l02466"></a><span class="lineno"> 2466</span>{</div>
<div class="line"><a id="l02467" name="l02467"></a><span class="lineno"> 2467</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;getwalletinfo&quot;</span>,</div>
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"> 2468</span>                <span class="stringliteral">&quot;Returns an object containing various wallet state info.\n&quot;</span>,</div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span>                {},</div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"> 2472</span>                    {</div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span>                        {</div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"> 2474</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;walletname&quot;</span>, <span class="stringliteral">&quot;the wallet name&quot;</span>},</div>
<div class="line"><a id="l02475" name="l02475"></a><span class="lineno"> 2475</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;walletversion&quot;</span>, <span class="stringliteral">&quot;the wallet version&quot;</span>},</div>
<div class="line"><a id="l02476" name="l02476"></a><span class="lineno"> 2476</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;format&quot;</span>, <span class="stringliteral">&quot;the database format (bdb or sqlite)&quot;</span>},</div>
<div class="line"><a id="l02477" name="l02477"></a><span class="lineno"> 2477</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;balance&quot;</span>, <span class="stringliteral">&quot;DEPRECATED. Identical to getbalances().mine.trusted&quot;</span>},</div>
<div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;unconfirmed_balance&quot;</span>, <span class="stringliteral">&quot;DEPRECATED. Identical to getbalances().mine.untrusted_pending&quot;</span>},</div>
<div class="line"><a id="l02479" name="l02479"></a><span class="lineno"> 2479</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;immature_balance&quot;</span>, <span class="stringliteral">&quot;DEPRECATED. Identical to getbalances().mine.immature&quot;</span>},</div>
<div class="line"><a id="l02480" name="l02480"></a><span class="lineno"> 2480</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;txcount&quot;</span>, <span class="stringliteral">&quot;the total number of transactions in the wallet&quot;</span>},</div>
<div class="line"><a id="l02481" name="l02481"></a><span class="lineno"> 2481</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a420373841df076014d27fd869eab98dd">RPCResult::Type::NUM_TIME</a>, <span class="stringliteral">&quot;keypoololdest&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;the &quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#aad676cc5fc482fffa78911b8d7d9d32d">UNIX_EPOCH_TIME</a> + <span class="stringliteral">&quot; of the oldest pre-generated key in the key pool. Legacy wallets only.&quot;</span>},</div>
<div class="line"><a id="l02482" name="l02482"></a><span class="lineno"> 2482</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;keypoolsize&quot;</span>, <span class="stringliteral">&quot;how many new keys are pre-generated (only counts external keys)&quot;</span>},</div>
<div class="line"><a id="l02483" name="l02483"></a><span class="lineno"> 2483</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;keypoolsize_hd_internal&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;how many new keys are pre-generated for internal use (used for change outputs, only appears if the wallet is using this feature, otherwise external keys are used)&quot;</span>},</div>
<div class="line"><a id="l02484" name="l02484"></a><span class="lineno"> 2484</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a420373841df076014d27fd869eab98dd">RPCResult::Type::NUM_TIME</a>, <span class="stringliteral">&quot;unlocked_until&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;the &quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#aad676cc5fc482fffa78911b8d7d9d32d">UNIX_EPOCH_TIME</a> + <span class="stringliteral">&quot; until which the wallet is unlocked for transfers, or 0 if the wallet is locked (only present for passphrase-encrypted wallets)&quot;</span>},</div>
<div class="line"><a id="l02485" name="l02485"></a><span class="lineno"> 2485</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;paytxfee&quot;</span>, <span class="stringliteral">&quot;the transaction fee configuration, set in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;/kvB&quot;</span>},</div>
<div class="line"><a id="l02486" name="l02486"></a><span class="lineno"> 2486</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;hdseedid&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;the Hash160 of the HD seed (only present when HD is enabled)&quot;</span>},</div>
<div class="line"><a id="l02487" name="l02487"></a><span class="lineno"> 2487</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;private_keys_enabled&quot;</span>, <span class="stringliteral">&quot;false if privatekeys are disabled for this wallet (enforced watch-only wallet)&quot;</span>},</div>
<div class="line"><a id="l02488" name="l02488"></a><span class="lineno"> 2488</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;avoid_reuse&quot;</span>, <span class="stringliteral">&quot;whether this wallet tracks clean/dirty coins in terms of reuse&quot;</span>},</div>
<div class="line"><a id="l02489" name="l02489"></a><span class="lineno"> 2489</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;scanning&quot;</span>, <span class="stringliteral">&quot;current scanning details, or false if no scan is in progress&quot;</span>,</div>
<div class="line"><a id="l02490" name="l02490"></a><span class="lineno"> 2490</span>                        {</div>
<div class="line"><a id="l02491" name="l02491"></a><span class="lineno"> 2491</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;duration&quot;</span>, <span class="stringliteral">&quot;elapsed seconds since scan start&quot;</span>},</div>
<div class="line"><a id="l02492" name="l02492"></a><span class="lineno"> 2492</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;progress&quot;</span>, <span class="stringliteral">&quot;scanning progress percentage [0.0, 1.0]&quot;</span>},</div>
<div class="line"><a id="l02493" name="l02493"></a><span class="lineno"> 2493</span>                        }},</div>
<div class="line"><a id="l02494" name="l02494"></a><span class="lineno"> 2494</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;descriptors&quot;</span>, <span class="stringliteral">&quot;whether this wallet uses descriptors for scriptPubKey management&quot;</span>},</div>
<div class="line"><a id="l02495" name="l02495"></a><span class="lineno"> 2495</span>                    }},</div>
<div class="line"><a id="l02496" name="l02496"></a><span class="lineno"> 2496</span>                },</div>
<div class="line"><a id="l02497" name="l02497"></a><span class="lineno"> 2497</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l02498" name="l02498"></a><span class="lineno"> 2498</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;getwalletinfo&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l02499" name="l02499"></a><span class="lineno"> 2499</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;getwalletinfo&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l02500" name="l02500"></a><span class="lineno"> 2500</span>                },</div>
<div class="line"><a id="l02501" name="l02501"></a><span class="lineno"> 2501</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l02502" name="l02502"></a><span class="lineno"> 2502</span>{</div>
<div class="line"><a id="l02503" name="l02503"></a><span class="lineno"> 2503</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l02504" name="l02504"></a><span class="lineno"> 2504</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l02505" name="l02505"></a><span class="lineno"> 2505</span> </div>
<div class="line"><a id="l02506" name="l02506"></a><span class="lineno"> 2506</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l02507" name="l02507"></a><span class="lineno"> 2507</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l02508" name="l02508"></a><span class="lineno"> 2508</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l02509" name="l02509"></a><span class="lineno"> 2509</span> </div>
<div class="line"><a id="l02510" name="l02510"></a><span class="lineno"> 2510</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l02511" name="l02511"></a><span class="lineno"> 2511</span> </div>
<div class="line"><a id="l02512" name="l02512"></a><span class="lineno"> 2512</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> obj(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l02513" name="l02513"></a><span class="lineno"> 2513</span> </div>
<div class="line"><a id="l02514" name="l02514"></a><span class="lineno"> 2514</span>    <span class="keywordtype">size_t</span> kpExternalSize = pwallet-&gt;KeypoolCountExternalKeys();</div>
<div class="line"><a id="l02515" name="l02515"></a><span class="lineno"> 2515</span>    <span class="keyword">const</span> <span class="keyword">auto</span> bal = <a class="code hl_function" href="receive_8cpp.html#ae63a6c2dcc2042cb682e19c26b25b6d2">GetBalance</a>(*pwallet);</div>
<div class="line"><a id="l02516" name="l02516"></a><span class="lineno"> 2516</span>    int64_t kp_oldest = pwallet-&gt;GetOldestKeyPoolTime();</div>
<div class="line"><a id="l02517" name="l02517"></a><span class="lineno"> 2517</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;walletname&quot;</span>, pwallet-&gt;GetName());</div>
<div class="line"><a id="l02518" name="l02518"></a><span class="lineno"> 2518</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;walletversion&quot;</span>, pwallet-&gt;GetVersion());</div>
<div class="line"><a id="l02519" name="l02519"></a><span class="lineno"> 2519</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;format&quot;</span>, pwallet-&gt;GetDatabase().Format());</div>
<div class="line"><a id="l02520" name="l02520"></a><span class="lineno"> 2520</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;balance&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(bal.m_mine_trusted));</div>
<div class="line"><a id="l02521" name="l02521"></a><span class="lineno"> 2521</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;unconfirmed_balance&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(bal.m_mine_untrusted_pending));</div>
<div class="line"><a id="l02522" name="l02522"></a><span class="lineno"> 2522</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;immature_balance&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(bal.m_mine_immature));</div>
<div class="line"><a id="l02523" name="l02523"></a><span class="lineno"> 2523</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;txcount&quot;</span>,       (<span class="keywordtype">int</span>)pwallet-&gt;mapWallet.size());</div>
<div class="line"><a id="l02524" name="l02524"></a><span class="lineno"> 2524</span>    <span class="keywordflow">if</span> (kp_oldest &gt; 0) {</div>
<div class="line"><a id="l02525" name="l02525"></a><span class="lineno"> 2525</span>        obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;keypoololdest&quot;</span>, kp_oldest);</div>
<div class="line"><a id="l02526" name="l02526"></a><span class="lineno"> 2526</span>    }</div>
<div class="line"><a id="l02527" name="l02527"></a><span class="lineno"> 2527</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;keypoolsize&quot;</span>, (int64_t)kpExternalSize);</div>
<div class="line"><a id="l02528" name="l02528"></a><span class="lineno"> 2528</span> </div>
<div class="line"><a id="l02529" name="l02529"></a><span class="lineno"> 2529</span>    <a class="code hl_class" href="class_legacy_script_pub_key_man.html">LegacyScriptPubKeyMan</a>* spk_man = pwallet-&gt;GetLegacyScriptPubKeyMan();</div>
<div class="line"><a id="l02530" name="l02530"></a><span class="lineno"> 2530</span>    <span class="keywordflow">if</span> (spk_man) {</div>
<div class="line"><a id="l02531" name="l02531"></a><span class="lineno"> 2531</span>        <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a> seed_id = spk_man-&gt;<a class="code hl_function" href="class_legacy_script_pub_key_man.html#a0373742ef939385285811fbb796f290d">GetHDChain</a>().<a class="code hl_variable" href="class_c_h_d_chain.html#a7db3b8b6e5560008e24e3cb8d574b5ac">seed_id</a>;</div>
<div class="line"><a id="l02532" name="l02532"></a><span class="lineno"> 2532</span>        <span class="keywordflow">if</span> (!seed_id.<a class="code hl_function" href="classbase__blob.html#aba89c6722866a5850882a509d27d7bbd">IsNull</a>()) {</div>
<div class="line"><a id="l02533" name="l02533"></a><span class="lineno"> 2533</span>            obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;hdseedid&quot;</span>, seed_id.<a class="code hl_function" href="classbase__blob.html#ad7263503f949fb3c6c520ebb1f28e378">GetHex</a>());</div>
<div class="line"><a id="l02534" name="l02534"></a><span class="lineno"> 2534</span>        }</div>
<div class="line"><a id="l02535" name="l02535"></a><span class="lineno"> 2535</span>    }</div>
<div class="line"><a id="l02536" name="l02536"></a><span class="lineno"> 2536</span> </div>
<div class="line"><a id="l02537" name="l02537"></a><span class="lineno"> 2537</span>    <span class="keywordflow">if</span> (pwallet-&gt;CanSupportFeature(<a class="code hl_enumvalue" href="walletutil_8h.html#a39a6b71da3eb95cddc0836d3b27ac7c9a15347b1d0d62759fc6370d9311391b4b">FEATURE_HD_SPLIT</a>)) {</div>
<div class="line"><a id="l02538" name="l02538"></a><span class="lineno"> 2538</span>        obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;keypoolsize_hd_internal&quot;</span>,   (int64_t)(pwallet-&gt;GetKeyPoolSize() - kpExternalSize));</div>
<div class="line"><a id="l02539" name="l02539"></a><span class="lineno"> 2539</span>    }</div>
<div class="line"><a id="l02540" name="l02540"></a><span class="lineno"> 2540</span>    <span class="keywordflow">if</span> (pwallet-&gt;IsCrypted()) {</div>
<div class="line"><a id="l02541" name="l02541"></a><span class="lineno"> 2541</span>        obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;unlocked_until&quot;</span>, pwallet-&gt;nRelockTime);</div>
<div class="line"><a id="l02542" name="l02542"></a><span class="lineno"> 2542</span>    }</div>
<div class="line"><a id="l02543" name="l02543"></a><span class="lineno"> 2543</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;paytxfee&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(pwallet-&gt;m_pay_tx_fee.GetFeePerK()));</div>
<div class="line"><a id="l02544" name="l02544"></a><span class="lineno"> 2544</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;private_keys_enabled&quot;</span>, !pwallet-&gt;IsWalletFlagSet(<a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a47b6a219e3ca6733b2a251be3e5def86">WALLET_FLAG_DISABLE_PRIVATE_KEYS</a>));</div>
<div class="line"><a id="l02545" name="l02545"></a><span class="lineno"> 2545</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;avoid_reuse&quot;</span>, pwallet-&gt;IsWalletFlagSet(<a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a4e9b88a014a2fa4a31f3698fef9f5ce2">WALLET_FLAG_AVOID_REUSE</a>));</div>
<div class="line"><a id="l02546" name="l02546"></a><span class="lineno"> 2546</span>    <span class="keywordflow">if</span> (pwallet-&gt;IsScanning()) {</div>
<div class="line"><a id="l02547" name="l02547"></a><span class="lineno"> 2547</span>        <a class="code hl_class" href="class_uni_value.html">UniValue</a> scanning(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l02548" name="l02548"></a><span class="lineno"> 2548</span>        scanning.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;duration&quot;</span>, pwallet-&gt;ScanningDuration() / 1000);</div>
<div class="line"><a id="l02549" name="l02549"></a><span class="lineno"> 2549</span>        scanning.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;progress&quot;</span>, pwallet-&gt;ScanningProgress());</div>
<div class="line"><a id="l02550" name="l02550"></a><span class="lineno"> 2550</span>        obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;scanning&quot;</span>, scanning);</div>
<div class="line"><a id="l02551" name="l02551"></a><span class="lineno"> 2551</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02552" name="l02552"></a><span class="lineno"> 2552</span>        obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;scanning&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l02553" name="l02553"></a><span class="lineno"> 2553</span>    }</div>
<div class="line"><a id="l02554" name="l02554"></a><span class="lineno"> 2554</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;descriptors&quot;</span>, pwallet-&gt;IsWalletFlagSet(<a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8aa07cadd2d20ca06dbd3f0498c4d6fd3f">WALLET_FLAG_DESCRIPTORS</a>));</div>
<div class="line"><a id="l02555" name="l02555"></a><span class="lineno"> 2555</span>    <span class="keywordflow">return</span> obj;</div>
<div class="line"><a id="l02556" name="l02556"></a><span class="lineno"> 2556</span>},</div>
<div class="line"><a id="l02557" name="l02557"></a><span class="lineno"> 2557</span>    };</div>
<div class="line"><a id="l02558" name="l02558"></a><span class="lineno"> 2558</span>}</div>
<div class="line"><a id="l02559" name="l02559"></a><span class="lineno"> 2559</span> </div>
<div class="line"><a id="l02560" name="l02560"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a71aef22a7f3f537e48b2fdc2f4ccfd99"> 2560</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a71aef22a7f3f537e48b2fdc2f4ccfd99">listwalletdir</a>()</div>
<div class="line"><a id="l02561" name="l02561"></a><span class="lineno"> 2561</span>{</div>
<div class="line"><a id="l02562" name="l02562"></a><span class="lineno"> 2562</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;listwalletdir&quot;</span>,</div>
<div class="line"><a id="l02563" name="l02563"></a><span class="lineno"> 2563</span>                <span class="stringliteral">&quot;Returns a list of wallets in the wallet directory.\n&quot;</span>,</div>
<div class="line"><a id="l02564" name="l02564"></a><span class="lineno"> 2564</span>                {},</div>
<div class="line"><a id="l02565" name="l02565"></a><span class="lineno"> 2565</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l02566" name="l02566"></a><span class="lineno"> 2566</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02567" name="l02567"></a><span class="lineno"> 2567</span>                    {</div>
<div class="line"><a id="l02568" name="l02568"></a><span class="lineno"> 2568</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;wallets&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02569" name="l02569"></a><span class="lineno"> 2569</span>                        {</div>
<div class="line"><a id="l02570" name="l02570"></a><span class="lineno"> 2570</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02571" name="l02571"></a><span class="lineno"> 2571</span>                            {</div>
<div class="line"><a id="l02572" name="l02572"></a><span class="lineno"> 2572</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;The wallet name&quot;</span>},</div>
<div class="line"><a id="l02573" name="l02573"></a><span class="lineno"> 2573</span>                            }},</div>
<div class="line"><a id="l02574" name="l02574"></a><span class="lineno"> 2574</span>                        }},</div>
<div class="line"><a id="l02575" name="l02575"></a><span class="lineno"> 2575</span>                    }</div>
<div class="line"><a id="l02576" name="l02576"></a><span class="lineno"> 2576</span>                },</div>
<div class="line"><a id="l02577" name="l02577"></a><span class="lineno"> 2577</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l02578" name="l02578"></a><span class="lineno"> 2578</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listwalletdir&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l02579" name="l02579"></a><span class="lineno"> 2579</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;listwalletdir&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l02580" name="l02580"></a><span class="lineno"> 2580</span>                },</div>
<div class="line"><a id="l02581" name="l02581"></a><span class="lineno"> 2581</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l02582" name="l02582"></a><span class="lineno"> 2582</span>{</div>
<div class="line"><a id="l02583" name="l02583"></a><span class="lineno"> 2583</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> wallets(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l02584" name="l02584"></a><span class="lineno"> 2584</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; path : <a class="code hl_function" href="db_8cpp.html#afec818d267130578036e4146a05e9260">ListDatabases</a>(<a class="code hl_function" href="walletutil_8cpp.html#aa4cddcdbe214eef41ac6e1f6666a8048">GetWalletDir</a>())) {</div>
<div class="line"><a id="l02585" name="l02585"></a><span class="lineno"> 2585</span>        <a class="code hl_class" href="class_uni_value.html">UniValue</a> <a class="code hl_namespace" href="namespacewallet.html">wallet</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l02586" name="l02586"></a><span class="lineno"> 2586</span>        <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.pushKV(<span class="stringliteral">&quot;name&quot;</span>, path.u8string());</div>
<div class="line"><a id="l02587" name="l02587"></a><span class="lineno"> 2587</span>        wallets.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>);</div>
<div class="line"><a id="l02588" name="l02588"></a><span class="lineno"> 2588</span>    }</div>
<div class="line"><a id="l02589" name="l02589"></a><span class="lineno"> 2589</span> </div>
<div class="line"><a id="l02590" name="l02590"></a><span class="lineno"> 2590</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> result(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l02591" name="l02591"></a><span class="lineno"> 2591</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;wallets&quot;</span>, wallets);</div>
<div class="line"><a id="l02592" name="l02592"></a><span class="lineno"> 2592</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l02593" name="l02593"></a><span class="lineno"> 2593</span>},</div>
<div class="line"><a id="l02594" name="l02594"></a><span class="lineno"> 2594</span>    };</div>
<div class="line"><a id="l02595" name="l02595"></a><span class="lineno"> 2595</span>}</div>
<div class="line"><a id="l02596" name="l02596"></a><span class="lineno"> 2596</span> </div>
<div class="line"><a id="l02597" name="l02597"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a5e4c4ac5223a6385a2fa270cb466ab39"> 2597</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a5e4c4ac5223a6385a2fa270cb466ab39">listwallets</a>()</div>
<div class="line"><a id="l02598" name="l02598"></a><span class="lineno"> 2598</span>{</div>
<div class="line"><a id="l02599" name="l02599"></a><span class="lineno"> 2599</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;listwallets&quot;</span>,</div>
<div class="line"><a id="l02600" name="l02600"></a><span class="lineno"> 2600</span>                <span class="stringliteral">&quot;Returns a list of currently loaded wallets.\n&quot;</span></div>
<div class="line"><a id="l02601" name="l02601"></a><span class="lineno"> 2601</span>                <span class="stringliteral">&quot;For full information on the wallet, use \&quot;getwalletinfo\&quot;\n&quot;</span>,</div>
<div class="line"><a id="l02602" name="l02602"></a><span class="lineno"> 2602</span>                {},</div>
<div class="line"><a id="l02603" name="l02603"></a><span class="lineno"> 2603</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l02604" name="l02604"></a><span class="lineno"> 2604</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02605" name="l02605"></a><span class="lineno"> 2605</span>                    {</div>
<div class="line"><a id="l02606" name="l02606"></a><span class="lineno"> 2606</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;walletname&quot;</span>, <span class="stringliteral">&quot;the wallet name&quot;</span>},</div>
<div class="line"><a id="l02607" name="l02607"></a><span class="lineno"> 2607</span>                    }</div>
<div class="line"><a id="l02608" name="l02608"></a><span class="lineno"> 2608</span>                },</div>
<div class="line"><a id="l02609" name="l02609"></a><span class="lineno"> 2609</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l02610" name="l02610"></a><span class="lineno"> 2610</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listwallets&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l02611" name="l02611"></a><span class="lineno"> 2611</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;listwallets&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l02612" name="l02612"></a><span class="lineno"> 2612</span>                },</div>
<div class="line"><a id="l02613" name="l02613"></a><span class="lineno"> 2613</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l02614" name="l02614"></a><span class="lineno"> 2614</span>{</div>
<div class="line"><a id="l02615" name="l02615"></a><span class="lineno"> 2615</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> obj(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l02616" name="l02616"></a><span class="lineno"> 2616</span> </div>
<div class="line"><a id="l02617" name="l02617"></a><span class="lineno"> 2617</span>    <a class="code hl_struct" href="struct_wallet_context.html">WalletContext</a>&amp; context = <a class="code hl_function" href="rpcwallet_8cpp.html#adfcbdc968355be9c0ea292e1ad2239df">EnsureWalletContext</a>(request.context);</div>
<div class="line"><a id="l02618" name="l02618"></a><span class="lineno"> 2618</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::shared_ptr&lt;CWallet&gt;&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a> : <a class="code hl_function" href="wallet_2wallet_8cpp.html#a8e3280b9a934262e94003e33190a96db">GetWallets</a>(context)) {</div>
<div class="line"><a id="l02619" name="l02619"></a><span class="lineno"> 2619</span>        <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>-&gt;cs_wallet);</div>
<div class="line"><a id="l02620" name="l02620"></a><span class="lineno"> 2620</span>        obj.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>-&gt;GetName());</div>
<div class="line"><a id="l02621" name="l02621"></a><span class="lineno"> 2621</span>    }</div>
<div class="line"><a id="l02622" name="l02622"></a><span class="lineno"> 2622</span> </div>
<div class="line"><a id="l02623" name="l02623"></a><span class="lineno"> 2623</span>    <span class="keywordflow">return</span> obj;</div>
<div class="line"><a id="l02624" name="l02624"></a><span class="lineno"> 2624</span>},</div>
<div class="line"><a id="l02625" name="l02625"></a><span class="lineno"> 2625</span>    };</div>
<div class="line"><a id="l02626" name="l02626"></a><span class="lineno"> 2626</span>}</div>
<div class="line"><a id="l02627" name="l02627"></a><span class="lineno"> 2627</span> </div>
<div class="line"><a id="l02628" name="l02628"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a4e8abcedebad44886b61315839b04082"> 2628</a></span><span class="keyword">static</span> std::tuple&lt;std::shared_ptr&lt;CWallet&gt;, std::vector&lt;bilingual_str&gt;&gt; <a class="code hl_function" href="rpcwallet_8cpp.html#a4e8abcedebad44886b61315839b04082">LoadWalletHelper</a>(<a class="code hl_struct" href="struct_wallet_context.html">WalletContext</a>&amp; context, <a class="code hl_class" href="class_uni_value.html">UniValue</a> load_on_start_param, <span class="keyword">const</span> std::string wallet_name)</div>
<div class="line"><a id="l02629" name="l02629"></a><span class="lineno"> 2629</span>{</div>
<div class="line"><a id="l02630" name="l02630"></a><span class="lineno"> 2630</span>    <a class="code hl_struct" href="struct_database_options.html">DatabaseOptions</a> options;</div>
<div class="line"><a id="l02631" name="l02631"></a><span class="lineno"> 2631</span>    <a class="code hl_enumeration" href="db_8h.html#a3e1dbc3fee0c633ca09b18754de3644d">DatabaseStatus</a> status;</div>
<div class="line"><a id="l02632" name="l02632"></a><span class="lineno"> 2632</span>    options.<a class="code hl_variable" href="struct_database_options.html#ad0f4a01b1d6eb108250d353abf4ce500">require_existing</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02633" name="l02633"></a><span class="lineno"> 2633</span>    <a class="code hl_struct" href="structbilingual__str.html">bilingual_str</a> <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>;</div>
<div class="line"><a id="l02634" name="l02634"></a><span class="lineno"> 2634</span>    std::vector&lt;bilingual_str&gt; warnings;</div>
<div class="line"><a id="l02635" name="l02635"></a><span class="lineno"> 2635</span>    std::optional&lt;bool&gt; load_on_start = load_on_start_param.<a class="code hl_function" href="class_uni_value.html#a3661be0f5580daceb23e5338e3a0df22">isNull</a>() ? std::nullopt : std::optional&lt;bool&gt;(load_on_start_param.<a class="code hl_function" href="class_uni_value.html#ae8a27d40aa1b1322ea95ff4fb2dec2b1">get_bool</a>());</div>
<div class="line"><a id="l02636" name="l02636"></a><span class="lineno"> 2636</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> <a class="code hl_namespace" href="namespacewallet.html">wallet</a> = <a class="code hl_function" href="wallet_2wallet_8cpp.html#ab97ef9725d459847d284d27b3b52805c">LoadWallet</a>(context, wallet_name, load_on_start, options, status, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>, warnings);</div>
<div class="line"><a id="l02637" name="l02637"></a><span class="lineno"> 2637</span> </div>
<div class="line"><a id="l02638" name="l02638"></a><span class="lineno"> 2638</span>    <span class="keywordflow">if</span> (!<a class="code hl_namespace" href="namespacewallet.html">wallet</a>) {</div>
<div class="line"><a id="l02639" name="l02639"></a><span class="lineno"> 2639</span>        <span class="comment">// Map bad format to not found, since bad format is returned when the</span></div>
<div class="line"><a id="l02640" name="l02640"></a><span class="lineno"> 2640</span>        <span class="comment">// wallet directory exists, but doesn&#39;t contain a data file.</span></div>
<div class="line"><a id="l02641" name="l02641"></a><span class="lineno"> 2641</span>        <a class="code hl_enumeration" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85dead">RPCErrorCode</a> code = <a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>;</div>
<div class="line"><a id="l02642" name="l02642"></a><span class="lineno"> 2642</span>        <span class="keywordflow">switch</span> (status) {</div>
<div class="line"><a id="l02643" name="l02643"></a><span class="lineno"> 2643</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="db_8h.html#a3e1dbc3fee0c633ca09b18754de3644da1bfcc57bccb104f3dbcadcc99eafdaa4">DatabaseStatus::FAILED_NOT_FOUND</a>:</div>
<div class="line"><a id="l02644" name="l02644"></a><span class="lineno"> 2644</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="db_8h.html#a3e1dbc3fee0c633ca09b18754de3644da480adcdb16d2c4250f1a3cb0282a1771">DatabaseStatus::FAILED_BAD_FORMAT</a>:</div>
<div class="line"><a id="l02645" name="l02645"></a><span class="lineno"> 2645</span>                code = <a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadad386a2420e15dbbe0a3405141f2b84de">RPC_WALLET_NOT_FOUND</a>;</div>
<div class="line"><a id="l02646" name="l02646"></a><span class="lineno"> 2646</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02647" name="l02647"></a><span class="lineno"> 2647</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="db_8h.html#a3e1dbc3fee0c633ca09b18754de3644da1597629da62931203a6325c688c01ff1">DatabaseStatus::FAILED_ALREADY_LOADED</a>:</div>
<div class="line"><a id="l02648" name="l02648"></a><span class="lineno"> 2648</span>                code = <a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadabd275584a91f211672076c181a4ec3de">RPC_WALLET_ALREADY_LOADED</a>;</div>
<div class="line"><a id="l02649" name="l02649"></a><span class="lineno"> 2649</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02650" name="l02650"></a><span class="lineno"> 2650</span>            <span class="keywordflow">default</span>: <span class="comment">// RPC_WALLET_ERROR is returned for all other cases.</span></div>
<div class="line"><a id="l02651" name="l02651"></a><span class="lineno"> 2651</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02652" name="l02652"></a><span class="lineno"> 2652</span>        }</div>
<div class="line"><a id="l02653" name="l02653"></a><span class="lineno"> 2653</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(code, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>.original);</div>
<div class="line"><a id="l02654" name="l02654"></a><span class="lineno"> 2654</span>    }</div>
<div class="line"><a id="l02655" name="l02655"></a><span class="lineno"> 2655</span> </div>
<div class="line"><a id="l02656" name="l02656"></a><span class="lineno"> 2656</span>    <span class="keywordflow">return</span> { <a class="code hl_namespace" href="namespacewallet.html">wallet</a>, warnings };</div>
<div class="line"><a id="l02657" name="l02657"></a><span class="lineno"> 2657</span>}</div>
<div class="line"><a id="l02658" name="l02658"></a><span class="lineno"> 2658</span> </div>
<div class="line"><a id="l02659" name="l02659"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#ac48d96e27ba9d1b7e9be6d7e05959338"> 2659</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#ac48d96e27ba9d1b7e9be6d7e05959338">loadwallet</a>()</div>
<div class="line"><a id="l02660" name="l02660"></a><span class="lineno"> 2660</span>{</div>
<div class="line"><a id="l02661" name="l02661"></a><span class="lineno"> 2661</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;loadwallet&quot;</span>,</div>
<div class="line"><a id="l02662" name="l02662"></a><span class="lineno"> 2662</span>                <span class="stringliteral">&quot;\nLoads a wallet from a wallet file or directory.&quot;</span></div>
<div class="line"><a id="l02663" name="l02663"></a><span class="lineno"> 2663</span>                <span class="stringliteral">&quot;\nNote that all wallet command-line options used when starting bitcoind will be&quot;</span></div>
<div class="line"><a id="l02664" name="l02664"></a><span class="lineno"> 2664</span>                <span class="stringliteral">&quot;\napplied to the new wallet.\n&quot;</span>,</div>
<div class="line"><a id="l02665" name="l02665"></a><span class="lineno"> 2665</span>                {</div>
<div class="line"><a id="l02666" name="l02666"></a><span class="lineno"> 2666</span>                    {<span class="stringliteral">&quot;filename&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The wallet directory or .dat file.&quot;</span>},</div>
<div class="line"><a id="l02667" name="l02667"></a><span class="lineno"> 2667</span>                    {<span class="stringliteral">&quot;load_on_startup&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;Save wallet name to persistent settings and load on startup. True to add wallet to startup list, false to remove, null to leave unchanged.&quot;</span>},</div>
<div class="line"><a id="l02668" name="l02668"></a><span class="lineno"> 2668</span>                },</div>
<div class="line"><a id="l02669" name="l02669"></a><span class="lineno"> 2669</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l02670" name="l02670"></a><span class="lineno"> 2670</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02671" name="l02671"></a><span class="lineno"> 2671</span>                    {</div>
<div class="line"><a id="l02672" name="l02672"></a><span class="lineno"> 2672</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;The wallet name if loaded successfully.&quot;</span>},</div>
<div class="line"><a id="l02673" name="l02673"></a><span class="lineno"> 2673</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;warning&quot;</span>, <span class="stringliteral">&quot;Warning message if wallet was not loaded cleanly.&quot;</span>},</div>
<div class="line"><a id="l02674" name="l02674"></a><span class="lineno"> 2674</span>                    }</div>
<div class="line"><a id="l02675" name="l02675"></a><span class="lineno"> 2675</span>                },</div>
<div class="line"><a id="l02676" name="l02676"></a><span class="lineno"> 2676</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l02677" name="l02677"></a><span class="lineno"> 2677</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;loadwallet&quot;</span>, <span class="stringliteral">&quot;\&quot;test.dat\&quot;&quot;</span>)</div>
<div class="line"><a id="l02678" name="l02678"></a><span class="lineno"> 2678</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;loadwallet&quot;</span>, <span class="stringliteral">&quot;\&quot;test.dat\&quot;&quot;</span>)</div>
<div class="line"><a id="l02679" name="l02679"></a><span class="lineno"> 2679</span>                },</div>
<div class="line"><a id="l02680" name="l02680"></a><span class="lineno"> 2680</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l02681" name="l02681"></a><span class="lineno"> 2681</span>{</div>
<div class="line"><a id="l02682" name="l02682"></a><span class="lineno"> 2682</span>    <a class="code hl_struct" href="struct_wallet_context.html">WalletContext</a>&amp; context = <a class="code hl_function" href="rpcwallet_8cpp.html#adfcbdc968355be9c0ea292e1ad2239df">EnsureWalletContext</a>(request.context);</div>
<div class="line"><a id="l02683" name="l02683"></a><span class="lineno"> 2683</span>    <span class="keyword">const</span> std::string <a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>(request.params[0].get_str());</div>
<div class="line"><a id="l02684" name="l02684"></a><span class="lineno"> 2684</span> </div>
<div class="line"><a id="l02685" name="l02685"></a><span class="lineno"> 2685</span>    <span class="keyword">auto</span> [<a class="code hl_namespace" href="namespacewallet.html">wallet</a>, warnings] = <a class="code hl_function" href="rpcwallet_8cpp.html#a4e8abcedebad44886b61315839b04082">LoadWalletHelper</a>(context, request.params[1], <a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><a id="l02686" name="l02686"></a><span class="lineno"> 2686</span> </div>
<div class="line"><a id="l02687" name="l02687"></a><span class="lineno"> 2687</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> obj(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l02688" name="l02688"></a><span class="lineno"> 2688</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;name&quot;</span>, <a class="code hl_namespace" href="namespacewallet.html">wallet</a>-&gt;GetName());</div>
<div class="line"><a id="l02689" name="l02689"></a><span class="lineno"> 2689</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;warning&quot;</span>, <a class="code hl_function" href="string_8h.html#a2d2fed244106143037218040e400b8ee">Join</a>(warnings, <a class="code hl_function" href="translation_8h.html#adff31aba0266455557bf721860f481b8">Untranslated</a>(<span class="stringliteral">&quot;\n&quot;</span>)).original);</div>
<div class="line"><a id="l02690" name="l02690"></a><span class="lineno"> 2690</span> </div>
<div class="line"><a id="l02691" name="l02691"></a><span class="lineno"> 2691</span>    <span class="keywordflow">return</span> obj;</div>
<div class="line"><a id="l02692" name="l02692"></a><span class="lineno"> 2692</span>},</div>
<div class="line"><a id="l02693" name="l02693"></a><span class="lineno"> 2693</span>    };</div>
<div class="line"><a id="l02694" name="l02694"></a><span class="lineno"> 2694</span>}</div>
<div class="line"><a id="l02695" name="l02695"></a><span class="lineno"> 2695</span> </div>
<div class="line"><a id="l02696" name="l02696"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a8be115100bcca52490ac228973a5af70"> 2696</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a8be115100bcca52490ac228973a5af70">setwalletflag</a>()</div>
<div class="line"><a id="l02697" name="l02697"></a><span class="lineno"> 2697</span>{</div>
<div class="line"><a id="l02698" name="l02698"></a><span class="lineno"> 2698</span>            std::string <a class="code hl_variable" href="bitcoin-tx_8cpp.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l02699" name="l02699"></a><span class="lineno"> 2699</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; it : <a class="code hl_variable" href="wallet_2wallet_8h.html#a567f7a075600e62276c056dcac081838">WALLET_FLAG_MAP</a>)</div>
<div class="line"><a id="l02700" name="l02700"></a><span class="lineno"> 2700</span>                <span class="keywordflow">if</span> (it.second &amp; <a class="code hl_variable" href="wallet_2wallet_8h.html#a1fef6c0986249a94601e238225c94e6d">MUTABLE_WALLET_FLAGS</a>)</div>
<div class="line"><a id="l02701" name="l02701"></a><span class="lineno"> 2701</span>                    <a class="code hl_variable" href="bitcoin-tx_8cpp.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> += (<a class="code hl_variable" href="bitcoin-tx_8cpp.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> == <span class="stringliteral">&quot;&quot;</span> ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;, &quot;</span>) + it.first;</div>
<div class="line"><a id="l02702" name="l02702"></a><span class="lineno"> 2702</span> </div>
<div class="line"><a id="l02703" name="l02703"></a><span class="lineno"> 2703</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;setwalletflag&quot;</span>,</div>
<div class="line"><a id="l02704" name="l02704"></a><span class="lineno"> 2704</span>                <span class="stringliteral">&quot;\nChange the state of the given wallet flag for a wallet.\n&quot;</span>,</div>
<div class="line"><a id="l02705" name="l02705"></a><span class="lineno"> 2705</span>                {</div>
<div class="line"><a id="l02706" name="l02706"></a><span class="lineno"> 2706</span>                    {<span class="stringliteral">&quot;flag&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The name of the flag to change. Current available flags: &quot;</span> + <a class="code hl_variable" href="bitcoin-tx_8cpp.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a>},</div>
<div class="line"><a id="l02707" name="l02707"></a><span class="lineno"> 2707</span>                    {<span class="stringliteral">&quot;value&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">true</span>}, <span class="stringliteral">&quot;The new state.&quot;</span>},</div>
<div class="line"><a id="l02708" name="l02708"></a><span class="lineno"> 2708</span>                },</div>
<div class="line"><a id="l02709" name="l02709"></a><span class="lineno"> 2709</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l02710" name="l02710"></a><span class="lineno"> 2710</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02711" name="l02711"></a><span class="lineno"> 2711</span>                    {</div>
<div class="line"><a id="l02712" name="l02712"></a><span class="lineno"> 2712</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;flag_name&quot;</span>, <span class="stringliteral">&quot;The name of the flag that was modified&quot;</span>},</div>
<div class="line"><a id="l02713" name="l02713"></a><span class="lineno"> 2713</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;flag_state&quot;</span>, <span class="stringliteral">&quot;The new state of the flag&quot;</span>},</div>
<div class="line"><a id="l02714" name="l02714"></a><span class="lineno"> 2714</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;warnings&quot;</span>, <span class="stringliteral">&quot;Any warnings associated with the change&quot;</span>},</div>
<div class="line"><a id="l02715" name="l02715"></a><span class="lineno"> 2715</span>                    }</div>
<div class="line"><a id="l02716" name="l02716"></a><span class="lineno"> 2716</span>                },</div>
<div class="line"><a id="l02717" name="l02717"></a><span class="lineno"> 2717</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l02718" name="l02718"></a><span class="lineno"> 2718</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;setwalletflag&quot;</span>, <span class="stringliteral">&quot;avoid_reuse&quot;</span>)</div>
<div class="line"><a id="l02719" name="l02719"></a><span class="lineno"> 2719</span>                  + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;setwalletflag&quot;</span>, <span class="stringliteral">&quot;\&quot;avoid_reuse\&quot;&quot;</span>)</div>
<div class="line"><a id="l02720" name="l02720"></a><span class="lineno"> 2720</span>                },</div>
<div class="line"><a id="l02721" name="l02721"></a><span class="lineno"> 2721</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l02722" name="l02722"></a><span class="lineno"> 2722</span>{</div>
<div class="line"><a id="l02723" name="l02723"></a><span class="lineno"> 2723</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l02724" name="l02724"></a><span class="lineno"> 2724</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l02725" name="l02725"></a><span class="lineno"> 2725</span> </div>
<div class="line"><a id="l02726" name="l02726"></a><span class="lineno"> 2726</span>    std::string flag_str = request.params[0].<a class="code hl_function" href="class_uni_value.html#a087ea6ccec615333371fa1aaf83ab7df">get_str</a>();</div>
<div class="line"><a id="l02727" name="l02727"></a><span class="lineno"> 2727</span>    <span class="keywordtype">bool</span> value = request.params[1].isNull() || request.params[1].get_bool();</div>
<div class="line"><a id="l02728" name="l02728"></a><span class="lineno"> 2728</span> </div>
<div class="line"><a id="l02729" name="l02729"></a><span class="lineno"> 2729</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="wallet_2wallet_8h.html#a567f7a075600e62276c056dcac081838">WALLET_FLAG_MAP</a>.count(flag_str)) {</div>
<div class="line"><a id="l02730" name="l02730"></a><span class="lineno"> 2730</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;Unknown wallet flag: %s&quot;</span>, flag_str));</div>
<div class="line"><a id="l02731" name="l02731"></a><span class="lineno"> 2731</span>    }</div>
<div class="line"><a id="l02732" name="l02732"></a><span class="lineno"> 2732</span> </div>
<div class="line"><a id="l02733" name="l02733"></a><span class="lineno"> 2733</span>    <span class="keyword">auto</span> flag = <a class="code hl_variable" href="wallet_2wallet_8h.html#a567f7a075600e62276c056dcac081838">WALLET_FLAG_MAP</a>.at(flag_str);</div>
<div class="line"><a id="l02734" name="l02734"></a><span class="lineno"> 2734</span> </div>
<div class="line"><a id="l02735" name="l02735"></a><span class="lineno"> 2735</span>    <span class="keywordflow">if</span> (!(flag &amp; <a class="code hl_variable" href="wallet_2wallet_8h.html#a1fef6c0986249a94601e238225c94e6d">MUTABLE_WALLET_FLAGS</a>)) {</div>
<div class="line"><a id="l02736" name="l02736"></a><span class="lineno"> 2736</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;Wallet flag is immutable: %s&quot;</span>, flag_str));</div>
<div class="line"><a id="l02737" name="l02737"></a><span class="lineno"> 2737</span>    }</div>
<div class="line"><a id="l02738" name="l02738"></a><span class="lineno"> 2738</span> </div>
<div class="line"><a id="l02739" name="l02739"></a><span class="lineno"> 2739</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> res(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l02740" name="l02740"></a><span class="lineno"> 2740</span> </div>
<div class="line"><a id="l02741" name="l02741"></a><span class="lineno"> 2741</span>    <span class="keywordflow">if</span> (pwallet-&gt;IsWalletFlagSet(flag) == value) {</div>
<div class="line"><a id="l02742" name="l02742"></a><span class="lineno"> 2742</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;Wallet flag is already set to %s: %s&quot;</span>, value ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>, flag_str));</div>
<div class="line"><a id="l02743" name="l02743"></a><span class="lineno"> 2743</span>    }</div>
<div class="line"><a id="l02744" name="l02744"></a><span class="lineno"> 2744</span> </div>
<div class="line"><a id="l02745" name="l02745"></a><span class="lineno"> 2745</span>    res.pushKV(<span class="stringliteral">&quot;flag_name&quot;</span>, flag_str);</div>
<div class="line"><a id="l02746" name="l02746"></a><span class="lineno"> 2746</span>    res.pushKV(<span class="stringliteral">&quot;flag_state&quot;</span>, value);</div>
<div class="line"><a id="l02747" name="l02747"></a><span class="lineno"> 2747</span> </div>
<div class="line"><a id="l02748" name="l02748"></a><span class="lineno"> 2748</span>    <span class="keywordflow">if</span> (value) {</div>
<div class="line"><a id="l02749" name="l02749"></a><span class="lineno"> 2749</span>        pwallet-&gt;SetWalletFlag(flag);</div>
<div class="line"><a id="l02750" name="l02750"></a><span class="lineno"> 2750</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02751" name="l02751"></a><span class="lineno"> 2751</span>        pwallet-&gt;UnsetWalletFlag(flag);</div>
<div class="line"><a id="l02752" name="l02752"></a><span class="lineno"> 2752</span>    }</div>
<div class="line"><a id="l02753" name="l02753"></a><span class="lineno"> 2753</span> </div>
<div class="line"><a id="l02754" name="l02754"></a><span class="lineno"> 2754</span>    <span class="keywordflow">if</span> (flag &amp;&amp; value &amp;&amp; <a class="code hl_variable" href="wallet_2wallet_8cpp.html#a37411e66636f2a9cda4697b08fe557b7">WALLET_FLAG_CAVEATS</a>.count(flag)) {</div>
<div class="line"><a id="l02755" name="l02755"></a><span class="lineno"> 2755</span>        res.pushKV(<span class="stringliteral">&quot;warnings&quot;</span>, <a class="code hl_variable" href="wallet_2wallet_8cpp.html#a37411e66636f2a9cda4697b08fe557b7">WALLET_FLAG_CAVEATS</a>.at(flag));</div>
<div class="line"><a id="l02756" name="l02756"></a><span class="lineno"> 2756</span>    }</div>
<div class="line"><a id="l02757" name="l02757"></a><span class="lineno"> 2757</span> </div>
<div class="line"><a id="l02758" name="l02758"></a><span class="lineno"> 2758</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l02759" name="l02759"></a><span class="lineno"> 2759</span>},</div>
<div class="line"><a id="l02760" name="l02760"></a><span class="lineno"> 2760</span>    };</div>
<div class="line"><a id="l02761" name="l02761"></a><span class="lineno"> 2761</span>}</div>
<div class="line"><a id="l02762" name="l02762"></a><span class="lineno"> 2762</span> </div>
<div class="line"><a id="l02763" name="l02763"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a014c0939fbe930a1471953cff82e3413"> 2763</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a014c0939fbe930a1471953cff82e3413">createwallet</a>()</div>
<div class="line"><a id="l02764" name="l02764"></a><span class="lineno"> 2764</span>{</div>
<div class="line"><a id="l02765" name="l02765"></a><span class="lineno"> 2765</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{</div>
<div class="line"><a id="l02766" name="l02766"></a><span class="lineno"> 2766</span>        <span class="stringliteral">&quot;createwallet&quot;</span>,</div>
<div class="line"><a id="l02767" name="l02767"></a><span class="lineno"> 2767</span>        <span class="stringliteral">&quot;\nCreates and loads a new wallet.\n&quot;</span>,</div>
<div class="line"><a id="l02768" name="l02768"></a><span class="lineno"> 2768</span>        {</div>
<div class="line"><a id="l02769" name="l02769"></a><span class="lineno"> 2769</span>            {<span class="stringliteral">&quot;wallet_name&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The name for the new wallet. If this is a path, the wallet will be created at the path location.&quot;</span>},</div>
<div class="line"><a id="l02770" name="l02770"></a><span class="lineno"> 2770</span>            {<span class="stringliteral">&quot;disable_private_keys&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;Disable the possibility of private keys (only watchonlys are possible in this mode).&quot;</span>},</div>
<div class="line"><a id="l02771" name="l02771"></a><span class="lineno"> 2771</span>            {<span class="stringliteral">&quot;blank&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;Create a blank wallet. A blank wallet has no keys or HD seed. One can be set using sethdseed.&quot;</span>},</div>
<div class="line"><a id="l02772" name="l02772"></a><span class="lineno"> 2772</span>            {<span class="stringliteral">&quot;passphrase&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;Encrypt the wallet with this passphrase.&quot;</span>},</div>
<div class="line"><a id="l02773" name="l02773"></a><span class="lineno"> 2773</span>            {<span class="stringliteral">&quot;avoid_reuse&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;Keep track of coin reuse, and treat dirty and clean coins differently with privacy considerations in mind.&quot;</span>},</div>
<div class="line"><a id="l02774" name="l02774"></a><span class="lineno"> 2774</span>            {<span class="stringliteral">&quot;descriptors&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">true</span>}, <span class="stringliteral">&quot;Create a native descriptor wallet. The wallet will use descriptors internally to handle address creation&quot;</span>},</div>
<div class="line"><a id="l02775" name="l02775"></a><span class="lineno"> 2775</span>            {<span class="stringliteral">&quot;load_on_startup&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;Save wallet name to persistent settings and load on startup. True to add wallet to startup list, false to remove, null to leave unchanged.&quot;</span>},</div>
<div class="line"><a id="l02776" name="l02776"></a><span class="lineno"> 2776</span>            {<span class="stringliteral">&quot;external_signer&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;Use an external signer such as a hardware wallet. Requires -signer to be configured. Wallet creation will fail if keys cannot be fetched. Requires disable_private_keys and descriptors set to true.&quot;</span>},</div>
<div class="line"><a id="l02777" name="l02777"></a><span class="lineno"> 2777</span>        },</div>
<div class="line"><a id="l02778" name="l02778"></a><span class="lineno"> 2778</span>        <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l02779" name="l02779"></a><span class="lineno"> 2779</span>            <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02780" name="l02780"></a><span class="lineno"> 2780</span>            {</div>
<div class="line"><a id="l02781" name="l02781"></a><span class="lineno"> 2781</span>                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;The wallet name if created successfully. If the wallet was created using a full path, the wallet_name will be the full path.&quot;</span>},</div>
<div class="line"><a id="l02782" name="l02782"></a><span class="lineno"> 2782</span>                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;warning&quot;</span>, <span class="stringliteral">&quot;Warning message if wallet was not loaded cleanly.&quot;</span>},</div>
<div class="line"><a id="l02783" name="l02783"></a><span class="lineno"> 2783</span>            }</div>
<div class="line"><a id="l02784" name="l02784"></a><span class="lineno"> 2784</span>        },</div>
<div class="line"><a id="l02785" name="l02785"></a><span class="lineno"> 2785</span>        <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l02786" name="l02786"></a><span class="lineno"> 2786</span>            <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;createwallet&quot;</span>, <span class="stringliteral">&quot;\&quot;testwallet\&quot;&quot;</span>)</div>
<div class="line"><a id="l02787" name="l02787"></a><span class="lineno"> 2787</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;createwallet&quot;</span>, <span class="stringliteral">&quot;\&quot;testwallet\&quot;&quot;</span>)</div>
<div class="line"><a id="l02788" name="l02788"></a><span class="lineno"> 2788</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#aef68e5e578187453853ef0db399ee5f9">HelpExampleCliNamed</a>(<span class="stringliteral">&quot;createwallet&quot;</span>, {{<span class="stringliteral">&quot;wallet_name&quot;</span>, <span class="stringliteral">&quot;descriptors&quot;</span>}, {<span class="stringliteral">&quot;avoid_reuse&quot;</span>, <span class="keyword">true</span>}, {<span class="stringliteral">&quot;descriptors&quot;</span>, <span class="keyword">true</span>}, {<span class="stringliteral">&quot;load_on_startup&quot;</span>, <span class="keyword">true</span>}})</div>
<div class="line"><a id="l02789" name="l02789"></a><span class="lineno"> 2789</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a33f1f1f1de6d60ce9bb6c96da2fe0314">HelpExampleRpcNamed</a>(<span class="stringliteral">&quot;createwallet&quot;</span>, {{<span class="stringliteral">&quot;wallet_name&quot;</span>, <span class="stringliteral">&quot;descriptors&quot;</span>}, {<span class="stringliteral">&quot;avoid_reuse&quot;</span>, <span class="keyword">true</span>}, {<span class="stringliteral">&quot;descriptors&quot;</span>, <span class="keyword">true</span>}, {<span class="stringliteral">&quot;load_on_startup&quot;</span>, <span class="keyword">true</span>}})</div>
<div class="line"><a id="l02790" name="l02790"></a><span class="lineno"> 2790</span>        },</div>
<div class="line"><a id="l02791" name="l02791"></a><span class="lineno"> 2791</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l02792" name="l02792"></a><span class="lineno"> 2792</span>{</div>
<div class="line"><a id="l02793" name="l02793"></a><span class="lineno"> 2793</span>    <a class="code hl_struct" href="struct_wallet_context.html">WalletContext</a>&amp; context = <a class="code hl_function" href="rpcwallet_8cpp.html#adfcbdc968355be9c0ea292e1ad2239df">EnsureWalletContext</a>(request.context);</div>
<div class="line"><a id="l02794" name="l02794"></a><span class="lineno"> 2794</span>    uint64_t <a class="code hl_variable" href="bitcoin-tx_8cpp.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> = 0;</div>
<div class="line"><a id="l02795" name="l02795"></a><span class="lineno"> 2795</span>    <span class="keywordflow">if</span> (!request.params[1].isNull() &amp;&amp; request.params[1].get_bool()) {</div>
<div class="line"><a id="l02796" name="l02796"></a><span class="lineno"> 2796</span>        <a class="code hl_variable" href="bitcoin-tx_8cpp.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> |= <a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a47b6a219e3ca6733b2a251be3e5def86">WALLET_FLAG_DISABLE_PRIVATE_KEYS</a>;</div>
<div class="line"><a id="l02797" name="l02797"></a><span class="lineno"> 2797</span>    }</div>
<div class="line"><a id="l02798" name="l02798"></a><span class="lineno"> 2798</span> </div>
<div class="line"><a id="l02799" name="l02799"></a><span class="lineno"> 2799</span>    <span class="keywordflow">if</span> (!request.params[2].isNull() &amp;&amp; request.params[2].get_bool()) {</div>
<div class="line"><a id="l02800" name="l02800"></a><span class="lineno"> 2800</span>        <a class="code hl_variable" href="bitcoin-tx_8cpp.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> |= <a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8ae89353a8ab93640fdd04106570ba8660">WALLET_FLAG_BLANK_WALLET</a>;</div>
<div class="line"><a id="l02801" name="l02801"></a><span class="lineno"> 2801</span>    }</div>
<div class="line"><a id="l02802" name="l02802"></a><span class="lineno"> 2802</span>    <a class="code hl_typedef" href="secure_8h.html#a396ed773a5ac24aec28c8f7dc413c7ac">SecureString</a> passphrase;</div>
<div class="line"><a id="l02803" name="l02803"></a><span class="lineno"> 2803</span>    passphrase.reserve(100);</div>
<div class="line"><a id="l02804" name="l02804"></a><span class="lineno"> 2804</span>    std::vector&lt;bilingual_str&gt; warnings;</div>
<div class="line"><a id="l02805" name="l02805"></a><span class="lineno"> 2805</span>    <span class="keywordflow">if</span> (!request.params[3].isNull()) {</div>
<div class="line"><a id="l02806" name="l02806"></a><span class="lineno"> 2806</span>        passphrase = request.params[3].get_str().c_str();</div>
<div class="line"><a id="l02807" name="l02807"></a><span class="lineno"> 2807</span>        <span class="keywordflow">if</span> (passphrase.empty()) {</div>
<div class="line"><a id="l02808" name="l02808"></a><span class="lineno"> 2808</span>            <span class="comment">// Empty string means unencrypted</span></div>
<div class="line"><a id="l02809" name="l02809"></a><span class="lineno"> 2809</span>            warnings.emplace_back(<a class="code hl_function" href="translation_8h.html#adff31aba0266455557bf721860f481b8">Untranslated</a>(<span class="stringliteral">&quot;Empty string given as passphrase, wallet will not be encrypted.&quot;</span>));</div>
<div class="line"><a id="l02810" name="l02810"></a><span class="lineno"> 2810</span>        }</div>
<div class="line"><a id="l02811" name="l02811"></a><span class="lineno"> 2811</span>    }</div>
<div class="line"><a id="l02812" name="l02812"></a><span class="lineno"> 2812</span> </div>
<div class="line"><a id="l02813" name="l02813"></a><span class="lineno"> 2813</span>    <span class="keywordflow">if</span> (!request.params[4].isNull() &amp;&amp; request.params[4].get_bool()) {</div>
<div class="line"><a id="l02814" name="l02814"></a><span class="lineno"> 2814</span>        <a class="code hl_variable" href="bitcoin-tx_8cpp.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> |= <a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a4e9b88a014a2fa4a31f3698fef9f5ce2">WALLET_FLAG_AVOID_REUSE</a>;</div>
<div class="line"><a id="l02815" name="l02815"></a><span class="lineno"> 2815</span>    }</div>
<div class="line"><a id="l02816" name="l02816"></a><span class="lineno"> 2816</span>    <span class="keywordflow">if</span> (request.params[5].isNull() || request.params[5].get_bool()) {</div>
<div class="line"><a id="l02817" name="l02817"></a><span class="lineno"> 2817</span><span class="preprocessor">#ifndef USE_SQLITE</span></div>
<div class="line"><a id="l02818" name="l02818"></a><span class="lineno"> 2818</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Compiled without sqlite support (required for descriptor wallets)&quot;</span>);</div>
<div class="line"><a id="l02819" name="l02819"></a><span class="lineno"> 2819</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02820" name="l02820"></a><span class="lineno"> 2820</span>        <a class="code hl_variable" href="bitcoin-tx_8cpp.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> |= <a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8aa07cadd2d20ca06dbd3f0498c4d6fd3f">WALLET_FLAG_DESCRIPTORS</a>;</div>
<div class="line"><a id="l02821" name="l02821"></a><span class="lineno"> 2821</span>    }</div>
<div class="line"><a id="l02822" name="l02822"></a><span class="lineno"> 2822</span>    <span class="keywordflow">if</span> (!request.params[7].isNull() &amp;&amp; request.params[7].get_bool()) {</div>
<div class="line"><a id="l02823" name="l02823"></a><span class="lineno"> 2823</span><span class="preprocessor">#ifdef ENABLE_EXTERNAL_SIGNER</span></div>
<div class="line"><a id="l02824" name="l02824"></a><span class="lineno"> 2824</span>        <a class="code hl_variable" href="bitcoin-tx_8cpp.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> |= <a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a3e7090cdbc60a5ff6f3c4cdb9b02019c">WALLET_FLAG_EXTERNAL_SIGNER</a>;</div>
<div class="line"><a id="l02825" name="l02825"></a><span class="lineno"> 2825</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l02826" name="l02826"></a><span class="lineno"> 2826</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Compiled without external signing support (required for external signing)&quot;</span>);</div>
<div class="line"><a id="l02827" name="l02827"></a><span class="lineno"> 2827</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02828" name="l02828"></a><span class="lineno"> 2828</span>    }</div>
<div class="line"><a id="l02829" name="l02829"></a><span class="lineno"> 2829</span> </div>
<div class="line"><a id="l02830" name="l02830"></a><span class="lineno"> 2830</span><span class="preprocessor">#ifndef USE_BDB</span></div>
<div class="line"><a id="l02831" name="l02831"></a><span class="lineno"> 2831</span>    <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="bitcoin-tx_8cpp.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> &amp; <a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8aa07cadd2d20ca06dbd3f0498c4d6fd3f">WALLET_FLAG_DESCRIPTORS</a>)) {</div>
<div class="line"><a id="l02832" name="l02832"></a><span class="lineno"> 2832</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Compiled without bdb support (required for legacy wallets)&quot;</span>);</div>
<div class="line"><a id="l02833" name="l02833"></a><span class="lineno"> 2833</span>    }</div>
<div class="line"><a id="l02834" name="l02834"></a><span class="lineno"> 2834</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02835" name="l02835"></a><span class="lineno"> 2835</span> </div>
<div class="line"><a id="l02836" name="l02836"></a><span class="lineno"> 2836</span>    <a class="code hl_struct" href="struct_database_options.html">DatabaseOptions</a> options;</div>
<div class="line"><a id="l02837" name="l02837"></a><span class="lineno"> 2837</span>    <a class="code hl_enumeration" href="db_8h.html#a3e1dbc3fee0c633ca09b18754de3644d">DatabaseStatus</a> status;</div>
<div class="line"><a id="l02838" name="l02838"></a><span class="lineno"> 2838</span>    options.<a class="code hl_variable" href="struct_database_options.html#a250413e3e2c7a33b91647c002de65e7b">require_create</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02839" name="l02839"></a><span class="lineno"> 2839</span>    options.<a class="code hl_variable" href="struct_database_options.html#a64d2c770c1443c181dc5a7fbb2d637c8">create_flags</a> = <a class="code hl_variable" href="bitcoin-tx_8cpp.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a>;</div>
<div class="line"><a id="l02840" name="l02840"></a><span class="lineno"> 2840</span>    options.<a class="code hl_variable" href="struct_database_options.html#af6a4dd79a3e065096b7cea3e188bb7d3">create_passphrase</a> = passphrase;</div>
<div class="line"><a id="l02841" name="l02841"></a><span class="lineno"> 2841</span>    <a class="code hl_struct" href="structbilingual__str.html">bilingual_str</a> <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>;</div>
<div class="line"><a id="l02842" name="l02842"></a><span class="lineno"> 2842</span>    std::optional&lt;bool&gt; load_on_start = request.params[6].isNull() ? std::nullopt : std::optional&lt;bool&gt;(request.params[6].get_bool());</div>
<div class="line"><a id="l02843" name="l02843"></a><span class="lineno"> 2843</span>    <span class="keyword">const</span> std::shared_ptr&lt;CWallet&gt; <a class="code hl_namespace" href="namespacewallet.html">wallet</a> = <a class="code hl_function" href="wallet_2wallet_8cpp.html#aa94303ef9bec8e17ae19a208af7c0b7d">CreateWallet</a>(context, request.params[0].get_str(), load_on_start, options, status, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>, warnings);</div>
<div class="line"><a id="l02844" name="l02844"></a><span class="lineno"> 2844</span>    <span class="keywordflow">if</span> (!<a class="code hl_namespace" href="namespacewallet.html">wallet</a>) {</div>
<div class="line"><a id="l02845" name="l02845"></a><span class="lineno"> 2845</span>        <a class="code hl_enumeration" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85dead">RPCErrorCode</a> code = status == <a class="code hl_enumvalue" href="db_8h.html#a3e1dbc3fee0c633ca09b18754de3644dad3af674dfdb2058d55d9db8d9aae14a1">DatabaseStatus::FAILED_ENCRYPT</a> ? <a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada796c728d5ec3fc308609494e1d608940">RPC_WALLET_ENCRYPTION_FAILED</a> : <a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>;</div>
<div class="line"><a id="l02846" name="l02846"></a><span class="lineno"> 2846</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(code, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>.original);</div>
<div class="line"><a id="l02847" name="l02847"></a><span class="lineno"> 2847</span>    }</div>
<div class="line"><a id="l02848" name="l02848"></a><span class="lineno"> 2848</span> </div>
<div class="line"><a id="l02849" name="l02849"></a><span class="lineno"> 2849</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> obj(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l02850" name="l02850"></a><span class="lineno"> 2850</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;name&quot;</span>, <a class="code hl_namespace" href="namespacewallet.html">wallet</a>-&gt;GetName());</div>
<div class="line"><a id="l02851" name="l02851"></a><span class="lineno"> 2851</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;warning&quot;</span>, <a class="code hl_function" href="string_8h.html#a2d2fed244106143037218040e400b8ee">Join</a>(warnings, <a class="code hl_function" href="translation_8h.html#adff31aba0266455557bf721860f481b8">Untranslated</a>(<span class="stringliteral">&quot;\n&quot;</span>)).original);</div>
<div class="line"><a id="l02852" name="l02852"></a><span class="lineno"> 2852</span> </div>
<div class="line"><a id="l02853" name="l02853"></a><span class="lineno"> 2853</span>    <span class="keywordflow">return</span> obj;</div>
<div class="line"><a id="l02854" name="l02854"></a><span class="lineno"> 2854</span>},</div>
<div class="line"><a id="l02855" name="l02855"></a><span class="lineno"> 2855</span>    };</div>
<div class="line"><a id="l02856" name="l02856"></a><span class="lineno"> 2856</span>}</div>
<div class="line"><a id="l02857" name="l02857"></a><span class="lineno"> 2857</span> </div>
<div class="line"><a id="l02858" name="l02858"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a29cefbe7aa7060f3612ac16ed89b18a8"> 2858</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a29cefbe7aa7060f3612ac16ed89b18a8">restorewallet</a>()</div>
<div class="line"><a id="l02859" name="l02859"></a><span class="lineno"> 2859</span>{</div>
<div class="line"><a id="l02860" name="l02860"></a><span class="lineno"> 2860</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{</div>
<div class="line"><a id="l02861" name="l02861"></a><span class="lineno"> 2861</span>        <span class="stringliteral">&quot;restorewallet&quot;</span>,</div>
<div class="line"><a id="l02862" name="l02862"></a><span class="lineno"> 2862</span>        <span class="stringliteral">&quot;\nRestore and loads a wallet from backup.\n&quot;</span>,</div>
<div class="line"><a id="l02863" name="l02863"></a><span class="lineno"> 2863</span>        {</div>
<div class="line"><a id="l02864" name="l02864"></a><span class="lineno"> 2864</span>            {<span class="stringliteral">&quot;wallet_name&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The name that will be applied to the restored wallet&quot;</span>},</div>
<div class="line"><a id="l02865" name="l02865"></a><span class="lineno"> 2865</span>            {<span class="stringliteral">&quot;backup_file&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The backup file that will be used to restore the wallet.&quot;</span>},</div>
<div class="line"><a id="l02866" name="l02866"></a><span class="lineno"> 2866</span>            {<span class="stringliteral">&quot;load_on_startup&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;Save wallet name to persistent settings and load on startup. True to add wallet to startup list, false to remove, null to leave unchanged.&quot;</span>},</div>
<div class="line"><a id="l02867" name="l02867"></a><span class="lineno"> 2867</span>        },</div>
<div class="line"><a id="l02868" name="l02868"></a><span class="lineno"> 2868</span>        <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l02869" name="l02869"></a><span class="lineno"> 2869</span>            <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02870" name="l02870"></a><span class="lineno"> 2870</span>            {</div>
<div class="line"><a id="l02871" name="l02871"></a><span class="lineno"> 2871</span>                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;The wallet name if restored successfully.&quot;</span>},</div>
<div class="line"><a id="l02872" name="l02872"></a><span class="lineno"> 2872</span>                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;warning&quot;</span>, <span class="stringliteral">&quot;Warning message if wallet was not loaded cleanly.&quot;</span>},</div>
<div class="line"><a id="l02873" name="l02873"></a><span class="lineno"> 2873</span>            }</div>
<div class="line"><a id="l02874" name="l02874"></a><span class="lineno"> 2874</span>        },</div>
<div class="line"><a id="l02875" name="l02875"></a><span class="lineno"> 2875</span>        <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l02876" name="l02876"></a><span class="lineno"> 2876</span>            <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;restorewallet&quot;</span>, <span class="stringliteral">&quot;\&quot;testwallet\&quot; \&quot;home\\backups\\backup-file.bak\&quot;&quot;</span>)</div>
<div class="line"><a id="l02877" name="l02877"></a><span class="lineno"> 2877</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;restorewallet&quot;</span>, <span class="stringliteral">&quot;\&quot;testwallet\&quot; \&quot;home\\backups\\backup-file.bak\&quot;&quot;</span>)</div>
<div class="line"><a id="l02878" name="l02878"></a><span class="lineno"> 2878</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#aef68e5e578187453853ef0db399ee5f9">HelpExampleCliNamed</a>(<span class="stringliteral">&quot;restorewallet&quot;</span>, {{<span class="stringliteral">&quot;wallet_name&quot;</span>, <span class="stringliteral">&quot;testwallet&quot;</span>}, {<span class="stringliteral">&quot;backup_file&quot;</span>, <span class="stringliteral">&quot;home\\backups\\backup-file.bak\&quot;&quot;</span>}, {<span class="stringliteral">&quot;load_on_startup&quot;</span>, <span class="keyword">true</span>}})</div>
<div class="line"><a id="l02879" name="l02879"></a><span class="lineno"> 2879</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a33f1f1f1de6d60ce9bb6c96da2fe0314">HelpExampleRpcNamed</a>(<span class="stringliteral">&quot;restorewallet&quot;</span>, {{<span class="stringliteral">&quot;wallet_name&quot;</span>, <span class="stringliteral">&quot;testwallet&quot;</span>}, {<span class="stringliteral">&quot;backup_file&quot;</span>, <span class="stringliteral">&quot;home\\backups\\backup-file.bak\&quot;&quot;</span>}, {<span class="stringliteral">&quot;load_on_startup&quot;</span>, <span class="keyword">true</span>}})</div>
<div class="line"><a id="l02880" name="l02880"></a><span class="lineno"> 2880</span>        },</div>
<div class="line"><a id="l02881" name="l02881"></a><span class="lineno"> 2881</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l02882" name="l02882"></a><span class="lineno"> 2882</span>{</div>
<div class="line"><a id="l02883" name="l02883"></a><span class="lineno"> 2883</span> </div>
<div class="line"><a id="l02884" name="l02884"></a><span class="lineno"> 2884</span>    <a class="code hl_struct" href="struct_wallet_context.html">WalletContext</a>&amp; context = <a class="code hl_function" href="rpcwallet_8cpp.html#adfcbdc968355be9c0ea292e1ad2239df">EnsureWalletContext</a>(request.context);</div>
<div class="line"><a id="l02885" name="l02885"></a><span class="lineno"> 2885</span> </div>
<div class="line"><a id="l02886" name="l02886"></a><span class="lineno"> 2886</span>    <span class="keyword">auto</span> backup_file = <a class="code hl_function" href="namespacefs.html#a569be13cd9507f234827b70c296e517c">fs::u8path</a>(request.params[1].get_str());</div>
<div class="line"><a id="l02887" name="l02887"></a><span class="lineno"> 2887</span> </div>
<div class="line"><a id="l02888" name="l02888"></a><span class="lineno"> 2888</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacefs.html#a894f1b097b4472313617893c5142928e">fs::exists</a>(backup_file)) {</div>
<div class="line"><a id="l02889" name="l02889"></a><span class="lineno"> 2889</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Backup file does not exist&quot;</span>);</div>
<div class="line"><a id="l02890" name="l02890"></a><span class="lineno"> 2890</span>    }</div>
<div class="line"><a id="l02891" name="l02891"></a><span class="lineno"> 2891</span> </div>
<div class="line"><a id="l02892" name="l02892"></a><span class="lineno"> 2892</span>    std::string wallet_name = request.params[0].get_str();</div>
<div class="line"><a id="l02893" name="l02893"></a><span class="lineno"> 2893</span> </div>
<div class="line"><a id="l02894" name="l02894"></a><span class="lineno"> 2894</span>    <span class="keyword">const</span> <a class="code hl_class" href="classfs_1_1path.html">fs::path</a> wallet_path = <a class="code hl_function" href="namespacefsbridge.html#a52fb7cbee83545bb82dbb19ef9c753e5">fsbridge::AbsPathJoin</a>(<a class="code hl_function" href="walletutil_8cpp.html#aa4cddcdbe214eef41ac6e1f6666a8048">GetWalletDir</a>(), <a class="code hl_function" href="namespacefs.html#a569be13cd9507f234827b70c296e517c">fs::u8path</a>(wallet_name));</div>
<div class="line"><a id="l02895" name="l02895"></a><span class="lineno"> 2895</span> </div>
<div class="line"><a id="l02896" name="l02896"></a><span class="lineno"> 2896</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacefs.html#a894f1b097b4472313617893c5142928e">fs::exists</a>(wallet_path)) {</div>
<div class="line"><a id="l02897" name="l02897"></a><span class="lineno"> 2897</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Wallet name already exists.&quot;</span>);</div>
<div class="line"><a id="l02898" name="l02898"></a><span class="lineno"> 2898</span>    }</div>
<div class="line"><a id="l02899" name="l02899"></a><span class="lineno"> 2899</span> </div>
<div class="line"><a id="l02900" name="l02900"></a><span class="lineno"> 2900</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="util_2system_8cpp.html#a9042a919d837da9d97311a0c460c597c">TryCreateDirectories</a>(wallet_path)) {</div>
<div class="line"><a id="l02901" name="l02901"></a><span class="lineno"> 2901</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;Failed to create database path &#39;%s&#39;. Database already exists.&quot;</span>, wallet_path.<a class="code hl_function" href="classfs_1_1path.html#a564975456d024dab5b33103085ad9957">u8string</a>()));</div>
<div class="line"><a id="l02902" name="l02902"></a><span class="lineno"> 2902</span>    }</div>
<div class="line"><a id="l02903" name="l02903"></a><span class="lineno"> 2903</span> </div>
<div class="line"><a id="l02904" name="l02904"></a><span class="lineno"> 2904</span>    <span class="keyword">auto</span> wallet_file = wallet_path / <span class="stringliteral">&quot;wallet.dat&quot;</span>;</div>
<div class="line"><a id="l02905" name="l02905"></a><span class="lineno"> 2905</span> </div>
<div class="line"><a id="l02906" name="l02906"></a><span class="lineno"> 2906</span>    fs::copy_file(backup_file, wallet_file, fs::copy_option::fail_if_exists);</div>
<div class="line"><a id="l02907" name="l02907"></a><span class="lineno"> 2907</span> </div>
<div class="line"><a id="l02908" name="l02908"></a><span class="lineno"> 2908</span>    <span class="keyword">auto</span> [<a class="code hl_namespace" href="namespacewallet.html">wallet</a>, warnings] = <a class="code hl_function" href="rpcwallet_8cpp.html#a4e8abcedebad44886b61315839b04082">LoadWalletHelper</a>(context, request.params[2], wallet_name);</div>
<div class="line"><a id="l02909" name="l02909"></a><span class="lineno"> 2909</span> </div>
<div class="line"><a id="l02910" name="l02910"></a><span class="lineno"> 2910</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> obj(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l02911" name="l02911"></a><span class="lineno"> 2911</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;name&quot;</span>, <a class="code hl_namespace" href="namespacewallet.html">wallet</a>-&gt;GetName());</div>
<div class="line"><a id="l02912" name="l02912"></a><span class="lineno"> 2912</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;warning&quot;</span>, <a class="code hl_function" href="string_8h.html#a2d2fed244106143037218040e400b8ee">Join</a>(warnings, <a class="code hl_function" href="translation_8h.html#adff31aba0266455557bf721860f481b8">Untranslated</a>(<span class="stringliteral">&quot;\n&quot;</span>)).original);</div>
<div class="line"><a id="l02913" name="l02913"></a><span class="lineno"> 2913</span> </div>
<div class="line"><a id="l02914" name="l02914"></a><span class="lineno"> 2914</span>    <span class="keywordflow">return</span> obj;</div>
<div class="line"><a id="l02915" name="l02915"></a><span class="lineno"> 2915</span> </div>
<div class="line"><a id="l02916" name="l02916"></a><span class="lineno"> 2916</span>},</div>
<div class="line"><a id="l02917" name="l02917"></a><span class="lineno"> 2917</span>    };</div>
<div class="line"><a id="l02918" name="l02918"></a><span class="lineno"> 2918</span>}</div>
<div class="line"><a id="l02919" name="l02919"></a><span class="lineno"> 2919</span> </div>
<div class="line"><a id="l02920" name="l02920"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a61a17e52edbfc339d0380b00169dbae7"> 2920</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a61a17e52edbfc339d0380b00169dbae7">unloadwallet</a>()</div>
<div class="line"><a id="l02921" name="l02921"></a><span class="lineno"> 2921</span>{</div>
<div class="line"><a id="l02922" name="l02922"></a><span class="lineno"> 2922</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;unloadwallet&quot;</span>,</div>
<div class="line"><a id="l02923" name="l02923"></a><span class="lineno"> 2923</span>                <span class="stringliteral">&quot;Unloads the wallet referenced by the request endpoint otherwise unloads the wallet specified in the argument.\n&quot;</span></div>
<div class="line"><a id="l02924" name="l02924"></a><span class="lineno"> 2924</span>                <span class="stringliteral">&quot;Specifying the wallet name on a wallet endpoint is invalid.&quot;</span>,</div>
<div class="line"><a id="l02925" name="l02925"></a><span class="lineno"> 2925</span>                {</div>
<div class="line"><a id="l02926" name="l02926"></a><span class="lineno"> 2926</span>                    {<span class="stringliteral">&quot;wallet_name&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;the wallet name from the RPC endpoint&quot;</span>}, <span class="stringliteral">&quot;The name of the wallet to unload. If provided both here and in the RPC endpoint, the two must be identical.&quot;</span>},</div>
<div class="line"><a id="l02927" name="l02927"></a><span class="lineno"> 2927</span>                    {<span class="stringliteral">&quot;load_on_startup&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;Save wallet name to persistent settings and load on startup. True to add wallet to startup list, false to remove, null to leave unchanged.&quot;</span>},</div>
<div class="line"><a id="l02928" name="l02928"></a><span class="lineno"> 2928</span>                },</div>
<div class="line"><a id="l02929" name="l02929"></a><span class="lineno"> 2929</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, {</div>
<div class="line"><a id="l02930" name="l02930"></a><span class="lineno"> 2930</span>                    {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;warning&quot;</span>, <span class="stringliteral">&quot;Warning message if wallet was not unloaded cleanly.&quot;</span>},</div>
<div class="line"><a id="l02931" name="l02931"></a><span class="lineno"> 2931</span>                }},</div>
<div class="line"><a id="l02932" name="l02932"></a><span class="lineno"> 2932</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l02933" name="l02933"></a><span class="lineno"> 2933</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;unloadwallet&quot;</span>, <span class="stringliteral">&quot;wallet_name&quot;</span>)</div>
<div class="line"><a id="l02934" name="l02934"></a><span class="lineno"> 2934</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;unloadwallet&quot;</span>, <span class="stringliteral">&quot;wallet_name&quot;</span>)</div>
<div class="line"><a id="l02935" name="l02935"></a><span class="lineno"> 2935</span>                },</div>
<div class="line"><a id="l02936" name="l02936"></a><span class="lineno"> 2936</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l02937" name="l02937"></a><span class="lineno"> 2937</span>{</div>
<div class="line"><a id="l02938" name="l02938"></a><span class="lineno"> 2938</span>    std::string wallet_name;</div>
<div class="line"><a id="l02939" name="l02939"></a><span class="lineno"> 2939</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rpcwallet_8cpp.html#af704ea42262521346e3be551cfbc5a7f">GetWalletNameFromJSONRPCRequest</a>(request, wallet_name)) {</div>
<div class="line"><a id="l02940" name="l02940"></a><span class="lineno"> 2940</span>        <span class="keywordflow">if</span> (!(request.params[0].isNull() || request.params[0].get_str() == wallet_name)) {</div>
<div class="line"><a id="l02941" name="l02941"></a><span class="lineno"> 2941</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;RPC endpoint wallet and wallet_name parameter specify different wallets&quot;</span>);</div>
<div class="line"><a id="l02942" name="l02942"></a><span class="lineno"> 2942</span>        }</div>
<div class="line"><a id="l02943" name="l02943"></a><span class="lineno"> 2943</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02944" name="l02944"></a><span class="lineno"> 2944</span>        wallet_name = request.params[0].get_str();</div>
<div class="line"><a id="l02945" name="l02945"></a><span class="lineno"> 2945</span>    }</div>
<div class="line"><a id="l02946" name="l02946"></a><span class="lineno"> 2946</span> </div>
<div class="line"><a id="l02947" name="l02947"></a><span class="lineno"> 2947</span>    <a class="code hl_struct" href="struct_wallet_context.html">WalletContext</a>&amp; context = <a class="code hl_function" href="rpcwallet_8cpp.html#adfcbdc968355be9c0ea292e1ad2239df">EnsureWalletContext</a>(request.context);</div>
<div class="line"><a id="l02948" name="l02948"></a><span class="lineno"> 2948</span>    std::shared_ptr&lt;CWallet&gt; <a class="code hl_namespace" href="namespacewallet.html">wallet</a> = <a class="code hl_function" href="wallet_2wallet_8cpp.html#aa28273281d0319a08708afcd3a4d118e">GetWallet</a>(context, wallet_name);</div>
<div class="line"><a id="l02949" name="l02949"></a><span class="lineno"> 2949</span>    <span class="keywordflow">if</span> (!<a class="code hl_namespace" href="namespacewallet.html">wallet</a>) {</div>
<div class="line"><a id="l02950" name="l02950"></a><span class="lineno"> 2950</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadad386a2420e15dbbe0a3405141f2b84de">RPC_WALLET_NOT_FOUND</a>, <span class="stringliteral">&quot;Requested wallet does not exist or is not loaded&quot;</span>);</div>
<div class="line"><a id="l02951" name="l02951"></a><span class="lineno"> 2951</span>    }</div>
<div class="line"><a id="l02952" name="l02952"></a><span class="lineno"> 2952</span> </div>
<div class="line"><a id="l02953" name="l02953"></a><span class="lineno"> 2953</span>    <span class="comment">// Release the &quot;main&quot; shared pointer and prevent further notifications.</span></div>
<div class="line"><a id="l02954" name="l02954"></a><span class="lineno"> 2954</span>    <span class="comment">// Note that any attempt to load the same wallet would fail until the wallet</span></div>
<div class="line"><a id="l02955" name="l02955"></a><span class="lineno"> 2955</span>    <span class="comment">// is destroyed (see CheckUniqueFileid).</span></div>
<div class="line"><a id="l02956" name="l02956"></a><span class="lineno"> 2956</span>    std::vector&lt;bilingual_str&gt; warnings;</div>
<div class="line"><a id="l02957" name="l02957"></a><span class="lineno"> 2957</span>    std::optional&lt;bool&gt; load_on_start = request.params[1].isNull() ? std::nullopt : std::optional&lt;bool&gt;(request.params[1].get_bool());</div>
<div class="line"><a id="l02958" name="l02958"></a><span class="lineno"> 2958</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="wallet_2wallet_8cpp.html#a4e4fc890fe3a1ac51f2cc31ee7b5fd37">RemoveWallet</a>(context, <a class="code hl_namespace" href="namespacewallet.html">wallet</a>, load_on_start, warnings)) {</div>
<div class="line"><a id="l02959" name="l02959"></a><span class="lineno"> 2959</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada5aa884a9e263e1fad4ad13ec564d33d5">RPC_MISC_ERROR</a>, <span class="stringliteral">&quot;Requested wallet already unloaded&quot;</span>);</div>
<div class="line"><a id="l02960" name="l02960"></a><span class="lineno"> 2960</span>    }</div>
<div class="line"><a id="l02961" name="l02961"></a><span class="lineno"> 2961</span> </div>
<div class="line"><a id="l02962" name="l02962"></a><span class="lineno"> 2962</span>    <a class="code hl_function" href="wallet_2wallet_8cpp.html#a5c2a7725ff8796f03471f844ecded3d9">UnloadWallet</a>(std::move(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>));</div>
<div class="line"><a id="l02963" name="l02963"></a><span class="lineno"> 2963</span> </div>
<div class="line"><a id="l02964" name="l02964"></a><span class="lineno"> 2964</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> result(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l02965" name="l02965"></a><span class="lineno"> 2965</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;warning&quot;</span>, <a class="code hl_function" href="string_8h.html#a2d2fed244106143037218040e400b8ee">Join</a>(warnings, <a class="code hl_function" href="translation_8h.html#adff31aba0266455557bf721860f481b8">Untranslated</a>(<span class="stringliteral">&quot;\n&quot;</span>)).original);</div>
<div class="line"><a id="l02966" name="l02966"></a><span class="lineno"> 2966</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l02967" name="l02967"></a><span class="lineno"> 2967</span>},</div>
<div class="line"><a id="l02968" name="l02968"></a><span class="lineno"> 2968</span>    };</div>
<div class="line"><a id="l02969" name="l02969"></a><span class="lineno"> 2969</span>}</div>
<div class="line"><a id="l02970" name="l02970"></a><span class="lineno"> 2970</span> </div>
<div class="line"><a id="l02971" name="l02971"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a0fee713c50d14fbe47f52ea142a09544"> 2971</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a0fee713c50d14fbe47f52ea142a09544">listunspent</a>()</div>
<div class="line"><a id="l02972" name="l02972"></a><span class="lineno"> 2972</span>{</div>
<div class="line"><a id="l02973" name="l02973"></a><span class="lineno"> 2973</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{</div>
<div class="line"><a id="l02974" name="l02974"></a><span class="lineno"> 2974</span>                <span class="stringliteral">&quot;listunspent&quot;</span>,</div>
<div class="line"><a id="l02975" name="l02975"></a><span class="lineno"> 2975</span>                <span class="stringliteral">&quot;\nReturns array of unspent transaction outputs\n&quot;</span></div>
<div class="line"><a id="l02976" name="l02976"></a><span class="lineno"> 2976</span>                <span class="stringliteral">&quot;with between minconf and maxconf (inclusive) confirmations.\n&quot;</span></div>
<div class="line"><a id="l02977" name="l02977"></a><span class="lineno"> 2977</span>                <span class="stringliteral">&quot;Optionally filter to only include txouts paid to specified addresses.\n&quot;</span>,</div>
<div class="line"><a id="l02978" name="l02978"></a><span class="lineno"> 2978</span>                {</div>
<div class="line"><a id="l02979" name="l02979"></a><span class="lineno"> 2979</span>                    {<span class="stringliteral">&quot;minconf&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{1}, <span class="stringliteral">&quot;The minimum confirmations to filter&quot;</span>},</div>
<div class="line"><a id="l02980" name="l02980"></a><span class="lineno"> 2980</span>                    {<span class="stringliteral">&quot;maxconf&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{9999999}, <span class="stringliteral">&quot;The maximum confirmations to filter&quot;</span>},</div>
<div class="line"><a id="l02981" name="l02981"></a><span class="lineno"> 2981</span>                    {<span class="stringliteral">&quot;addresses&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>}, <span class="stringliteral">&quot;The bitcoin addresses to filter&quot;</span>,</div>
<div class="line"><a id="l02982" name="l02982"></a><span class="lineno"> 2982</span>                        {</div>
<div class="line"><a id="l02983" name="l02983"></a><span class="lineno"> 2983</span>                            {<span class="stringliteral">&quot;address&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;bitcoin address&quot;</span>},</div>
<div class="line"><a id="l02984" name="l02984"></a><span class="lineno"> 2984</span>                        },</div>
<div class="line"><a id="l02985" name="l02985"></a><span class="lineno"> 2985</span>                    },</div>
<div class="line"><a id="l02986" name="l02986"></a><span class="lineno"> 2986</span>                    {<span class="stringliteral">&quot;include_unsafe&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">true</span>}, <span class="stringliteral">&quot;Include outputs that are not safe to spend\n&quot;</span></div>
<div class="line"><a id="l02987" name="l02987"></a><span class="lineno"> 2987</span>                              <span class="stringliteral">&quot;See description of \&quot;safe\&quot; attribute below.&quot;</span>},</div>
<div class="line"><a id="l02988" name="l02988"></a><span class="lineno"> 2988</span>                    {<span class="stringliteral">&quot;query_options&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2af34d534adfb78a9e6432be4621a93eec">RPCArg::Type::OBJ</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;JSON with query options&quot;</span>,</div>
<div class="line"><a id="l02989" name="l02989"></a><span class="lineno"> 2989</span>                        {</div>
<div class="line"><a id="l02990" name="l02990"></a><span class="lineno"> 2990</span>                            {<span class="stringliteral">&quot;minimumAmount&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<a class="code hl_function" href="moneystr_8cpp.html#a1ef0729147807284909e10785955672b">FormatMoney</a>(0)}, <span class="stringliteral">&quot;Minimum value of each UTXO in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l02991" name="l02991"></a><span class="lineno"> 2991</span>                            {<span class="stringliteral">&quot;maximumAmount&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;unlimited&quot;</span>}, <span class="stringliteral">&quot;Maximum value of each UTXO in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l02992" name="l02992"></a><span class="lineno"> 2992</span>                            {<span class="stringliteral">&quot;maximumCount&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;unlimited&quot;</span>}, <span class="stringliteral">&quot;Maximum number of UTXOs&quot;</span>},</div>
<div class="line"><a id="l02993" name="l02993"></a><span class="lineno"> 2993</span>                            {<span class="stringliteral">&quot;minimumSumAmount&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;unlimited&quot;</span>}, <span class="stringliteral">&quot;Minimum sum value of all UTXOs in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l02994" name="l02994"></a><span class="lineno"> 2994</span>                        },</div>
<div class="line"><a id="l02995" name="l02995"></a><span class="lineno"> 2995</span>                        <span class="stringliteral">&quot;query_options&quot;</span>},</div>
<div class="line"><a id="l02996" name="l02996"></a><span class="lineno"> 2996</span>                },</div>
<div class="line"><a id="l02997" name="l02997"></a><span class="lineno"> 2997</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l02998" name="l02998"></a><span class="lineno"> 2998</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02999" name="l02999"></a><span class="lineno"> 2999</span>                    {</div>
<div class="line"><a id="l03000" name="l03000"></a><span class="lineno"> 3000</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l03001" name="l03001"></a><span class="lineno"> 3001</span>                        {</div>
<div class="line"><a id="l03002" name="l03002"></a><span class="lineno"> 3002</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;txid&quot;</span>, <span class="stringliteral">&quot;the transaction id&quot;</span>},</div>
<div class="line"><a id="l03003" name="l03003"></a><span class="lineno"> 3003</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;vout&quot;</span>, <span class="stringliteral">&quot;the vout value&quot;</span>},</div>
<div class="line"><a id="l03004" name="l03004"></a><span class="lineno"> 3004</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;address&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;the bitcoin address&quot;</span>},</div>
<div class="line"><a id="l03005" name="l03005"></a><span class="lineno"> 3005</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;label&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The associated label, or \&quot;\&quot; for the default label&quot;</span>},</div>
<div class="line"><a id="l03006" name="l03006"></a><span class="lineno"> 3006</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;scriptPubKey&quot;</span>, <span class="stringliteral">&quot;the script key&quot;</span>},</div>
<div class="line"><a id="l03007" name="l03007"></a><span class="lineno"> 3007</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;amount&quot;</span>, <span class="stringliteral">&quot;the transaction output amount in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a>},</div>
<div class="line"><a id="l03008" name="l03008"></a><span class="lineno"> 3008</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;confirmations&quot;</span>, <span class="stringliteral">&quot;The number of confirmations&quot;</span>},</div>
<div class="line"><a id="l03009" name="l03009"></a><span class="lineno"> 3009</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;ancestorcount&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The number of in-mempool ancestor transactions, including this one (if transaction is in the mempool)&quot;</span>},</div>
<div class="line"><a id="l03010" name="l03010"></a><span class="lineno"> 3010</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;ancestorsize&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The virtual transaction size of in-mempool ancestors, including this one (if transaction is in the mempool)&quot;</span>},</div>
<div class="line"><a id="l03011" name="l03011"></a><span class="lineno"> 3011</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;ancestorfees&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The total fees of in-mempool ancestors (including this one) with fee deltas used for mining priority in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot; (if transaction is in the mempool)&quot;</span>},</div>
<div class="line"><a id="l03012" name="l03012"></a><span class="lineno"> 3012</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;redeemScript&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The redeemScript if scriptPubKey is P2SH&quot;</span>},</div>
<div class="line"><a id="l03013" name="l03013"></a><span class="lineno"> 3013</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;witnessScript&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;witnessScript if the scriptPubKey is P2WSH or P2SH-P2WSH&quot;</span>},</div>
<div class="line"><a id="l03014" name="l03014"></a><span class="lineno"> 3014</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;spendable&quot;</span>, <span class="stringliteral">&quot;Whether we have the private keys to spend this output&quot;</span>},</div>
<div class="line"><a id="l03015" name="l03015"></a><span class="lineno"> 3015</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;solvable&quot;</span>, <span class="stringliteral">&quot;Whether we know how to spend this output, ignoring the lack of keys&quot;</span>},</div>
<div class="line"><a id="l03016" name="l03016"></a><span class="lineno"> 3016</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;reused&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;(only present if avoid_reuse is set) Whether this output is reused/dirty (sent to an address that was previously spent from)&quot;</span>},</div>
<div class="line"><a id="l03017" name="l03017"></a><span class="lineno"> 3017</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;desc&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;(only when solvable) A descriptor for spending this output&quot;</span>},</div>
<div class="line"><a id="l03018" name="l03018"></a><span class="lineno"> 3018</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;safe&quot;</span>, <span class="stringliteral">&quot;Whether this output is considered safe to spend. Unconfirmed transactions\n&quot;</span></div>
<div class="line"><a id="l03019" name="l03019"></a><span class="lineno"> 3019</span>                                                            <span class="stringliteral">&quot;from outside keys and unconfirmed replacement transactions are considered unsafe\n&quot;</span></div>
<div class="line"><a id="l03020" name="l03020"></a><span class="lineno"> 3020</span>                                                            <span class="stringliteral">&quot;and are not eligible for spending by fundrawtransaction and sendtoaddress.&quot;</span>},</div>
<div class="line"><a id="l03021" name="l03021"></a><span class="lineno"> 3021</span>                        }},</div>
<div class="line"><a id="l03022" name="l03022"></a><span class="lineno"> 3022</span>                    }</div>
<div class="line"><a id="l03023" name="l03023"></a><span class="lineno"> 3023</span>                },</div>
<div class="line"><a id="l03024" name="l03024"></a><span class="lineno"> 3024</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l03025" name="l03025"></a><span class="lineno"> 3025</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listunspent&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l03026" name="l03026"></a><span class="lineno"> 3026</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listunspent&quot;</span>, <span class="stringliteral">&quot;6 9999999 \&quot;[\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\\\&quot;,\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[1] + <span class="stringliteral">&quot;\\\&quot;]\&quot;&quot;</span>)</div>
<div class="line"><a id="l03027" name="l03027"></a><span class="lineno"> 3027</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;listunspent&quot;</span>, <span class="stringliteral">&quot;6, 9999999 \&quot;[\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\\\&quot;,\\\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[1] + <span class="stringliteral">&quot;\\\&quot;]\&quot;&quot;</span>)</div>
<div class="line"><a id="l03028" name="l03028"></a><span class="lineno"> 3028</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listunspent&quot;</span>, <span class="stringliteral">&quot;6 9999999 &#39;[]&#39; true &#39;{ \&quot;minimumAmount\&quot;: 0.005 }&#39;&quot;</span>)</div>
<div class="line"><a id="l03029" name="l03029"></a><span class="lineno"> 3029</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;listunspent&quot;</span>, <span class="stringliteral">&quot;6, 9999999, [] , true, { \&quot;minimumAmount\&quot;: 0.005 } &quot;</span>)</div>
<div class="line"><a id="l03030" name="l03030"></a><span class="lineno"> 3030</span>                },</div>
<div class="line"><a id="l03031" name="l03031"></a><span class="lineno"> 3031</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l03032" name="l03032"></a><span class="lineno"> 3032</span>{</div>
<div class="line"><a id="l03033" name="l03033"></a><span class="lineno"> 3033</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l03034" name="l03034"></a><span class="lineno"> 3034</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l03035" name="l03035"></a><span class="lineno"> 3035</span> </div>
<div class="line"><a id="l03036" name="l03036"></a><span class="lineno"> 3036</span>    <span class="keywordtype">int</span> nMinDepth = 1;</div>
<div class="line"><a id="l03037" name="l03037"></a><span class="lineno"> 3037</span>    <span class="keywordflow">if</span> (!request.params[0].isNull()) {</div>
<div class="line"><a id="l03038" name="l03038"></a><span class="lineno"> 3038</span>        <a class="code hl_function" href="rpc_2util_8cpp.html#a34ca526f05cc7f2281e634a5be48c121">RPCTypeCheckArgument</a>(request.params[0], <a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aba88a44dcdb6e3be0538d14997ff042b">UniValue::VNUM</a>);</div>
<div class="line"><a id="l03039" name="l03039"></a><span class="lineno"> 3039</span>        nMinDepth = request.params[0].get_int();</div>
<div class="line"><a id="l03040" name="l03040"></a><span class="lineno"> 3040</span>    }</div>
<div class="line"><a id="l03041" name="l03041"></a><span class="lineno"> 3041</span> </div>
<div class="line"><a id="l03042" name="l03042"></a><span class="lineno"> 3042</span>    <span class="keywordtype">int</span> nMaxDepth = 9999999;</div>
<div class="line"><a id="l03043" name="l03043"></a><span class="lineno"> 3043</span>    <span class="keywordflow">if</span> (!request.params[1].isNull()) {</div>
<div class="line"><a id="l03044" name="l03044"></a><span class="lineno"> 3044</span>        <a class="code hl_function" href="rpc_2util_8cpp.html#a34ca526f05cc7f2281e634a5be48c121">RPCTypeCheckArgument</a>(request.params[1], <a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aba88a44dcdb6e3be0538d14997ff042b">UniValue::VNUM</a>);</div>
<div class="line"><a id="l03045" name="l03045"></a><span class="lineno"> 3045</span>        nMaxDepth = request.params[1].get_int();</div>
<div class="line"><a id="l03046" name="l03046"></a><span class="lineno"> 3046</span>    }</div>
<div class="line"><a id="l03047" name="l03047"></a><span class="lineno"> 3047</span> </div>
<div class="line"><a id="l03048" name="l03048"></a><span class="lineno"> 3048</span>    std::set&lt;CTxDestination&gt; destinations;</div>
<div class="line"><a id="l03049" name="l03049"></a><span class="lineno"> 3049</span>    <span class="keywordflow">if</span> (!request.params[2].isNull()) {</div>
<div class="line"><a id="l03050" name="l03050"></a><span class="lineno"> 3050</span>        <a class="code hl_function" href="rpc_2util_8cpp.html#a34ca526f05cc7f2281e634a5be48c121">RPCTypeCheckArgument</a>(request.params[2], <a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l03051" name="l03051"></a><span class="lineno"> 3051</span>        <a class="code hl_class" href="class_uni_value.html">UniValue</a> inputs = request.params[2].<a class="code hl_function" href="class_uni_value.html#aa9751b5797cb84d15b9fe4ca217f0b63">get_array</a>();</div>
<div class="line"><a id="l03052" name="l03052"></a><span class="lineno"> 3052</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx = 0; idx &lt; inputs.<a class="code hl_function" href="class_uni_value.html#a5a7394aeb8d5584db7a90c2c041726b1">size</a>(); idx++) {</div>
<div class="line"><a id="l03053" name="l03053"></a><span class="lineno"> 3053</span>            <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; input = inputs[idx];</div>
<div class="line"><a id="l03054" name="l03054"></a><span class="lineno"> 3054</span>            <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> dest = <a class="code hl_function" href="key__io_8cpp.html#ae9479724a35444166ba384a69e1f246c">DecodeDestination</a>(input.<a class="code hl_function" href="class_uni_value.html#a087ea6ccec615333371fa1aaf83ab7df">get_str</a>());</div>
<div class="line"><a id="l03055" name="l03055"></a><span class="lineno"> 3055</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="standard_8cpp.html#adb3a21e4afe9c672720b182ddc7cad7c">IsValidDestination</a>(dest)) {</div>
<div class="line"><a id="l03056" name="l03056"></a><span class="lineno"> 3056</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, std::string(<span class="stringliteral">&quot;Invalid Bitcoin address: &quot;</span>) + input.<a class="code hl_function" href="class_uni_value.html#a087ea6ccec615333371fa1aaf83ab7df">get_str</a>());</div>
<div class="line"><a id="l03057" name="l03057"></a><span class="lineno"> 3057</span>            }</div>
<div class="line"><a id="l03058" name="l03058"></a><span class="lineno"> 3058</span>            <span class="keywordflow">if</span> (!destinations.insert(dest).second) {</div>
<div class="line"><a id="l03059" name="l03059"></a><span class="lineno"> 3059</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, std::string(<span class="stringliteral">&quot;Invalid parameter, duplicated address: &quot;</span>) + input.<a class="code hl_function" href="class_uni_value.html#a087ea6ccec615333371fa1aaf83ab7df">get_str</a>());</div>
<div class="line"><a id="l03060" name="l03060"></a><span class="lineno"> 3060</span>            }</div>
<div class="line"><a id="l03061" name="l03061"></a><span class="lineno"> 3061</span>        }</div>
<div class="line"><a id="l03062" name="l03062"></a><span class="lineno"> 3062</span>    }</div>
<div class="line"><a id="l03063" name="l03063"></a><span class="lineno"> 3063</span> </div>
<div class="line"><a id="l03064" name="l03064"></a><span class="lineno"> 3064</span>    <span class="keywordtype">bool</span> include_unsafe = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03065" name="l03065"></a><span class="lineno"> 3065</span>    <span class="keywordflow">if</span> (!request.params[3].isNull()) {</div>
<div class="line"><a id="l03066" name="l03066"></a><span class="lineno"> 3066</span>        <a class="code hl_function" href="rpc_2util_8cpp.html#a34ca526f05cc7f2281e634a5be48c121">RPCTypeCheckArgument</a>(request.params[3], <a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8">UniValue::VBOOL</a>);</div>
<div class="line"><a id="l03067" name="l03067"></a><span class="lineno"> 3067</span>        include_unsafe = request.params[3].get_bool();</div>
<div class="line"><a id="l03068" name="l03068"></a><span class="lineno"> 3068</span>    }</div>
<div class="line"><a id="l03069" name="l03069"></a><span class="lineno"> 3069</span> </div>
<div class="line"><a id="l03070" name="l03070"></a><span class="lineno"> 3070</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nMinimumAmount = 0;</div>
<div class="line"><a id="l03071" name="l03071"></a><span class="lineno"> 3071</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nMaximumAmount = <a class="code hl_variable" href="amount_8h.html#a01c380e9fbd6f010150d85334a343620">MAX_MONEY</a>;</div>
<div class="line"><a id="l03072" name="l03072"></a><span class="lineno"> 3072</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> nMinimumSumAmount = <a class="code hl_variable" href="amount_8h.html#a01c380e9fbd6f010150d85334a343620">MAX_MONEY</a>;</div>
<div class="line"><a id="l03073" name="l03073"></a><span class="lineno"> 3073</span>    uint64_t nMaximumCount = 0;</div>
<div class="line"><a id="l03074" name="l03074"></a><span class="lineno"> 3074</span> </div>
<div class="line"><a id="l03075" name="l03075"></a><span class="lineno"> 3075</span>    <span class="keywordflow">if</span> (!request.params[4].isNull()) {</div>
<div class="line"><a id="l03076" name="l03076"></a><span class="lineno"> 3076</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; options = request.params[4].<a class="code hl_function" href="class_uni_value.html#a49a6ac464f3c2d918e7379d3203c7337">get_obj</a>();</div>
<div class="line"><a id="l03077" name="l03077"></a><span class="lineno"> 3077</span> </div>
<div class="line"><a id="l03078" name="l03078"></a><span class="lineno"> 3078</span>        <a class="code hl_function" href="rpc_2util_8cpp.html#aec45a2addcbf2231658dce8bbfbb792c">RPCTypeCheckObj</a>(options,</div>
<div class="line"><a id="l03079" name="l03079"></a><span class="lineno"> 3079</span>            {</div>
<div class="line"><a id="l03080" name="l03080"></a><span class="lineno"> 3080</span>                {<span class="stringliteral">&quot;minimumAmount&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>()},</div>
<div class="line"><a id="l03081" name="l03081"></a><span class="lineno"> 3081</span>                {<span class="stringliteral">&quot;maximumAmount&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>()},</div>
<div class="line"><a id="l03082" name="l03082"></a><span class="lineno"> 3082</span>                {<span class="stringliteral">&quot;minimumSumAmount&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>()},</div>
<div class="line"><a id="l03083" name="l03083"></a><span class="lineno"> 3083</span>                {<span class="stringliteral">&quot;maximumCount&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aba88a44dcdb6e3be0538d14997ff042b">UniValue::VNUM</a>)},</div>
<div class="line"><a id="l03084" name="l03084"></a><span class="lineno"> 3084</span>            },</div>
<div class="line"><a id="l03085" name="l03085"></a><span class="lineno"> 3085</span>            <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l03086" name="l03086"></a><span class="lineno"> 3086</span> </div>
<div class="line"><a id="l03087" name="l03087"></a><span class="lineno"> 3087</span>        <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;minimumAmount&quot;</span>))</div>
<div class="line"><a id="l03088" name="l03088"></a><span class="lineno"> 3088</span>            nMinimumAmount = <a class="code hl_function" href="bitcoin-tx_8cpp.html#a58ca09453ed4aac5e1af948b1c6a241f">AmountFromValue</a>(options[<span class="stringliteral">&quot;minimumAmount&quot;</span>]);</div>
<div class="line"><a id="l03089" name="l03089"></a><span class="lineno"> 3089</span> </div>
<div class="line"><a id="l03090" name="l03090"></a><span class="lineno"> 3090</span>        <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;maximumAmount&quot;</span>))</div>
<div class="line"><a id="l03091" name="l03091"></a><span class="lineno"> 3091</span>            nMaximumAmount = <a class="code hl_function" href="bitcoin-tx_8cpp.html#a58ca09453ed4aac5e1af948b1c6a241f">AmountFromValue</a>(options[<span class="stringliteral">&quot;maximumAmount&quot;</span>]);</div>
<div class="line"><a id="l03092" name="l03092"></a><span class="lineno"> 3092</span> </div>
<div class="line"><a id="l03093" name="l03093"></a><span class="lineno"> 3093</span>        <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;minimumSumAmount&quot;</span>))</div>
<div class="line"><a id="l03094" name="l03094"></a><span class="lineno"> 3094</span>            nMinimumSumAmount = <a class="code hl_function" href="bitcoin-tx_8cpp.html#a58ca09453ed4aac5e1af948b1c6a241f">AmountFromValue</a>(options[<span class="stringliteral">&quot;minimumSumAmount&quot;</span>]);</div>
<div class="line"><a id="l03095" name="l03095"></a><span class="lineno"> 3095</span> </div>
<div class="line"><a id="l03096" name="l03096"></a><span class="lineno"> 3096</span>        <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;maximumCount&quot;</span>))</div>
<div class="line"><a id="l03097" name="l03097"></a><span class="lineno"> 3097</span>            nMaximumCount = options[<span class="stringliteral">&quot;maximumCount&quot;</span>].get_int64();</div>
<div class="line"><a id="l03098" name="l03098"></a><span class="lineno"> 3098</span>    }</div>
<div class="line"><a id="l03099" name="l03099"></a><span class="lineno"> 3099</span> </div>
<div class="line"><a id="l03100" name="l03100"></a><span class="lineno"> 3100</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l03101" name="l03101"></a><span class="lineno"> 3101</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l03102" name="l03102"></a><span class="lineno"> 3102</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l03103" name="l03103"></a><span class="lineno"> 3103</span> </div>
<div class="line"><a id="l03104" name="l03104"></a><span class="lineno"> 3104</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> results(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l03105" name="l03105"></a><span class="lineno"> 3105</span>    std::vector&lt;COutput&gt; vecOutputs;</div>
<div class="line"><a id="l03106" name="l03106"></a><span class="lineno"> 3106</span>    {</div>
<div class="line"><a id="l03107" name="l03107"></a><span class="lineno"> 3107</span>        <a class="code hl_class" href="class_c_coin_control.html">CCoinControl</a> cctl;</div>
<div class="line"><a id="l03108" name="l03108"></a><span class="lineno"> 3108</span>        cctl.<a class="code hl_variable" href="class_c_coin_control.html#aadc9a6a1406468c09a84716700306efa">m_avoid_address_reuse</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03109" name="l03109"></a><span class="lineno"> 3109</span>        cctl.<a class="code hl_variable" href="class_c_coin_control.html#a888aea3123de69ef8ef12019e6e0a722">m_min_depth</a> = nMinDepth;</div>
<div class="line"><a id="l03110" name="l03110"></a><span class="lineno"> 3110</span>        cctl.<a class="code hl_variable" href="class_c_coin_control.html#a6cb9a7389a8854c71018575f0dbf2ce4">m_max_depth</a> = nMaxDepth;</div>
<div class="line"><a id="l03111" name="l03111"></a><span class="lineno"> 3111</span>        cctl.<a class="code hl_variable" href="class_c_coin_control.html#ab422548d4975efc89fef3fd0275d34bd">m_include_unsafe_inputs</a> = include_unsafe;</div>
<div class="line"><a id="l03112" name="l03112"></a><span class="lineno"> 3112</span>        <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l03113" name="l03113"></a><span class="lineno"> 3113</span>        <a class="code hl_function" href="spend_8cpp.html#a538184fbefca13667dac0d8fbbec2d34">AvailableCoins</a>(*pwallet, vecOutputs, &amp;cctl, nMinimumAmount, nMaximumAmount, nMinimumSumAmount, nMaximumCount);</div>
<div class="line"><a id="l03114" name="l03114"></a><span class="lineno"> 3114</span>    }</div>
<div class="line"><a id="l03115" name="l03115"></a><span class="lineno"> 3115</span> </div>
<div class="line"><a id="l03116" name="l03116"></a><span class="lineno"> 3116</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l03117" name="l03117"></a><span class="lineno"> 3117</span> </div>
<div class="line"><a id="l03118" name="l03118"></a><span class="lineno"> 3118</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> avoid_reuse = pwallet-&gt;IsWalletFlagSet(<a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a4e9b88a014a2fa4a31f3698fef9f5ce2">WALLET_FLAG_AVOID_REUSE</a>);</div>
<div class="line"><a id="l03119" name="l03119"></a><span class="lineno"> 3119</span> </div>
<div class="line"><a id="l03120" name="l03120"></a><span class="lineno"> 3120</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_c_output.html">COutput</a>&amp; out : vecOutputs) {</div>
<div class="line"><a id="l03121" name="l03121"></a><span class="lineno"> 3121</span>        <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> address;</div>
<div class="line"><a id="l03122" name="l03122"></a><span class="lineno"> 3122</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; scriptPubKey = out.tx-&gt;tx-&gt;vout[out.i].scriptPubKey;</div>
<div class="line"><a id="l03123" name="l03123"></a><span class="lineno"> 3123</span>        <span class="keywordtype">bool</span> fValidAddress = <a class="code hl_function" href="standard_8cpp.html#a951f7e601746ae076afdf3169ecca2fc">ExtractDestination</a>(scriptPubKey, address);</div>
<div class="line"><a id="l03124" name="l03124"></a><span class="lineno"> 3124</span>        <span class="keywordtype">bool</span> reused = avoid_reuse &amp;&amp; pwallet-&gt;IsSpentKey(out.tx-&gt;GetHash(), out.i);</div>
<div class="line"><a id="l03125" name="l03125"></a><span class="lineno"> 3125</span> </div>
<div class="line"><a id="l03126" name="l03126"></a><span class="lineno"> 3126</span>        <span class="keywordflow">if</span> (destinations.size() &amp;&amp; (!fValidAddress || !destinations.count(address)))</div>
<div class="line"><a id="l03127" name="l03127"></a><span class="lineno"> 3127</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03128" name="l03128"></a><span class="lineno"> 3128</span> </div>
<div class="line"><a id="l03129" name="l03129"></a><span class="lineno"> 3129</span>        <a class="code hl_class" href="class_uni_value.html">UniValue</a> entry(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l03130" name="l03130"></a><span class="lineno"> 3130</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;txid&quot;</span>, out.tx-&gt;GetHash().GetHex());</div>
<div class="line"><a id="l03131" name="l03131"></a><span class="lineno"> 3131</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;vout&quot;</span>, out.i);</div>
<div class="line"><a id="l03132" name="l03132"></a><span class="lineno"> 3132</span> </div>
<div class="line"><a id="l03133" name="l03133"></a><span class="lineno"> 3133</span>        <span class="keywordflow">if</span> (fValidAddress) {</div>
<div class="line"><a id="l03134" name="l03134"></a><span class="lineno"> 3134</span>            entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;address&quot;</span>, <a class="code hl_function" href="key__io_8cpp.html#a69b845c325e6bf516251cd3a67fe1df7">EncodeDestination</a>(address));</div>
<div class="line"><a id="l03135" name="l03135"></a><span class="lineno"> 3135</span> </div>
<div class="line"><a id="l03136" name="l03136"></a><span class="lineno"> 3136</span>            <span class="keyword">const</span> <span class="keyword">auto</span>* address_book_entry = pwallet-&gt;FindAddressBookEntry(address);</div>
<div class="line"><a id="l03137" name="l03137"></a><span class="lineno"> 3137</span>            <span class="keywordflow">if</span> (address_book_entry) {</div>
<div class="line"><a id="l03138" name="l03138"></a><span class="lineno"> 3138</span>                entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;label&quot;</span>, address_book_entry-&gt;GetLabel());</div>
<div class="line"><a id="l03139" name="l03139"></a><span class="lineno"> 3139</span>            }</div>
<div class="line"><a id="l03140" name="l03140"></a><span class="lineno"> 3140</span> </div>
<div class="line"><a id="l03141" name="l03141"></a><span class="lineno"> 3141</span>            std::unique_ptr&lt;SigningProvider&gt; provider = pwallet-&gt;GetSolvingProvider(scriptPubKey);</div>
<div class="line"><a id="l03142" name="l03142"></a><span class="lineno"> 3142</span>            <span class="keywordflow">if</span> (provider) {</div>
<div class="line"><a id="l03143" name="l03143"></a><span class="lineno"> 3143</span>                <span class="keywordflow">if</span> (scriptPubKey.<a class="code hl_function" href="class_c_script.html#a0c3729c606d318923dc06f95d85a0971">IsPayToScriptHash</a>()) {</div>
<div class="line"><a id="l03144" name="l03144"></a><span class="lineno"> 3144</span>                    <span class="keyword">const</span> <a class="code hl_class" href="class_c_script_i_d.html">CScriptID</a>&amp; hash = <a class="code hl_class" href="class_c_script_i_d.html">CScriptID</a>(std::get&lt;ScriptHash&gt;(address));</div>
<div class="line"><a id="l03145" name="l03145"></a><span class="lineno"> 3145</span>                    <a class="code hl_class" href="class_c_script.html">CScript</a> redeemScript;</div>
<div class="line"><a id="l03146" name="l03146"></a><span class="lineno"> 3146</span>                    <span class="keywordflow">if</span> (provider-&gt;GetCScript(hash, redeemScript)) {</div>
<div class="line"><a id="l03147" name="l03147"></a><span class="lineno"> 3147</span>                        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;redeemScript&quot;</span>, <a class="code hl_function" href="strencodings_8cpp.html#a16ace928e6a675ba31e23458c9149432">HexStr</a>(redeemScript));</div>
<div class="line"><a id="l03148" name="l03148"></a><span class="lineno"> 3148</span>                        <span class="comment">// Now check if the redeemScript is actually a P2WSH script</span></div>
<div class="line"><a id="l03149" name="l03149"></a><span class="lineno"> 3149</span>                        <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> witness_destination;</div>
<div class="line"><a id="l03150" name="l03150"></a><span class="lineno"> 3150</span>                        <span class="keywordflow">if</span> (redeemScript.<a class="code hl_function" href="class_c_script.html#a8bc2ab13e460dfec4af45afc92fffe60">IsPayToWitnessScriptHash</a>()) {</div>
<div class="line"><a id="l03151" name="l03151"></a><span class="lineno"> 3151</span>                            <span class="keywordtype">bool</span> extracted = <a class="code hl_function" href="standard_8cpp.html#a951f7e601746ae076afdf3169ecca2fc">ExtractDestination</a>(redeemScript, witness_destination);</div>
<div class="line"><a id="l03152" name="l03152"></a><span class="lineno"> 3152</span>                            <a class="code hl_define" href="check_8h.html#a46a3e27097aa5e94bbf62075bad7016f">CHECK_NONFATAL</a>(extracted);</div>
<div class="line"><a id="l03153" name="l03153"></a><span class="lineno"> 3153</span>                            <span class="comment">// Also return the witness script</span></div>
<div class="line"><a id="l03154" name="l03154"></a><span class="lineno"> 3154</span>                            <span class="keyword">const</span> <a class="code hl_struct" href="struct_witness_v0_script_hash.html">WitnessV0ScriptHash</a>&amp; whash = std::get&lt;WitnessV0ScriptHash&gt;(witness_destination);</div>
<div class="line"><a id="l03155" name="l03155"></a><span class="lineno"> 3155</span>                            <a class="code hl_class" href="class_c_script_i_d.html">CScriptID</a> <a class="code hl_variable" href="denialofservice__tests_8cpp.html#a74da8e651f4684ed58c78d8ba5984487">id</a>;</div>
<div class="line"><a id="l03156" name="l03156"></a><span class="lineno"> 3156</span>                            <a class="code hl_class" href="class_c_r_i_p_e_m_d160.html">CRIPEMD160</a>().<a class="code hl_function" href="class_c_r_i_p_e_m_d160.html#a221143b9d94af623d07c4f4ba1bf6007">Write</a>(whash.<a class="code hl_function" href="class_base_hash.html#a78666d73171eb992b9f8069ae5939f14">begin</a>(), whash.<a class="code hl_function" href="class_base_hash.html#a56856ad346b6c741adf80e41eb0cd80a">size</a>()).<a class="code hl_function" href="class_c_r_i_p_e_m_d160.html#a2a11566fbf9d1339b819833313fc4e51">Finalize</a>(<span class="keywordtype">id</span>.begin());</div>
<div class="line"><a id="l03157" name="l03157"></a><span class="lineno"> 3157</span>                            <a class="code hl_class" href="class_c_script.html">CScript</a> witnessScript;</div>
<div class="line"><a id="l03158" name="l03158"></a><span class="lineno"> 3158</span>                            <span class="keywordflow">if</span> (provider-&gt;GetCScript(<span class="keywordtype">id</span>, witnessScript)) {</div>
<div class="line"><a id="l03159" name="l03159"></a><span class="lineno"> 3159</span>                                entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;witnessScript&quot;</span>, <a class="code hl_function" href="strencodings_8cpp.html#a16ace928e6a675ba31e23458c9149432">HexStr</a>(witnessScript));</div>
<div class="line"><a id="l03160" name="l03160"></a><span class="lineno"> 3160</span>                            }</div>
<div class="line"><a id="l03161" name="l03161"></a><span class="lineno"> 3161</span>                        }</div>
<div class="line"><a id="l03162" name="l03162"></a><span class="lineno"> 3162</span>                    }</div>
<div class="line"><a id="l03163" name="l03163"></a><span class="lineno"> 3163</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (scriptPubKey.<a class="code hl_function" href="class_c_script.html#a8bc2ab13e460dfec4af45afc92fffe60">IsPayToWitnessScriptHash</a>()) {</div>
<div class="line"><a id="l03164" name="l03164"></a><span class="lineno"> 3164</span>                    <span class="keyword">const</span> <a class="code hl_struct" href="struct_witness_v0_script_hash.html">WitnessV0ScriptHash</a>&amp; whash = std::get&lt;WitnessV0ScriptHash&gt;(address);</div>
<div class="line"><a id="l03165" name="l03165"></a><span class="lineno"> 3165</span>                    <a class="code hl_class" href="class_c_script_i_d.html">CScriptID</a> <a class="code hl_variable" href="denialofservice__tests_8cpp.html#a74da8e651f4684ed58c78d8ba5984487">id</a>;</div>
<div class="line"><a id="l03166" name="l03166"></a><span class="lineno"> 3166</span>                    <a class="code hl_class" href="class_c_r_i_p_e_m_d160.html">CRIPEMD160</a>().<a class="code hl_function" href="class_c_r_i_p_e_m_d160.html#a221143b9d94af623d07c4f4ba1bf6007">Write</a>(whash.<a class="code hl_function" href="class_base_hash.html#a78666d73171eb992b9f8069ae5939f14">begin</a>(), whash.<a class="code hl_function" href="class_base_hash.html#a56856ad346b6c741adf80e41eb0cd80a">size</a>()).<a class="code hl_function" href="class_c_r_i_p_e_m_d160.html#a2a11566fbf9d1339b819833313fc4e51">Finalize</a>(<span class="keywordtype">id</span>.begin());</div>
<div class="line"><a id="l03167" name="l03167"></a><span class="lineno"> 3167</span>                    <a class="code hl_class" href="class_c_script.html">CScript</a> witnessScript;</div>
<div class="line"><a id="l03168" name="l03168"></a><span class="lineno"> 3168</span>                    <span class="keywordflow">if</span> (provider-&gt;GetCScript(<span class="keywordtype">id</span>, witnessScript)) {</div>
<div class="line"><a id="l03169" name="l03169"></a><span class="lineno"> 3169</span>                        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;witnessScript&quot;</span>, <a class="code hl_function" href="strencodings_8cpp.html#a16ace928e6a675ba31e23458c9149432">HexStr</a>(witnessScript));</div>
<div class="line"><a id="l03170" name="l03170"></a><span class="lineno"> 3170</span>                    }</div>
<div class="line"><a id="l03171" name="l03171"></a><span class="lineno"> 3171</span>                }</div>
<div class="line"><a id="l03172" name="l03172"></a><span class="lineno"> 3172</span>            }</div>
<div class="line"><a id="l03173" name="l03173"></a><span class="lineno"> 3173</span>        }</div>
<div class="line"><a id="l03174" name="l03174"></a><span class="lineno"> 3174</span> </div>
<div class="line"><a id="l03175" name="l03175"></a><span class="lineno"> 3175</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;scriptPubKey&quot;</span>, <a class="code hl_function" href="strencodings_8cpp.html#a16ace928e6a675ba31e23458c9149432">HexStr</a>(scriptPubKey));</div>
<div class="line"><a id="l03176" name="l03176"></a><span class="lineno"> 3176</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;amount&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(out.tx-&gt;tx-&gt;vout[out.i].nValue));</div>
<div class="line"><a id="l03177" name="l03177"></a><span class="lineno"> 3177</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;confirmations&quot;</span>, out.nDepth);</div>
<div class="line"><a id="l03178" name="l03178"></a><span class="lineno"> 3178</span>        <span class="keywordflow">if</span> (!out.nDepth) {</div>
<div class="line"><a id="l03179" name="l03179"></a><span class="lineno"> 3179</span>            <span class="keywordtype">size_t</span> ancestor_count, descendant_count, ancestor_size;</div>
<div class="line"><a id="l03180" name="l03180"></a><span class="lineno"> 3180</span>            <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> ancestor_fees;</div>
<div class="line"><a id="l03181" name="l03181"></a><span class="lineno"> 3181</span>            pwallet-&gt;chain().getTransactionAncestry(out.tx-&gt;GetHash(), ancestor_count, descendant_count, &amp;ancestor_size, &amp;ancestor_fees);</div>
<div class="line"><a id="l03182" name="l03182"></a><span class="lineno"> 3182</span>            <span class="keywordflow">if</span> (ancestor_count) {</div>
<div class="line"><a id="l03183" name="l03183"></a><span class="lineno"> 3183</span>                entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;ancestorcount&quot;</span>, uint64_t(ancestor_count));</div>
<div class="line"><a id="l03184" name="l03184"></a><span class="lineno"> 3184</span>                entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;ancestorsize&quot;</span>, uint64_t(ancestor_size));</div>
<div class="line"><a id="l03185" name="l03185"></a><span class="lineno"> 3185</span>                entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;ancestorfees&quot;</span>, uint64_t(ancestor_fees));</div>
<div class="line"><a id="l03186" name="l03186"></a><span class="lineno"> 3186</span>            }</div>
<div class="line"><a id="l03187" name="l03187"></a><span class="lineno"> 3187</span>        }</div>
<div class="line"><a id="l03188" name="l03188"></a><span class="lineno"> 3188</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;spendable&quot;</span>, out.fSpendable);</div>
<div class="line"><a id="l03189" name="l03189"></a><span class="lineno"> 3189</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;solvable&quot;</span>, out.fSolvable);</div>
<div class="line"><a id="l03190" name="l03190"></a><span class="lineno"> 3190</span>        <span class="keywordflow">if</span> (out.fSolvable) {</div>
<div class="line"><a id="l03191" name="l03191"></a><span class="lineno"> 3191</span>            std::unique_ptr&lt;SigningProvider&gt; provider = pwallet-&gt;GetSolvingProvider(scriptPubKey);</div>
<div class="line"><a id="l03192" name="l03192"></a><span class="lineno"> 3192</span>            <span class="keywordflow">if</span> (provider) {</div>
<div class="line"><a id="l03193" name="l03193"></a><span class="lineno"> 3193</span>                <span class="keyword">auto</span> descriptor = <a class="code hl_function" href="descriptor_8cpp.html#a496a25c1d88122782c2a426d38394f0a">InferDescriptor</a>(scriptPubKey, *provider);</div>
<div class="line"><a id="l03194" name="l03194"></a><span class="lineno"> 3194</span>                entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;desc&quot;</span>, descriptor-&gt;ToString());</div>
<div class="line"><a id="l03195" name="l03195"></a><span class="lineno"> 3195</span>            }</div>
<div class="line"><a id="l03196" name="l03196"></a><span class="lineno"> 3196</span>        }</div>
<div class="line"><a id="l03197" name="l03197"></a><span class="lineno"> 3197</span>        <span class="keywordflow">if</span> (avoid_reuse) entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;reused&quot;</span>, reused);</div>
<div class="line"><a id="l03198" name="l03198"></a><span class="lineno"> 3198</span>        entry.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;safe&quot;</span>, out.fSafe);</div>
<div class="line"><a id="l03199" name="l03199"></a><span class="lineno"> 3199</span>        results.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(entry);</div>
<div class="line"><a id="l03200" name="l03200"></a><span class="lineno"> 3200</span>    }</div>
<div class="line"><a id="l03201" name="l03201"></a><span class="lineno"> 3201</span> </div>
<div class="line"><a id="l03202" name="l03202"></a><span class="lineno"> 3202</span>    <span class="keywordflow">return</span> results;</div>
<div class="line"><a id="l03203" name="l03203"></a><span class="lineno"> 3203</span>},</div>
<div class="line"><a id="l03204" name="l03204"></a><span class="lineno"> 3204</span>    };</div>
<div class="line"><a id="l03205" name="l03205"></a><span class="lineno"> 3205</span>}</div>
<div class="line"><a id="l03206" name="l03206"></a><span class="lineno"> 3206</span> </div>
<div class="line"><a id="l03207" name="l03207"></a><span class="lineno"> 3207</span><span class="comment">// Only includes key documentation where the key is snake_case in all RPC methods. MixedCase keys can be added later.</span></div>
<div class="line"><a id="l03208" name="l03208"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a8e03bdc2be04101c151cc25d2c3611d6"> 3208</a></span><span class="keyword">static</span> std::vector&lt;RPCArg&gt; <a class="code hl_function" href="rpcwallet_8cpp.html#a8e03bdc2be04101c151cc25d2c3611d6">FundTxDoc</a>()</div>
<div class="line"><a id="l03209" name="l03209"></a><span class="lineno"> 3209</span>{</div>
<div class="line"><a id="l03210" name="l03210"></a><span class="lineno"> 3210</span>    <span class="keywordflow">return</span> {</div>
<div class="line"><a id="l03211" name="l03211"></a><span class="lineno"> 3211</span>        {<span class="stringliteral">&quot;conf_target&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;wallet -txconfirmtarget&quot;</span>}, <span class="stringliteral">&quot;Confirmation target in blocks&quot;</span>},</div>
<div class="line"><a id="l03212" name="l03212"></a><span class="lineno"> 3212</span>        {<span class="stringliteral">&quot;estimate_mode&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="stringliteral">&quot;unset&quot;</span>}, std::string() + <span class="stringliteral">&quot;The fee estimate mode, must be one of (case insensitive):\n&quot;</span></div>
<div class="line"><a id="l03213" name="l03213"></a><span class="lineno"> 3213</span>            <span class="stringliteral">&quot;         \&quot;&quot;</span> + <a class="code hl_function" href="util_2fees_8cpp.html#a32fab8b174c9dcbab0d46d5ea4608a6b">FeeModes</a>(<span class="stringliteral">&quot;\&quot;\n\&quot;&quot;</span>) + <span class="stringliteral">&quot;\&quot;&quot;</span>},</div>
<div class="line"><a id="l03214" name="l03214"></a><span class="lineno"> 3214</span>        {<span class="stringliteral">&quot;replaceable&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;wallet default&quot;</span>}, <span class="stringliteral">&quot;Marks this transaction as BIP125 replaceable.\n&quot;</span></div>
<div class="line"><a id="l03215" name="l03215"></a><span class="lineno"> 3215</span>            <span class="stringliteral">&quot;Allows this transaction to be replaced by a transaction with higher fees&quot;</span>},</div>
<div class="line"><a id="l03216" name="l03216"></a><span class="lineno"> 3216</span>        {<span class="stringliteral">&quot;solving_data&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2af34d534adfb78a9e6432be4621a93eec">RPCArg::Type::OBJ</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;Keys and scripts needed for producing a final transaction with a dummy signature.\n&quot;</span></div>
<div class="line"><a id="l03217" name="l03217"></a><span class="lineno"> 3217</span>            <span class="stringliteral">&quot;Used for fee estimation during coin selection.&quot;</span>,</div>
<div class="line"><a id="l03218" name="l03218"></a><span class="lineno"> 3218</span>         {</div>
<div class="line"><a id="l03219" name="l03219"></a><span class="lineno"> 3219</span>             {<span class="stringliteral">&quot;pubkeys&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>}, <span class="stringliteral">&quot;Public keys involved in this transaction.&quot;</span>,</div>
<div class="line"><a id="l03220" name="l03220"></a><span class="lineno"> 3220</span>             {</div>
<div class="line"><a id="l03221" name="l03221"></a><span class="lineno"> 3221</span>                 {<span class="stringliteral">&quot;pubkey&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;A public key&quot;</span>},</div>
<div class="line"><a id="l03222" name="l03222"></a><span class="lineno"> 3222</span>             }},</div>
<div class="line"><a id="l03223" name="l03223"></a><span class="lineno"> 3223</span>             {<span class="stringliteral">&quot;scripts&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>}, <span class="stringliteral">&quot;Scripts involved in this transaction.&quot;</span>,</div>
<div class="line"><a id="l03224" name="l03224"></a><span class="lineno"> 3224</span>             {</div>
<div class="line"><a id="l03225" name="l03225"></a><span class="lineno"> 3225</span>                 {<span class="stringliteral">&quot;script&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;A script&quot;</span>},</div>
<div class="line"><a id="l03226" name="l03226"></a><span class="lineno"> 3226</span>             }},</div>
<div class="line"><a id="l03227" name="l03227"></a><span class="lineno"> 3227</span>             {<span class="stringliteral">&quot;descriptors&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>}, <span class="stringliteral">&quot;Descriptors that provide solving data for this transaction.&quot;</span>,</div>
<div class="line"><a id="l03228" name="l03228"></a><span class="lineno"> 3228</span>             {</div>
<div class="line"><a id="l03229" name="l03229"></a><span class="lineno"> 3229</span>                 {<span class="stringliteral">&quot;descriptor&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;A descriptor&quot;</span>},</div>
<div class="line"><a id="l03230" name="l03230"></a><span class="lineno"> 3230</span>             }},</div>
<div class="line"><a id="l03231" name="l03231"></a><span class="lineno"> 3231</span>         }},</div>
<div class="line"><a id="l03232" name="l03232"></a><span class="lineno"> 3232</span>    };</div>
<div class="line"><a id="l03233" name="l03233"></a><span class="lineno"> 3233</span>}</div>
<div class="line"><a id="l03234" name="l03234"></a><span class="lineno"> 3234</span> </div>
<div class="line"><a id="l03235" name="l03235"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a3176a0e8760dda40a6bffdae6ad369e8"> 3235</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="rpcwallet_8cpp.html#a3176a0e8760dda40a6bffdae6ad369e8">FundTransaction</a>(<a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>, <a class="code hl_struct" href="struct_c_mutable_transaction.html">CMutableTransaction</a>&amp; tx, <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a>&amp; fee_out, <span class="keywordtype">int</span>&amp; change_position, <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; options, <a class="code hl_class" href="class_c_coin_control.html">CCoinControl</a>&amp; coinControl, <span class="keywordtype">bool</span> override_min_fee)</div>
<div class="line"><a id="l03236" name="l03236"></a><span class="lineno"> 3236</span>{</div>
<div class="line"><a id="l03237" name="l03237"></a><span class="lineno"> 3237</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l03238" name="l03238"></a><span class="lineno"> 3238</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l03239" name="l03239"></a><span class="lineno"> 3239</span>    <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l03240" name="l03240"></a><span class="lineno"> 3240</span> </div>
<div class="line"><a id="l03241" name="l03241"></a><span class="lineno"> 3241</span>    change_position = -1;</div>
<div class="line"><a id="l03242" name="l03242"></a><span class="lineno"> 3242</span>    <span class="keywordtype">bool</span> lockUnspents = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03243" name="l03243"></a><span class="lineno"> 3243</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> subtractFeeFromOutputs;</div>
<div class="line"><a id="l03244" name="l03244"></a><span class="lineno"> 3244</span>    std::set&lt;int&gt; setSubtractFeeFromOutputs;</div>
<div class="line"><a id="l03245" name="l03245"></a><span class="lineno"> 3245</span> </div>
<div class="line"><a id="l03246" name="l03246"></a><span class="lineno"> 3246</span>    <span class="keywordflow">if</span> (!options.<a class="code hl_function" href="class_uni_value.html#a3661be0f5580daceb23e5338e3a0df22">isNull</a>()) {</div>
<div class="line"><a id="l03247" name="l03247"></a><span class="lineno"> 3247</span>      <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#a5b33bfd4be1574e610eee5a7cdae77d1">type</a>() == <a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8">UniValue::VBOOL</a>) {</div>
<div class="line"><a id="l03248" name="l03248"></a><span class="lineno"> 3248</span>        <span class="comment">// backward compatibility bool only fallback</span></div>
<div class="line"><a id="l03249" name="l03249"></a><span class="lineno"> 3249</span>        coinControl.<a class="code hl_variable" href="class_c_coin_control.html#a83d3144efcfdd0e87467f0b2d98b4302">fAllowWatchOnly</a> = options.<a class="code hl_function" href="class_uni_value.html#ae8a27d40aa1b1322ea95ff4fb2dec2b1">get_bool</a>();</div>
<div class="line"><a id="l03250" name="l03250"></a><span class="lineno"> 3250</span>      }</div>
<div class="line"><a id="l03251" name="l03251"></a><span class="lineno"> 3251</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03252" name="l03252"></a><span class="lineno"> 3252</span>        <a class="code hl_function" href="rpc_2util_8cpp.html#a34ca526f05cc7f2281e634a5be48c121">RPCTypeCheckArgument</a>(options, <a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l03253" name="l03253"></a><span class="lineno"> 3253</span>        <a class="code hl_function" href="rpc_2util_8cpp.html#aec45a2addcbf2231658dce8bbfbb792c">RPCTypeCheckObj</a>(options,</div>
<div class="line"><a id="l03254" name="l03254"></a><span class="lineno"> 3254</span>            {</div>
<div class="line"><a id="l03255" name="l03255"></a><span class="lineno"> 3255</span>                {<span class="stringliteral">&quot;add_inputs&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8">UniValue::VBOOL</a>)},</div>
<div class="line"><a id="l03256" name="l03256"></a><span class="lineno"> 3256</span>                {<span class="stringliteral">&quot;include_unsafe&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8">UniValue::VBOOL</a>)},</div>
<div class="line"><a id="l03257" name="l03257"></a><span class="lineno"> 3257</span>                {<span class="stringliteral">&quot;add_to_wallet&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8">UniValue::VBOOL</a>)},</div>
<div class="line"><a id="l03258" name="l03258"></a><span class="lineno"> 3258</span>                {<span class="stringliteral">&quot;changeAddress&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a7afa7b747615105024aab97ff5bf4d11">UniValue::VSTR</a>)},</div>
<div class="line"><a id="l03259" name="l03259"></a><span class="lineno"> 3259</span>                {<span class="stringliteral">&quot;change_address&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a7afa7b747615105024aab97ff5bf4d11">UniValue::VSTR</a>)},</div>
<div class="line"><a id="l03260" name="l03260"></a><span class="lineno"> 3260</span>                {<span class="stringliteral">&quot;changePosition&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aba88a44dcdb6e3be0538d14997ff042b">UniValue::VNUM</a>)},</div>
<div class="line"><a id="l03261" name="l03261"></a><span class="lineno"> 3261</span>                {<span class="stringliteral">&quot;change_position&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aba88a44dcdb6e3be0538d14997ff042b">UniValue::VNUM</a>)},</div>
<div class="line"><a id="l03262" name="l03262"></a><span class="lineno"> 3262</span>                {<span class="stringliteral">&quot;change_type&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a7afa7b747615105024aab97ff5bf4d11">UniValue::VSTR</a>)},</div>
<div class="line"><a id="l03263" name="l03263"></a><span class="lineno"> 3263</span>                {<span class="stringliteral">&quot;includeWatching&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8">UniValue::VBOOL</a>)},</div>
<div class="line"><a id="l03264" name="l03264"></a><span class="lineno"> 3264</span>                {<span class="stringliteral">&quot;include_watching&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8">UniValue::VBOOL</a>)},</div>
<div class="line"><a id="l03265" name="l03265"></a><span class="lineno"> 3265</span>                {<span class="stringliteral">&quot;inputs&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>)},</div>
<div class="line"><a id="l03266" name="l03266"></a><span class="lineno"> 3266</span>                {<span class="stringliteral">&quot;lockUnspents&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8">UniValue::VBOOL</a>)},</div>
<div class="line"><a id="l03267" name="l03267"></a><span class="lineno"> 3267</span>                {<span class="stringliteral">&quot;lock_unspents&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8">UniValue::VBOOL</a>)},</div>
<div class="line"><a id="l03268" name="l03268"></a><span class="lineno"> 3268</span>                {<span class="stringliteral">&quot;locktime&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aba88a44dcdb6e3be0538d14997ff042b">UniValue::VNUM</a>)},</div>
<div class="line"><a id="l03269" name="l03269"></a><span class="lineno"> 3269</span>                {<span class="stringliteral">&quot;fee_rate&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>()}, <span class="comment">// will be checked by AmountFromValue() in SetFeeEstimateMode()</span></div>
<div class="line"><a id="l03270" name="l03270"></a><span class="lineno"> 3270</span>                {<span class="stringliteral">&quot;feeRate&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>()}, <span class="comment">// will be checked by AmountFromValue() below</span></div>
<div class="line"><a id="l03271" name="l03271"></a><span class="lineno"> 3271</span>                {<span class="stringliteral">&quot;psbt&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8">UniValue::VBOOL</a>)},</div>
<div class="line"><a id="l03272" name="l03272"></a><span class="lineno"> 3272</span>                {<span class="stringliteral">&quot;solving_data&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>)},</div>
<div class="line"><a id="l03273" name="l03273"></a><span class="lineno"> 3273</span>                {<span class="stringliteral">&quot;subtractFeeFromOutputs&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>)},</div>
<div class="line"><a id="l03274" name="l03274"></a><span class="lineno"> 3274</span>                {<span class="stringliteral">&quot;subtract_fee_from_outputs&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>)},</div>
<div class="line"><a id="l03275" name="l03275"></a><span class="lineno"> 3275</span>                {<span class="stringliteral">&quot;replaceable&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8">UniValue::VBOOL</a>)},</div>
<div class="line"><a id="l03276" name="l03276"></a><span class="lineno"> 3276</span>                {<span class="stringliteral">&quot;conf_target&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aba88a44dcdb6e3be0538d14997ff042b">UniValue::VNUM</a>)},</div>
<div class="line"><a id="l03277" name="l03277"></a><span class="lineno"> 3277</span>                {<span class="stringliteral">&quot;estimate_mode&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a7afa7b747615105024aab97ff5bf4d11">UniValue::VSTR</a>)},</div>
<div class="line"><a id="l03278" name="l03278"></a><span class="lineno"> 3278</span>            },</div>
<div class="line"><a id="l03279" name="l03279"></a><span class="lineno"> 3279</span>            <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l03280" name="l03280"></a><span class="lineno"> 3280</span> </div>
<div class="line"><a id="l03281" name="l03281"></a><span class="lineno"> 3281</span>        <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;add_inputs&quot;</span>) ) {</div>
<div class="line"><a id="l03282" name="l03282"></a><span class="lineno"> 3282</span>            coinControl.<a class="code hl_variable" href="class_c_coin_control.html#aa5a916ab50a60b000b4cacf74912ccd4">m_add_inputs</a> = options[<span class="stringliteral">&quot;add_inputs&quot;</span>].<a class="code hl_function" href="class_uni_value.html#ae8a27d40aa1b1322ea95ff4fb2dec2b1">get_bool</a>();</div>
<div class="line"><a id="l03283" name="l03283"></a><span class="lineno"> 3283</span>        }</div>
<div class="line"><a id="l03284" name="l03284"></a><span class="lineno"> 3284</span> </div>
<div class="line"><a id="l03285" name="l03285"></a><span class="lineno"> 3285</span>        <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;changeAddress&quot;</span>) || options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;change_address&quot;</span>)) {</div>
<div class="line"><a id="l03286" name="l03286"></a><span class="lineno"> 3286</span>            <span class="keyword">const</span> std::string change_address_str = (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;change_address&quot;</span>) ? options[<span class="stringliteral">&quot;change_address&quot;</span>] : options[<span class="stringliteral">&quot;changeAddress&quot;</span>]).get_str();</div>
<div class="line"><a id="l03287" name="l03287"></a><span class="lineno"> 3287</span>            <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> dest = <a class="code hl_function" href="key__io_8cpp.html#ae9479724a35444166ba384a69e1f246c">DecodeDestination</a>(change_address_str);</div>
<div class="line"><a id="l03288" name="l03288"></a><span class="lineno"> 3288</span> </div>
<div class="line"><a id="l03289" name="l03289"></a><span class="lineno"> 3289</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="standard_8cpp.html#adb3a21e4afe9c672720b182ddc7cad7c">IsValidDestination</a>(dest)) {</div>
<div class="line"><a id="l03290" name="l03290"></a><span class="lineno"> 3290</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <span class="stringliteral">&quot;Change address must be a valid bitcoin address&quot;</span>);</div>
<div class="line"><a id="l03291" name="l03291"></a><span class="lineno"> 3291</span>            }</div>
<div class="line"><a id="l03292" name="l03292"></a><span class="lineno"> 3292</span> </div>
<div class="line"><a id="l03293" name="l03293"></a><span class="lineno"> 3293</span>            coinControl.<a class="code hl_variable" href="class_c_coin_control.html#aa991ffd830267f6c2103fa7e03213f41">destChange</a> = dest;</div>
<div class="line"><a id="l03294" name="l03294"></a><span class="lineno"> 3294</span>        }</div>
<div class="line"><a id="l03295" name="l03295"></a><span class="lineno"> 3295</span> </div>
<div class="line"><a id="l03296" name="l03296"></a><span class="lineno"> 3296</span>        <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;changePosition&quot;</span>) || options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;change_position&quot;</span>)) {</div>
<div class="line"><a id="l03297" name="l03297"></a><span class="lineno"> 3297</span>            change_position = (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;change_position&quot;</span>) ? options[<span class="stringliteral">&quot;change_position&quot;</span>] : options[<span class="stringliteral">&quot;changePosition&quot;</span>]).get_int();</div>
<div class="line"><a id="l03298" name="l03298"></a><span class="lineno"> 3298</span>        }</div>
<div class="line"><a id="l03299" name="l03299"></a><span class="lineno"> 3299</span> </div>
<div class="line"><a id="l03300" name="l03300"></a><span class="lineno"> 3300</span>        <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;change_type&quot;</span>)) {</div>
<div class="line"><a id="l03301" name="l03301"></a><span class="lineno"> 3301</span>            <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;changeAddress&quot;</span>) || options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;change_address&quot;</span>)) {</div>
<div class="line"><a id="l03302" name="l03302"></a><span class="lineno"> 3302</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Cannot specify both change address and address type options&quot;</span>);</div>
<div class="line"><a id="l03303" name="l03303"></a><span class="lineno"> 3303</span>            }</div>
<div class="line"><a id="l03304" name="l03304"></a><span class="lineno"> 3304</span>            <span class="keywordflow">if</span> (std::optional&lt;OutputType&gt; parsed = <a class="code hl_function" href="outputtype_8cpp.html#a705d5e2a23104621d2a2f3ca85eda8da">ParseOutputType</a>(options[<span class="stringliteral">&quot;change_type&quot;</span>].get_str())) {</div>
<div class="line"><a id="l03305" name="l03305"></a><span class="lineno"> 3305</span>                coinControl.<a class="code hl_variable" href="class_c_coin_control.html#a1c3ab0676dacff41589e69f321504d4f">m_change_type</a>.emplace(parsed.value());</div>
<div class="line"><a id="l03306" name="l03306"></a><span class="lineno"> 3306</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03307" name="l03307"></a><span class="lineno"> 3307</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;Unknown change type &#39;%s&#39;&quot;</span>, options[<span class="stringliteral">&quot;change_type&quot;</span>].get_str()));</div>
<div class="line"><a id="l03308" name="l03308"></a><span class="lineno"> 3308</span>            }</div>
<div class="line"><a id="l03309" name="l03309"></a><span class="lineno"> 3309</span>        }</div>
<div class="line"><a id="l03310" name="l03310"></a><span class="lineno"> 3310</span> </div>
<div class="line"><a id="l03311" name="l03311"></a><span class="lineno"> 3311</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a> include_watching_option = options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;include_watching&quot;</span>) ? options[<span class="stringliteral">&quot;include_watching&quot;</span>] : options[<span class="stringliteral">&quot;includeWatching&quot;</span>];</div>
<div class="line"><a id="l03312" name="l03312"></a><span class="lineno"> 3312</span>        coinControl.<a class="code hl_variable" href="class_c_coin_control.html#a83d3144efcfdd0e87467f0b2d98b4302">fAllowWatchOnly</a> = <a class="code hl_function" href="rpcwallet_8cpp.html#a7733413a3ac3eed56889bde5ed0d1009">ParseIncludeWatchonly</a>(include_watching_option, <a class="code hl_namespace" href="namespacewallet.html">wallet</a>);</div>
<div class="line"><a id="l03313" name="l03313"></a><span class="lineno"> 3313</span> </div>
<div class="line"><a id="l03314" name="l03314"></a><span class="lineno"> 3314</span>        <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;lockUnspents&quot;</span>) || options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;lock_unspents&quot;</span>)) {</div>
<div class="line"><a id="l03315" name="l03315"></a><span class="lineno"> 3315</span>            lockUnspents = (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;lock_unspents&quot;</span>) ? options[<span class="stringliteral">&quot;lock_unspents&quot;</span>] : options[<span class="stringliteral">&quot;lockUnspents&quot;</span>]).get_bool();</div>
<div class="line"><a id="l03316" name="l03316"></a><span class="lineno"> 3316</span>        }</div>
<div class="line"><a id="l03317" name="l03317"></a><span class="lineno"> 3317</span> </div>
<div class="line"><a id="l03318" name="l03318"></a><span class="lineno"> 3318</span>        <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;include_unsafe&quot;</span>)) {</div>
<div class="line"><a id="l03319" name="l03319"></a><span class="lineno"> 3319</span>            coinControl.<a class="code hl_variable" href="class_c_coin_control.html#ab422548d4975efc89fef3fd0275d34bd">m_include_unsafe_inputs</a> = options[<span class="stringliteral">&quot;include_unsafe&quot;</span>].<a class="code hl_function" href="class_uni_value.html#ae8a27d40aa1b1322ea95ff4fb2dec2b1">get_bool</a>();</div>
<div class="line"><a id="l03320" name="l03320"></a><span class="lineno"> 3320</span>        }</div>
<div class="line"><a id="l03321" name="l03321"></a><span class="lineno"> 3321</span> </div>
<div class="line"><a id="l03322" name="l03322"></a><span class="lineno"> 3322</span>        <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;feeRate&quot;</span>)) {</div>
<div class="line"><a id="l03323" name="l03323"></a><span class="lineno"> 3323</span>            <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;fee_rate&quot;</span>)) {</div>
<div class="line"><a id="l03324" name="l03324"></a><span class="lineno"> 3324</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Cannot specify both fee_rate (&quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB) and feeRate (&quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;/kvB)&quot;</span>);</div>
<div class="line"><a id="l03325" name="l03325"></a><span class="lineno"> 3325</span>            }</div>
<div class="line"><a id="l03326" name="l03326"></a><span class="lineno"> 3326</span>            <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;conf_target&quot;</span>)) {</div>
<div class="line"><a id="l03327" name="l03327"></a><span class="lineno"> 3327</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Cannot specify both conf_target and feeRate. Please provide either a confirmation target in blocks for automatic fee estimation, or an explicit fee rate.&quot;</span>);</div>
<div class="line"><a id="l03328" name="l03328"></a><span class="lineno"> 3328</span>            }</div>
<div class="line"><a id="l03329" name="l03329"></a><span class="lineno"> 3329</span>            <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;estimate_mode&quot;</span>)) {</div>
<div class="line"><a id="l03330" name="l03330"></a><span class="lineno"> 3330</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Cannot specify both estimate_mode and feeRate&quot;</span>);</div>
<div class="line"><a id="l03331" name="l03331"></a><span class="lineno"> 3331</span>            }</div>
<div class="line"><a id="l03332" name="l03332"></a><span class="lineno"> 3332</span>            coinControl.<a class="code hl_variable" href="class_c_coin_control.html#a92e9d528cbbf433a4c9a21e500fc88e0">m_feerate</a> = <a class="code hl_class" href="class_c_fee_rate.html">CFeeRate</a>(<a class="code hl_function" href="bitcoin-tx_8cpp.html#a58ca09453ed4aac5e1af948b1c6a241f">AmountFromValue</a>(options[<span class="stringliteral">&quot;feeRate&quot;</span>]));</div>
<div class="line"><a id="l03333" name="l03333"></a><span class="lineno"> 3333</span>            coinControl.<a class="code hl_variable" href="class_c_coin_control.html#a9caaebbea37aa3582f58023487265dc7">fOverrideFeeRate</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03334" name="l03334"></a><span class="lineno"> 3334</span>        }</div>
<div class="line"><a id="l03335" name="l03335"></a><span class="lineno"> 3335</span> </div>
<div class="line"><a id="l03336" name="l03336"></a><span class="lineno"> 3336</span>        <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;subtractFeeFromOutputs&quot;</span>) || options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;subtract_fee_from_outputs&quot;</span>) )</div>
<div class="line"><a id="l03337" name="l03337"></a><span class="lineno"> 3337</span>            subtractFeeFromOutputs = (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;subtract_fee_from_outputs&quot;</span>) ? options[<span class="stringliteral">&quot;subtract_fee_from_outputs&quot;</span>] : options[<span class="stringliteral">&quot;subtractFeeFromOutputs&quot;</span>]).get_array();</div>
<div class="line"><a id="l03338" name="l03338"></a><span class="lineno"> 3338</span> </div>
<div class="line"><a id="l03339" name="l03339"></a><span class="lineno"> 3339</span>        <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;replaceable&quot;</span>)) {</div>
<div class="line"><a id="l03340" name="l03340"></a><span class="lineno"> 3340</span>            coinControl.<a class="code hl_variable" href="class_c_coin_control.html#a234604093ad4de5c6a19d39bc2fe7b19">m_signal_bip125_rbf</a> = options[<span class="stringliteral">&quot;replaceable&quot;</span>].<a class="code hl_function" href="class_uni_value.html#ae8a27d40aa1b1322ea95ff4fb2dec2b1">get_bool</a>();</div>
<div class="line"><a id="l03341" name="l03341"></a><span class="lineno"> 3341</span>        }</div>
<div class="line"><a id="l03342" name="l03342"></a><span class="lineno"> 3342</span>        <a class="code hl_function" href="rpcwallet_8cpp.html#a0bb19f5cd785f6f02d0169af7396c06b">SetFeeEstimateMode</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>, coinControl, options[<span class="stringliteral">&quot;conf_target&quot;</span>], options[<span class="stringliteral">&quot;estimate_mode&quot;</span>], options[<span class="stringliteral">&quot;fee_rate&quot;</span>], override_min_fee);</div>
<div class="line"><a id="l03343" name="l03343"></a><span class="lineno"> 3343</span>      }</div>
<div class="line"><a id="l03344" name="l03344"></a><span class="lineno"> 3344</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03345" name="l03345"></a><span class="lineno"> 3345</span>        <span class="comment">// if options is null and not a bool</span></div>
<div class="line"><a id="l03346" name="l03346"></a><span class="lineno"> 3346</span>        coinControl.<a class="code hl_variable" href="class_c_coin_control.html#a83d3144efcfdd0e87467f0b2d98b4302">fAllowWatchOnly</a> = <a class="code hl_function" href="rpcwallet_8cpp.html#a7733413a3ac3eed56889bde5ed0d1009">ParseIncludeWatchonly</a>(<a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>, <a class="code hl_namespace" href="namespacewallet.html">wallet</a>);</div>
<div class="line"><a id="l03347" name="l03347"></a><span class="lineno"> 3347</span>    }</div>
<div class="line"><a id="l03348" name="l03348"></a><span class="lineno"> 3348</span> </div>
<div class="line"><a id="l03349" name="l03349"></a><span class="lineno"> 3349</span>    <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;solving_data&quot;</span>)) {</div>
<div class="line"><a id="l03350" name="l03350"></a><span class="lineno"> 3350</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a> solving_data = options[<span class="stringliteral">&quot;solving_data&quot;</span>].<a class="code hl_function" href="class_uni_value.html#a49a6ac464f3c2d918e7379d3203c7337">get_obj</a>();</div>
<div class="line"><a id="l03351" name="l03351"></a><span class="lineno"> 3351</span>        <span class="keywordflow">if</span> (solving_data.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;pubkeys&quot;</span>)) {</div>
<div class="line"><a id="l03352" name="l03352"></a><span class="lineno"> 3352</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; pk_univ : solving_data[<span class="stringliteral">&quot;pubkeys&quot;</span>].get_array().getValues()) {</div>
<div class="line"><a id="l03353" name="l03353"></a><span class="lineno"> 3353</span>                <span class="keyword">const</span> std::string&amp; pk_str = pk_univ.<a class="code hl_function" href="class_uni_value.html#a087ea6ccec615333371fa1aaf83ab7df">get_str</a>();</div>
<div class="line"><a id="l03354" name="l03354"></a><span class="lineno"> 3354</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="strencodings_8cpp.html#a9f23401f4b871ed693f7a96a9ba40c58">IsHex</a>(pk_str)) {</div>
<div class="line"><a id="l03355" name="l03355"></a><span class="lineno"> 3355</span>                    <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;&#39;%s&#39; is not hex&quot;</span>, pk_str));</div>
<div class="line"><a id="l03356" name="l03356"></a><span class="lineno"> 3356</span>                }</div>
<div class="line"><a id="l03357" name="l03357"></a><span class="lineno"> 3357</span>                <span class="keyword">const</span> std::vector&lt;unsigned char&gt; data(<a class="code hl_function" href="strencodings_8cpp.html#a715a7fc85da1c585babfb1bd6d3f9043">ParseHex</a>(pk_str));</div>
<div class="line"><a id="l03358" name="l03358"></a><span class="lineno"> 3358</span>                <span class="keyword">const</span> <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a> pubkey(data.begin(), data.end());</div>
<div class="line"><a id="l03359" name="l03359"></a><span class="lineno"> 3359</span>                <span class="keywordflow">if</span> (!pubkey.<a class="code hl_function" href="class_c_pub_key.html#a69d8d49962240a5696410229dd83c93e">IsFullyValid</a>()) {</div>
<div class="line"><a id="l03360" name="l03360"></a><span class="lineno"> 3360</span>                    <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;&#39;%s&#39; is not a valid public key&quot;</span>, pk_str));</div>
<div class="line"><a id="l03361" name="l03361"></a><span class="lineno"> 3361</span>                }</div>
<div class="line"><a id="l03362" name="l03362"></a><span class="lineno"> 3362</span>                coinControl.<a class="code hl_variable" href="class_c_coin_control.html#a9196b3bd2d38ec8da02f5ddbfb0459af">m_external_provider</a>.<a class="code hl_variable" href="struct_flat_signing_provider.html#a7a40935ffd498d33557a4963a6d9e4e4">pubkeys</a>.emplace(pubkey.<a class="code hl_function" href="class_c_pub_key.html#a2675f7e6f72eff68e7a5227289feb021">GetID</a>(), pubkey);</div>
<div class="line"><a id="l03363" name="l03363"></a><span class="lineno"> 3363</span>                <span class="comment">// Add witness script for pubkeys</span></div>
<div class="line"><a id="l03364" name="l03364"></a><span class="lineno"> 3364</span>                <span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a> wit_script = <a class="code hl_function" href="standard_8cpp.html#ae40f28d3b46c21033f6ee1f1200d0321">GetScriptForDestination</a>(<a class="code hl_struct" href="struct_witness_v0_key_hash.html">WitnessV0KeyHash</a>(pubkey));</div>
<div class="line"><a id="l03365" name="l03365"></a><span class="lineno"> 3365</span>                coinControl.<a class="code hl_variable" href="class_c_coin_control.html#a9196b3bd2d38ec8da02f5ddbfb0459af">m_external_provider</a>.<a class="code hl_variable" href="struct_flat_signing_provider.html#abedabab95e715afefa36983261cb76ae">scripts</a>.emplace(<a class="code hl_class" href="class_c_script_i_d.html">CScriptID</a>(wit_script), wit_script);</div>
<div class="line"><a id="l03366" name="l03366"></a><span class="lineno"> 3366</span>            }</div>
<div class="line"><a id="l03367" name="l03367"></a><span class="lineno"> 3367</span>        }</div>
<div class="line"><a id="l03368" name="l03368"></a><span class="lineno"> 3368</span> </div>
<div class="line"><a id="l03369" name="l03369"></a><span class="lineno"> 3369</span>        <span class="keywordflow">if</span> (solving_data.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;scripts&quot;</span>)) {</div>
<div class="line"><a id="l03370" name="l03370"></a><span class="lineno"> 3370</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; script_univ : solving_data[<span class="stringliteral">&quot;scripts&quot;</span>].get_array().getValues()) {</div>
<div class="line"><a id="l03371" name="l03371"></a><span class="lineno"> 3371</span>                <span class="keyword">const</span> std::string&amp; script_str = script_univ.get_str();</div>
<div class="line"><a id="l03372" name="l03372"></a><span class="lineno"> 3372</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="strencodings_8cpp.html#a9f23401f4b871ed693f7a96a9ba40c58">IsHex</a>(script_str)) {</div>
<div class="line"><a id="l03373" name="l03373"></a><span class="lineno"> 3373</span>                    <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;&#39;%s&#39; is not hex&quot;</span>, script_str));</div>
<div class="line"><a id="l03374" name="l03374"></a><span class="lineno"> 3374</span>                }</div>
<div class="line"><a id="l03375" name="l03375"></a><span class="lineno"> 3375</span>                std::vector&lt;unsigned char&gt; script_data(<a class="code hl_function" href="strencodings_8cpp.html#a715a7fc85da1c585babfb1bd6d3f9043">ParseHex</a>(script_str));</div>
<div class="line"><a id="l03376" name="l03376"></a><span class="lineno"> 3376</span>                <span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a> script(script_data.begin(), script_data.end());</div>
<div class="line"><a id="l03377" name="l03377"></a><span class="lineno"> 3377</span>                coinControl.<a class="code hl_variable" href="class_c_coin_control.html#a9196b3bd2d38ec8da02f5ddbfb0459af">m_external_provider</a>.<a class="code hl_variable" href="struct_flat_signing_provider.html#abedabab95e715afefa36983261cb76ae">scripts</a>.emplace(<a class="code hl_class" href="class_c_script_i_d.html">CScriptID</a>(script), script);</div>
<div class="line"><a id="l03378" name="l03378"></a><span class="lineno"> 3378</span>            }</div>
<div class="line"><a id="l03379" name="l03379"></a><span class="lineno"> 3379</span>        }</div>
<div class="line"><a id="l03380" name="l03380"></a><span class="lineno"> 3380</span> </div>
<div class="line"><a id="l03381" name="l03381"></a><span class="lineno"> 3381</span>        <span class="keywordflow">if</span> (solving_data.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;descriptors&quot;</span>)) {</div>
<div class="line"><a id="l03382" name="l03382"></a><span class="lineno"> 3382</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; desc_univ : solving_data[<span class="stringliteral">&quot;descriptors&quot;</span>].get_array().getValues()) {</div>
<div class="line"><a id="l03383" name="l03383"></a><span class="lineno"> 3383</span>                <span class="keyword">const</span> std::string&amp; desc_str  = desc_univ.get_str();</div>
<div class="line"><a id="l03384" name="l03384"></a><span class="lineno"> 3384</span>                <a class="code hl_struct" href="struct_flat_signing_provider.html">FlatSigningProvider</a> desc_out;</div>
<div class="line"><a id="l03385" name="l03385"></a><span class="lineno"> 3385</span>                std::string <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>;</div>
<div class="line"><a id="l03386" name="l03386"></a><span class="lineno"> 3386</span>                std::vector&lt;CScript&gt; scripts_temp;</div>
<div class="line"><a id="l03387" name="l03387"></a><span class="lineno"> 3387</span>                std::unique_ptr&lt;Descriptor&gt; desc = <a class="code hl_function" href="descriptor_8cpp.html#a5b04a070a89420018a8c38a25807bf68">Parse</a>(desc_str, desc_out, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l03388" name="l03388"></a><span class="lineno"> 3388</span>                <span class="keywordflow">if</span> (!desc) {</div>
<div class="line"><a id="l03389" name="l03389"></a><span class="lineno"> 3389</span>                    <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;Unable to parse descriptor &#39;%s&#39;: %s&quot;</span>, desc_str, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>));</div>
<div class="line"><a id="l03390" name="l03390"></a><span class="lineno"> 3390</span>                }</div>
<div class="line"><a id="l03391" name="l03391"></a><span class="lineno"> 3391</span>                desc-&gt;Expand(0, desc_out, scripts_temp, desc_out);</div>
<div class="line"><a id="l03392" name="l03392"></a><span class="lineno"> 3392</span>                coinControl.<a class="code hl_variable" href="class_c_coin_control.html#a9196b3bd2d38ec8da02f5ddbfb0459af">m_external_provider</a> = <a class="code hl_function" href="signingprovider_8cpp.html#a41a956a97c71469163d8be3a63ff0fb1">Merge</a>(coinControl.<a class="code hl_variable" href="class_c_coin_control.html#a9196b3bd2d38ec8da02f5ddbfb0459af">m_external_provider</a>, desc_out);</div>
<div class="line"><a id="l03393" name="l03393"></a><span class="lineno"> 3393</span>            }</div>
<div class="line"><a id="l03394" name="l03394"></a><span class="lineno"> 3394</span>        }</div>
<div class="line"><a id="l03395" name="l03395"></a><span class="lineno"> 3395</span>    }</div>
<div class="line"><a id="l03396" name="l03396"></a><span class="lineno"> 3396</span> </div>
<div class="line"><a id="l03397" name="l03397"></a><span class="lineno"> 3397</span>    <span class="keywordflow">if</span> (tx.<a class="code hl_variable" href="struct_c_mutable_transaction.html#aca14a252c78e4af2dfe68d7ea67a77dc">vout</a>.size() == 0)</div>
<div class="line"><a id="l03398" name="l03398"></a><span class="lineno"> 3398</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;TX must have at least one output&quot;</span>);</div>
<div class="line"><a id="l03399" name="l03399"></a><span class="lineno"> 3399</span> </div>
<div class="line"><a id="l03400" name="l03400"></a><span class="lineno"> 3400</span>    <span class="keywordflow">if</span> (change_position != -1 &amp;&amp; (change_position &lt; 0 || (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)change_position &gt; tx.<a class="code hl_variable" href="struct_c_mutable_transaction.html#aca14a252c78e4af2dfe68d7ea67a77dc">vout</a>.size()))</div>
<div class="line"><a id="l03401" name="l03401"></a><span class="lineno"> 3401</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;changePosition out of bounds&quot;</span>);</div>
<div class="line"><a id="l03402" name="l03402"></a><span class="lineno"> 3402</span> </div>
<div class="line"><a id="l03403" name="l03403"></a><span class="lineno"> 3403</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx = 0; idx &lt; subtractFeeFromOutputs.<a class="code hl_function" href="class_uni_value.html#a5a7394aeb8d5584db7a90c2c041726b1">size</a>(); idx++) {</div>
<div class="line"><a id="l03404" name="l03404"></a><span class="lineno"> 3404</span>        <span class="keywordtype">int</span> pos = subtractFeeFromOutputs[idx].<a class="code hl_function" href="class_uni_value.html#af45edc6e67eaa6d1f271ce18e435a376">get_int</a>();</div>
<div class="line"><a id="l03405" name="l03405"></a><span class="lineno"> 3405</span>        <span class="keywordflow">if</span> (setSubtractFeeFromOutputs.count(pos))</div>
<div class="line"><a id="l03406" name="l03406"></a><span class="lineno"> 3406</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;Invalid parameter, duplicated position: %d&quot;</span>, pos));</div>
<div class="line"><a id="l03407" name="l03407"></a><span class="lineno"> 3407</span>        <span class="keywordflow">if</span> (pos &lt; 0)</div>
<div class="line"><a id="l03408" name="l03408"></a><span class="lineno"> 3408</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;Invalid parameter, negative position: %d&quot;</span>, pos));</div>
<div class="line"><a id="l03409" name="l03409"></a><span class="lineno"> 3409</span>        <span class="keywordflow">if</span> (pos &gt;= <span class="keywordtype">int</span>(tx.<a class="code hl_variable" href="struct_c_mutable_transaction.html#aca14a252c78e4af2dfe68d7ea67a77dc">vout</a>.size()))</div>
<div class="line"><a id="l03410" name="l03410"></a><span class="lineno"> 3410</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;Invalid parameter, position too large: %d&quot;</span>, pos));</div>
<div class="line"><a id="l03411" name="l03411"></a><span class="lineno"> 3411</span>        setSubtractFeeFromOutputs.insert(pos);</div>
<div class="line"><a id="l03412" name="l03412"></a><span class="lineno"> 3412</span>    }</div>
<div class="line"><a id="l03413" name="l03413"></a><span class="lineno"> 3413</span> </div>
<div class="line"><a id="l03414" name="l03414"></a><span class="lineno"> 3414</span>    <span class="comment">// Fetch specified UTXOs from the UTXO set to get the scriptPubKeys and values of the outputs being selected</span></div>
<div class="line"><a id="l03415" name="l03415"></a><span class="lineno"> 3415</span>    <span class="comment">// and to match with the given solving_data. Only used for non-wallet outputs.</span></div>
<div class="line"><a id="l03416" name="l03416"></a><span class="lineno"> 3416</span>    std::map&lt;COutPoint, Coin&gt; coins;</div>
<div class="line"><a id="l03417" name="l03417"></a><span class="lineno"> 3417</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_c_tx_in.html">CTxIn</a>&amp; txin : tx.<a class="code hl_variable" href="struct_c_mutable_transaction.html#ad6b1a0a773293fd153a1d384923631da">vin</a>) {</div>
<div class="line"><a id="l03418" name="l03418"></a><span class="lineno"> 3418</span>        coins[txin.<a class="code hl_variable" href="class_c_tx_in.html#aed9312051a25380cbd7f123408ab7c20">prevout</a>]; <span class="comment">// Create empty map entry keyed by prevout.</span></div>
<div class="line"><a id="l03419" name="l03419"></a><span class="lineno"> 3419</span>    }</div>
<div class="line"><a id="l03420" name="l03420"></a><span class="lineno"> 3420</span>    <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.chain().findCoins(coins);</div>
<div class="line"><a id="l03421" name="l03421"></a><span class="lineno"> 3421</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; coin : coins) {</div>
<div class="line"><a id="l03422" name="l03422"></a><span class="lineno"> 3422</span>        <span class="keywordflow">if</span> (!coin.second.out.IsNull()) {</div>
<div class="line"><a id="l03423" name="l03423"></a><span class="lineno"> 3423</span>            coinControl.<a class="code hl_function" href="class_c_coin_control.html#a4c614114e77f7bdd4521d82e758f15ab">SelectExternal</a>(coin.first, coin.second.out);</div>
<div class="line"><a id="l03424" name="l03424"></a><span class="lineno"> 3424</span>        }</div>
<div class="line"><a id="l03425" name="l03425"></a><span class="lineno"> 3425</span>    }</div>
<div class="line"><a id="l03426" name="l03426"></a><span class="lineno"> 3426</span> </div>
<div class="line"><a id="l03427" name="l03427"></a><span class="lineno"> 3427</span>    <a class="code hl_struct" href="structbilingual__str.html">bilingual_str</a> <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>;</div>
<div class="line"><a id="l03428" name="l03428"></a><span class="lineno"> 3428</span> </div>
<div class="line"><a id="l03429" name="l03429"></a><span class="lineno"> 3429</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="rpcwallet_8cpp.html#a3176a0e8760dda40a6bffdae6ad369e8">FundTransaction</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>, tx, fee_out, change_position, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>, lockUnspents, setSubtractFeeFromOutputs, coinControl)) {</div>
<div class="line"><a id="l03430" name="l03430"></a><span class="lineno"> 3430</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>.original);</div>
<div class="line"><a id="l03431" name="l03431"></a><span class="lineno"> 3431</span>    }</div>
<div class="line"><a id="l03432" name="l03432"></a><span class="lineno"> 3432</span>}</div>
<div class="line"><a id="l03433" name="l03433"></a><span class="lineno"> 3433</span> </div>
<div class="line"><a id="l03434" name="l03434"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a272a12e6509a7d5c88d2591829b48a62"> 3434</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a272a12e6509a7d5c88d2591829b48a62">fundrawtransaction</a>()</div>
<div class="line"><a id="l03435" name="l03435"></a><span class="lineno"> 3435</span>{</div>
<div class="line"><a id="l03436" name="l03436"></a><span class="lineno"> 3436</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;fundrawtransaction&quot;</span>,</div>
<div class="line"><a id="l03437" name="l03437"></a><span class="lineno"> 3437</span>                <span class="stringliteral">&quot;\nIf the transaction has no inputs, they will be automatically selected to meet its out value.\n&quot;</span></div>
<div class="line"><a id="l03438" name="l03438"></a><span class="lineno"> 3438</span>                <span class="stringliteral">&quot;It will add at most one change output to the outputs.\n&quot;</span></div>
<div class="line"><a id="l03439" name="l03439"></a><span class="lineno"> 3439</span>                <span class="stringliteral">&quot;No existing outputs will be modified unless \&quot;subtractFeeFromOutputs\&quot; is specified.\n&quot;</span></div>
<div class="line"><a id="l03440" name="l03440"></a><span class="lineno"> 3440</span>                <span class="stringliteral">&quot;Note that inputs which were signed may need to be resigned after completion since in/outputs have been added.\n&quot;</span></div>
<div class="line"><a id="l03441" name="l03441"></a><span class="lineno"> 3441</span>                <span class="stringliteral">&quot;The inputs added will not be signed, use signrawtransactionwithkey\n&quot;</span></div>
<div class="line"><a id="l03442" name="l03442"></a><span class="lineno"> 3442</span>                <span class="stringliteral">&quot;or signrawtransactionwithwallet for that.\n&quot;</span></div>
<div class="line"><a id="l03443" name="l03443"></a><span class="lineno"> 3443</span>                <span class="stringliteral">&quot;All existing inputs must either have their previous output transaction be in the wallet\n&quot;</span></div>
<div class="line"><a id="l03444" name="l03444"></a><span class="lineno"> 3444</span>                <span class="stringliteral">&quot;or be in the UTXO set. Solving data must be provided for non-wallet inputs.\n&quot;</span></div>
<div class="line"><a id="l03445" name="l03445"></a><span class="lineno"> 3445</span>                <span class="stringliteral">&quot;Note that all inputs selected must be of standard form and P2SH scripts must be\n&quot;</span></div>
<div class="line"><a id="l03446" name="l03446"></a><span class="lineno"> 3446</span>                <span class="stringliteral">&quot;in the wallet using importaddress or addmultisigaddress (to calculate fees).\n&quot;</span></div>
<div class="line"><a id="l03447" name="l03447"></a><span class="lineno"> 3447</span>                <span class="stringliteral">&quot;You can see whether this is the case by checking the \&quot;solvable\&quot; field in the listunspent output.\n&quot;</span></div>
<div class="line"><a id="l03448" name="l03448"></a><span class="lineno"> 3448</span>                <span class="stringliteral">&quot;Only pay-to-pubkey, multisig, and P2SH versions thereof are currently supported for watch-only\n&quot;</span>,</div>
<div class="line"><a id="l03449" name="l03449"></a><span class="lineno"> 3449</span>                {</div>
<div class="line"><a id="l03450" name="l03450"></a><span class="lineno"> 3450</span>                    {<span class="stringliteral">&quot;hexstring&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The hex string of the raw transaction&quot;</span>},</div>
<div class="line"><a id="l03451" name="l03451"></a><span class="lineno"> 3451</span>                    {<span class="stringliteral">&quot;options&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2af34d534adfb78a9e6432be4621a93eec">RPCArg::Type::OBJ</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;for backward compatibility: passing in a true instead of an object will result in {\&quot;includeWatching\&quot;:true}&quot;</span>,</div>
<div class="line"><a id="l03452" name="l03452"></a><span class="lineno"> 3452</span>                        Cat&lt;std::vector&lt;RPCArg&gt;&gt;(</div>
<div class="line"><a id="l03453" name="l03453"></a><span class="lineno"> 3453</span>                        {</div>
<div class="line"><a id="l03454" name="l03454"></a><span class="lineno"> 3454</span>                            {<span class="stringliteral">&quot;add_inputs&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">true</span>}, <span class="stringliteral">&quot;For a transaction with existing inputs, automatically include more if they are not enough.&quot;</span>},</div>
<div class="line"><a id="l03455" name="l03455"></a><span class="lineno"> 3455</span>                            {<span class="stringliteral">&quot;include_unsafe&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;Include inputs that are not safe to spend (unconfirmed transactions from outside keys and unconfirmed replacement transactions).\n&quot;</span></div>
<div class="line"><a id="l03456" name="l03456"></a><span class="lineno"> 3456</span>                                                          <span class="stringliteral">&quot;Warning: the resulting transaction may become invalid if one of the unsafe inputs disappears.\n&quot;</span></div>
<div class="line"><a id="l03457" name="l03457"></a><span class="lineno"> 3457</span>                                                          <span class="stringliteral">&quot;If that happens, you will need to fund the transaction with different inputs and republish it.&quot;</span>},</div>
<div class="line"><a id="l03458" name="l03458"></a><span class="lineno"> 3458</span>                            {<span class="stringliteral">&quot;changeAddress&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;pool address&quot;</span>}, <span class="stringliteral">&quot;The bitcoin address to receive the change&quot;</span>},</div>
<div class="line"><a id="l03459" name="l03459"></a><span class="lineno"> 3459</span>                            {<span class="stringliteral">&quot;changePosition&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;random&quot;</span>}, <span class="stringliteral">&quot;The index of the change output&quot;</span>},</div>
<div class="line"><a id="l03460" name="l03460"></a><span class="lineno"> 3460</span>                            {<span class="stringliteral">&quot;change_type&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;set by -changetype&quot;</span>}, <span class="stringliteral">&quot;The output type to use. Only valid if changeAddress is not specified. Options are \&quot;legacy\&quot;, \&quot;p2sh-segwit\&quot;, and \&quot;bech32\&quot;.&quot;</span>},</div>
<div class="line"><a id="l03461" name="l03461"></a><span class="lineno"> 3461</span>                            {<span class="stringliteral">&quot;includeWatching&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;true for watch-only wallets, otherwise false&quot;</span>}, <span class="stringliteral">&quot;Also select inputs which are watch only.\n&quot;</span></div>
<div class="line"><a id="l03462" name="l03462"></a><span class="lineno"> 3462</span>                                                          <span class="stringliteral">&quot;Only solvable inputs can be used. Watch-only destinations are solvable if the public key and/or output script was imported,\n&quot;</span></div>
<div class="line"><a id="l03463" name="l03463"></a><span class="lineno"> 3463</span>                                                          <span class="stringliteral">&quot;e.g. with &#39;importpubkey&#39; or &#39;importmulti&#39; with the &#39;pubkeys&#39; or &#39;desc&#39; field.&quot;</span>},</div>
<div class="line"><a id="l03464" name="l03464"></a><span class="lineno"> 3464</span>                            {<span class="stringliteral">&quot;lockUnspents&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;Lock selected unspent outputs&quot;</span>},</div>
<div class="line"><a id="l03465" name="l03465"></a><span class="lineno"> 3465</span>                            {<span class="stringliteral">&quot;fee_rate&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;not set, fall back to wallet fee estimation&quot;</span>}, <span class="stringliteral">&quot;Specify a fee rate in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB.&quot;</span>},</div>
<div class="line"><a id="l03466" name="l03466"></a><span class="lineno"> 3466</span>                            {<span class="stringliteral">&quot;feeRate&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;not set, fall back to wallet fee estimation&quot;</span>}, <span class="stringliteral">&quot;Specify a fee rate in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;/kvB.&quot;</span>},</div>
<div class="line"><a id="l03467" name="l03467"></a><span class="lineno"> 3467</span>                            {<span class="stringliteral">&quot;subtractFeeFromOutputs&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>}, <span class="stringliteral">&quot;The integers.\n&quot;</span></div>
<div class="line"><a id="l03468" name="l03468"></a><span class="lineno"> 3468</span>                                                          <span class="stringliteral">&quot;The fee will be equally deducted from the amount of each specified output.\n&quot;</span></div>
<div class="line"><a id="l03469" name="l03469"></a><span class="lineno"> 3469</span>                                                          <span class="stringliteral">&quot;Those recipients will receive less bitcoins than you enter in their corresponding amount field.\n&quot;</span></div>
<div class="line"><a id="l03470" name="l03470"></a><span class="lineno"> 3470</span>                                                          <span class="stringliteral">&quot;If no outputs are specified here, the sender pays the fee.&quot;</span>,</div>
<div class="line"><a id="l03471" name="l03471"></a><span class="lineno"> 3471</span>                                {</div>
<div class="line"><a id="l03472" name="l03472"></a><span class="lineno"> 3472</span>                                    {<span class="stringliteral">&quot;vout_index&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;The zero-based output index, before a change output is added.&quot;</span>},</div>
<div class="line"><a id="l03473" name="l03473"></a><span class="lineno"> 3473</span>                                },</div>
<div class="line"><a id="l03474" name="l03474"></a><span class="lineno"> 3474</span>                            },</div>
<div class="line"><a id="l03475" name="l03475"></a><span class="lineno"> 3475</span>                        },</div>
<div class="line"><a id="l03476" name="l03476"></a><span class="lineno"> 3476</span>                        <a class="code hl_function" href="rpcwallet_8cpp.html#a8e03bdc2be04101c151cc25d2c3611d6">FundTxDoc</a>()),</div>
<div class="line"><a id="l03477" name="l03477"></a><span class="lineno"> 3477</span>                        <span class="stringliteral">&quot;options&quot;</span>},</div>
<div class="line"><a id="l03478" name="l03478"></a><span class="lineno"> 3478</span>                    {<span class="stringliteral">&quot;iswitness&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;depends on heuristic tests&quot;</span>}, <span class="stringliteral">&quot;Whether the transaction hex is a serialized witness transaction.\n&quot;</span></div>
<div class="line"><a id="l03479" name="l03479"></a><span class="lineno"> 3479</span>                        <span class="stringliteral">&quot;If iswitness is not present, heuristic tests will be used in decoding.\n&quot;</span></div>
<div class="line"><a id="l03480" name="l03480"></a><span class="lineno"> 3480</span>                        <span class="stringliteral">&quot;If true, only witness deserialization will be tried.\n&quot;</span></div>
<div class="line"><a id="l03481" name="l03481"></a><span class="lineno"> 3481</span>                        <span class="stringliteral">&quot;If false, only non-witness deserialization will be tried.\n&quot;</span></div>
<div class="line"><a id="l03482" name="l03482"></a><span class="lineno"> 3482</span>                        <span class="stringliteral">&quot;This boolean should reflect whether the transaction has inputs\n&quot;</span></div>
<div class="line"><a id="l03483" name="l03483"></a><span class="lineno"> 3483</span>                        <span class="stringliteral">&quot;(e.g. fully valid, or on-chain transactions), if known by the caller.&quot;</span></div>
<div class="line"><a id="l03484" name="l03484"></a><span class="lineno"> 3484</span>                    },</div>
<div class="line"><a id="l03485" name="l03485"></a><span class="lineno"> 3485</span>                },</div>
<div class="line"><a id="l03486" name="l03486"></a><span class="lineno"> 3486</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l03487" name="l03487"></a><span class="lineno"> 3487</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l03488" name="l03488"></a><span class="lineno"> 3488</span>                    {</div>
<div class="line"><a id="l03489" name="l03489"></a><span class="lineno"> 3489</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;hex&quot;</span>, <span class="stringliteral">&quot;The resulting raw transaction (hex-encoded string)&quot;</span>},</div>
<div class="line"><a id="l03490" name="l03490"></a><span class="lineno"> 3490</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;fee&quot;</span>, <span class="stringliteral">&quot;Fee in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot; the resulting transaction pays&quot;</span>},</div>
<div class="line"><a id="l03491" name="l03491"></a><span class="lineno"> 3491</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;changepos&quot;</span>, <span class="stringliteral">&quot;The position of the added change output, or -1&quot;</span>},</div>
<div class="line"><a id="l03492" name="l03492"></a><span class="lineno"> 3492</span>                    }</div>
<div class="line"><a id="l03493" name="l03493"></a><span class="lineno"> 3493</span>                                },</div>
<div class="line"><a id="l03494" name="l03494"></a><span class="lineno"> 3494</span>                                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l03495" name="l03495"></a><span class="lineno"> 3495</span>                            <span class="stringliteral">&quot;\nCreate a transaction with no inputs\n&quot;</span></div>
<div class="line"><a id="l03496" name="l03496"></a><span class="lineno"> 3496</span>                            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;createrawtransaction&quot;</span>, <span class="stringliteral">&quot;\&quot;[]\&quot; \&quot;{\\\&quot;myaddress\\\&quot;:0.01}\&quot;&quot;</span>) +</div>
<div class="line"><a id="l03497" name="l03497"></a><span class="lineno"> 3497</span>                            <span class="stringliteral">&quot;\nAdd sufficient unsigned inputs to meet the output value\n&quot;</span></div>
<div class="line"><a id="l03498" name="l03498"></a><span class="lineno"> 3498</span>                            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;fundrawtransaction&quot;</span>, <span class="stringliteral">&quot;\&quot;rawtransactionhex\&quot;&quot;</span>) +</div>
<div class="line"><a id="l03499" name="l03499"></a><span class="lineno"> 3499</span>                            <span class="stringliteral">&quot;\nSign the transaction\n&quot;</span></div>
<div class="line"><a id="l03500" name="l03500"></a><span class="lineno"> 3500</span>                            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;signrawtransactionwithwallet&quot;</span>, <span class="stringliteral">&quot;\&quot;fundedtransactionhex\&quot;&quot;</span>) +</div>
<div class="line"><a id="l03501" name="l03501"></a><span class="lineno"> 3501</span>                            <span class="stringliteral">&quot;\nSend the transaction\n&quot;</span></div>
<div class="line"><a id="l03502" name="l03502"></a><span class="lineno"> 3502</span>                            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;sendrawtransaction&quot;</span>, <span class="stringliteral">&quot;\&quot;signedtransactionhex\&quot;&quot;</span>)</div>
<div class="line"><a id="l03503" name="l03503"></a><span class="lineno"> 3503</span>                                },</div>
<div class="line"><a id="l03504" name="l03504"></a><span class="lineno"> 3504</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l03505" name="l03505"></a><span class="lineno"> 3505</span>{</div>
<div class="line"><a id="l03506" name="l03506"></a><span class="lineno"> 3506</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l03507" name="l03507"></a><span class="lineno"> 3507</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l03508" name="l03508"></a><span class="lineno"> 3508</span> </div>
<div class="line"><a id="l03509" name="l03509"></a><span class="lineno"> 3509</span>    <a class="code hl_function" href="rpc_2util_8cpp.html#a1d3e3ccc5d3ba3ee1314be41a2039e0f">RPCTypeCheck</a>(request.params, {UniValue::VSTR, UniValueType(), UniValue::VBOOL});</div>
<div class="line"><a id="l03510" name="l03510"></a><span class="lineno"> 3510</span> </div>
<div class="line"><a id="l03511" name="l03511"></a><span class="lineno"> 3511</span>    <span class="comment">// parse hex string from parameter</span></div>
<div class="line"><a id="l03512" name="l03512"></a><span class="lineno"> 3512</span>    <a class="code hl_struct" href="struct_c_mutable_transaction.html">CMutableTransaction</a> tx;</div>
<div class="line"><a id="l03513" name="l03513"></a><span class="lineno"> 3513</span>    <span class="keywordtype">bool</span> try_witness = request.params[2].isNull() ? true : request.params[2].get_bool();</div>
<div class="line"><a id="l03514" name="l03514"></a><span class="lineno"> 3514</span>    <span class="keywordtype">bool</span> try_no_witness = request.params[2].isNull() ? true : !request.params[2].get_bool();</div>
<div class="line"><a id="l03515" name="l03515"></a><span class="lineno"> 3515</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="core__io_8h.html#af85d4419a3e04333cf965bd6c5b466af">DecodeHexTx</a>(tx, request.params[0].get_str(), try_no_witness, try_witness)) {</div>
<div class="line"><a id="l03516" name="l03516"></a><span class="lineno"> 3516</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272">RPC_DESERIALIZATION_ERROR</a>, <span class="stringliteral">&quot;TX decode failed&quot;</span>);</div>
<div class="line"><a id="l03517" name="l03517"></a><span class="lineno"> 3517</span>    }</div>
<div class="line"><a id="l03518" name="l03518"></a><span class="lineno"> 3518</span> </div>
<div class="line"><a id="l03519" name="l03519"></a><span class="lineno"> 3519</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> fee;</div>
<div class="line"><a id="l03520" name="l03520"></a><span class="lineno"> 3520</span>    <span class="keywordtype">int</span> change_position;</div>
<div class="line"><a id="l03521" name="l03521"></a><span class="lineno"> 3521</span>    <a class="code hl_class" href="class_c_coin_control.html">CCoinControl</a> coin_control;</div>
<div class="line"><a id="l03522" name="l03522"></a><span class="lineno"> 3522</span>    <span class="comment">// Automatically select (additional) coins. Can be overridden by options.add_inputs.</span></div>
<div class="line"><a id="l03523" name="l03523"></a><span class="lineno"> 3523</span>    coin_control.<a class="code hl_variable" href="class_c_coin_control.html#aa5a916ab50a60b000b4cacf74912ccd4">m_add_inputs</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03524" name="l03524"></a><span class="lineno"> 3524</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#a3176a0e8760dda40a6bffdae6ad369e8">FundTransaction</a>(*pwallet, tx, fee, change_position, request.params[1], coin_control, <span class="comment">/* override_min_fee */</span> <span class="keyword">true</span>);</div>
<div class="line"><a id="l03525" name="l03525"></a><span class="lineno"> 3525</span> </div>
<div class="line"><a id="l03526" name="l03526"></a><span class="lineno"> 3526</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> result(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l03527" name="l03527"></a><span class="lineno"> 3527</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;hex&quot;</span>, <a class="code hl_function" href="core__io_8h.html#aadd59c0793b3ccee08ad1c3f4557c1c3">EncodeHexTx</a>(<a class="code hl_class" href="class_c_transaction.html">CTransaction</a>(tx)));</div>
<div class="line"><a id="l03528" name="l03528"></a><span class="lineno"> 3528</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;fee&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(fee));</div>
<div class="line"><a id="l03529" name="l03529"></a><span class="lineno"> 3529</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;changepos&quot;</span>, change_position);</div>
<div class="line"><a id="l03530" name="l03530"></a><span class="lineno"> 3530</span> </div>
<div class="line"><a id="l03531" name="l03531"></a><span class="lineno"> 3531</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l03532" name="l03532"></a><span class="lineno"> 3532</span>},</div>
<div class="line"><a id="l03533" name="l03533"></a><span class="lineno"> 3533</span>    };</div>
<div class="line"><a id="l03534" name="l03534"></a><span class="lineno"> 3534</span>}</div>
<div class="line"><a id="l03535" name="l03535"></a><span class="lineno"> 3535</span> </div>
<div class="line"><a id="l03536" name="l03536"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a8f5ea5a592a2e4b5bb1e09d708ca1de3"> 3536</a></span><a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a8f5ea5a592a2e4b5bb1e09d708ca1de3">signrawtransactionwithwallet</a>()</div>
<div class="line"><a id="l03537" name="l03537"></a><span class="lineno"> 3537</span>{</div>
<div class="line"><a id="l03538" name="l03538"></a><span class="lineno"> 3538</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;signrawtransactionwithwallet&quot;</span>,</div>
<div class="line"><a id="l03539" name="l03539"></a><span class="lineno"> 3539</span>                <span class="stringliteral">&quot;\nSign inputs for raw transaction (serialized, hex-encoded).\n&quot;</span></div>
<div class="line"><a id="l03540" name="l03540"></a><span class="lineno"> 3540</span>                <span class="stringliteral">&quot;The second optional argument (may be null) is an array of previous transaction outputs that\n&quot;</span></div>
<div class="line"><a id="l03541" name="l03541"></a><span class="lineno"> 3541</span>                <span class="stringliteral">&quot;this transaction depends on but may not yet be in the block chain.&quot;</span> +</div>
<div class="line"><a id="l03542" name="l03542"></a><span class="lineno"> 3542</span>        <a class="code hl_variable" href="rpcwallet_8cpp.html#af12e66dd08ab50e9dc1af62592a73f8f">HELP_REQUIRING_PASSPHRASE</a>,</div>
<div class="line"><a id="l03543" name="l03543"></a><span class="lineno"> 3543</span>                {</div>
<div class="line"><a id="l03544" name="l03544"></a><span class="lineno"> 3544</span>                    {<span class="stringliteral">&quot;hexstring&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The transaction hex string&quot;</span>},</div>
<div class="line"><a id="l03545" name="l03545"></a><span class="lineno"> 3545</span>                    {<span class="stringliteral">&quot;prevtxs&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;The previous dependent transaction outputs&quot;</span>,</div>
<div class="line"><a id="l03546" name="l03546"></a><span class="lineno"> 3546</span>                        {</div>
<div class="line"><a id="l03547" name="l03547"></a><span class="lineno"> 3547</span>                            {<span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2af34d534adfb78a9e6432be4621a93eec">RPCArg::Type::OBJ</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l03548" name="l03548"></a><span class="lineno"> 3548</span>                                {</div>
<div class="line"><a id="l03549" name="l03549"></a><span class="lineno"> 3549</span>                                    {<span class="stringliteral">&quot;txid&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The transaction id&quot;</span>},</div>
<div class="line"><a id="l03550" name="l03550"></a><span class="lineno"> 3550</span>                                    {<span class="stringliteral">&quot;vout&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The output number&quot;</span>},</div>
<div class="line"><a id="l03551" name="l03551"></a><span class="lineno"> 3551</span>                                    {<span class="stringliteral">&quot;scriptPubKey&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;script key&quot;</span>},</div>
<div class="line"><a id="l03552" name="l03552"></a><span class="lineno"> 3552</span>                                    {<span class="stringliteral">&quot;redeemScript&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;(required for P2SH) redeem script&quot;</span>},</div>
<div class="line"><a id="l03553" name="l03553"></a><span class="lineno"> 3553</span>                                    {<span class="stringliteral">&quot;witnessScript&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;(required for P2WSH or P2SH-P2WSH) witness script&quot;</span>},</div>
<div class="line"><a id="l03554" name="l03554"></a><span class="lineno"> 3554</span>                                    {<span class="stringliteral">&quot;amount&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;(required for Segwit inputs) the amount spent&quot;</span>},</div>
<div class="line"><a id="l03555" name="l03555"></a><span class="lineno"> 3555</span>                                },</div>
<div class="line"><a id="l03556" name="l03556"></a><span class="lineno"> 3556</span>                            },</div>
<div class="line"><a id="l03557" name="l03557"></a><span class="lineno"> 3557</span>                        },</div>
<div class="line"><a id="l03558" name="l03558"></a><span class="lineno"> 3558</span>                    },</div>
<div class="line"><a id="l03559" name="l03559"></a><span class="lineno"> 3559</span>                    {<span class="stringliteral">&quot;sighashtype&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="stringliteral">&quot;DEFAULT&quot;</span>}, <span class="stringliteral">&quot;The signature hash type. Must be one of\n&quot;</span></div>
<div class="line"><a id="l03560" name="l03560"></a><span class="lineno"> 3560</span>            <span class="stringliteral">&quot;       \&quot;DEFAULT\&quot;\n&quot;</span></div>
<div class="line"><a id="l03561" name="l03561"></a><span class="lineno"> 3561</span>            <span class="stringliteral">&quot;       \&quot;ALL\&quot;\n&quot;</span></div>
<div class="line"><a id="l03562" name="l03562"></a><span class="lineno"> 3562</span>            <span class="stringliteral">&quot;       \&quot;NONE\&quot;\n&quot;</span></div>
<div class="line"><a id="l03563" name="l03563"></a><span class="lineno"> 3563</span>            <span class="stringliteral">&quot;       \&quot;SINGLE\&quot;\n&quot;</span></div>
<div class="line"><a id="l03564" name="l03564"></a><span class="lineno"> 3564</span>            <span class="stringliteral">&quot;       \&quot;ALL|ANYONECANPAY\&quot;\n&quot;</span></div>
<div class="line"><a id="l03565" name="l03565"></a><span class="lineno"> 3565</span>            <span class="stringliteral">&quot;       \&quot;NONE|ANYONECANPAY\&quot;\n&quot;</span></div>
<div class="line"><a id="l03566" name="l03566"></a><span class="lineno"> 3566</span>            <span class="stringliteral">&quot;       \&quot;SINGLE|ANYONECANPAY\&quot;&quot;</span>},</div>
<div class="line"><a id="l03567" name="l03567"></a><span class="lineno"> 3567</span>                },</div>
<div class="line"><a id="l03568" name="l03568"></a><span class="lineno"> 3568</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l03569" name="l03569"></a><span class="lineno"> 3569</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l03570" name="l03570"></a><span class="lineno"> 3570</span>                    {</div>
<div class="line"><a id="l03571" name="l03571"></a><span class="lineno"> 3571</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;hex&quot;</span>, <span class="stringliteral">&quot;The hex-encoded raw transaction with signature(s)&quot;</span>},</div>
<div class="line"><a id="l03572" name="l03572"></a><span class="lineno"> 3572</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;complete&quot;</span>, <span class="stringliteral">&quot;If the transaction has a complete set of signatures&quot;</span>},</div>
<div class="line"><a id="l03573" name="l03573"></a><span class="lineno"> 3573</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;errors&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;Script verification errors (if there are any)&quot;</span>,</div>
<div class="line"><a id="l03574" name="l03574"></a><span class="lineno"> 3574</span>                        {</div>
<div class="line"><a id="l03575" name="l03575"></a><span class="lineno"> 3575</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l03576" name="l03576"></a><span class="lineno"> 3576</span>                            {</div>
<div class="line"><a id="l03577" name="l03577"></a><span class="lineno"> 3577</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;txid&quot;</span>, <span class="stringliteral">&quot;The hash of the referenced, previous transaction&quot;</span>},</div>
<div class="line"><a id="l03578" name="l03578"></a><span class="lineno"> 3578</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;vout&quot;</span>, <span class="stringliteral">&quot;The index of the output to spent and used as input&quot;</span>},</div>
<div class="line"><a id="l03579" name="l03579"></a><span class="lineno"> 3579</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;witness&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l03580" name="l03580"></a><span class="lineno"> 3580</span>                                {</div>
<div class="line"><a id="l03581" name="l03581"></a><span class="lineno"> 3581</span>                                    {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;witness&quot;</span>, <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l03582" name="l03582"></a><span class="lineno"> 3582</span>                                }},</div>
<div class="line"><a id="l03583" name="l03583"></a><span class="lineno"> 3583</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;scriptSig&quot;</span>, <span class="stringliteral">&quot;The hex-encoded signature script&quot;</span>},</div>
<div class="line"><a id="l03584" name="l03584"></a><span class="lineno"> 3584</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;sequence&quot;</span>, <span class="stringliteral">&quot;Script sequence number&quot;</span>},</div>
<div class="line"><a id="l03585" name="l03585"></a><span class="lineno"> 3585</span>                                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;error&quot;</span>, <span class="stringliteral">&quot;Verification or signing error related to the input&quot;</span>},</div>
<div class="line"><a id="l03586" name="l03586"></a><span class="lineno"> 3586</span>                            }},</div>
<div class="line"><a id="l03587" name="l03587"></a><span class="lineno"> 3587</span>                        }},</div>
<div class="line"><a id="l03588" name="l03588"></a><span class="lineno"> 3588</span>                    }</div>
<div class="line"><a id="l03589" name="l03589"></a><span class="lineno"> 3589</span>                },</div>
<div class="line"><a id="l03590" name="l03590"></a><span class="lineno"> 3590</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l03591" name="l03591"></a><span class="lineno"> 3591</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;signrawtransactionwithwallet&quot;</span>, <span class="stringliteral">&quot;\&quot;myhex\&quot;&quot;</span>)</div>
<div class="line"><a id="l03592" name="l03592"></a><span class="lineno"> 3592</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;signrawtransactionwithwallet&quot;</span>, <span class="stringliteral">&quot;\&quot;myhex\&quot;&quot;</span>)</div>
<div class="line"><a id="l03593" name="l03593"></a><span class="lineno"> 3593</span>                },</div>
<div class="line"><a id="l03594" name="l03594"></a><span class="lineno"> 3594</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l03595" name="l03595"></a><span class="lineno"> 3595</span>{</div>
<div class="line"><a id="l03596" name="l03596"></a><span class="lineno"> 3596</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l03597" name="l03597"></a><span class="lineno"> 3597</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l03598" name="l03598"></a><span class="lineno"> 3598</span> </div>
<div class="line"><a id="l03599" name="l03599"></a><span class="lineno"> 3599</span>    <a class="code hl_function" href="rpc_2util_8cpp.html#a1d3e3ccc5d3ba3ee1314be41a2039e0f">RPCTypeCheck</a>(request.params, {UniValue::VSTR, UniValue::VARR, UniValue::VSTR}, <span class="keyword">true</span>);</div>
<div class="line"><a id="l03600" name="l03600"></a><span class="lineno"> 3600</span> </div>
<div class="line"><a id="l03601" name="l03601"></a><span class="lineno"> 3601</span>    <a class="code hl_struct" href="struct_c_mutable_transaction.html">CMutableTransaction</a> mtx;</div>
<div class="line"><a id="l03602" name="l03602"></a><span class="lineno"> 3602</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="core__io_8h.html#af85d4419a3e04333cf965bd6c5b466af">DecodeHexTx</a>(mtx, request.params[0].get_str())) {</div>
<div class="line"><a id="l03603" name="l03603"></a><span class="lineno"> 3603</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272">RPC_DESERIALIZATION_ERROR</a>, <span class="stringliteral">&quot;TX decode failed. Make sure the tx has at least one input.&quot;</span>);</div>
<div class="line"><a id="l03604" name="l03604"></a><span class="lineno"> 3604</span>    }</div>
<div class="line"><a id="l03605" name="l03605"></a><span class="lineno"> 3605</span> </div>
<div class="line"><a id="l03606" name="l03606"></a><span class="lineno"> 3606</span>    <span class="comment">// Sign the transaction</span></div>
<div class="line"><a id="l03607" name="l03607"></a><span class="lineno"> 3607</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l03608" name="l03608"></a><span class="lineno"> 3608</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#a6272e8ec945c32ab0d3e27cb0eab078b">EnsureWalletIsUnlocked</a>(*pwallet);</div>
<div class="line"><a id="l03609" name="l03609"></a><span class="lineno"> 3609</span> </div>
<div class="line"><a id="l03610" name="l03610"></a><span class="lineno"> 3610</span>    <span class="comment">// Fetch previous transactions (inputs):</span></div>
<div class="line"><a id="l03611" name="l03611"></a><span class="lineno"> 3611</span>    std::map&lt;COutPoint, Coin&gt; coins;</div>
<div class="line"><a id="l03612" name="l03612"></a><span class="lineno"> 3612</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_c_tx_in.html">CTxIn</a>&amp; txin : mtx.<a class="code hl_variable" href="struct_c_mutable_transaction.html#ad6b1a0a773293fd153a1d384923631da">vin</a>) {</div>
<div class="line"><a id="l03613" name="l03613"></a><span class="lineno"> 3613</span>        coins[txin.<a class="code hl_variable" href="class_c_tx_in.html#aed9312051a25380cbd7f123408ab7c20">prevout</a>]; <span class="comment">// Create empty map entry keyed by prevout.</span></div>
<div class="line"><a id="l03614" name="l03614"></a><span class="lineno"> 3614</span>    }</div>
<div class="line"><a id="l03615" name="l03615"></a><span class="lineno"> 3615</span>    pwallet-&gt;chain().findCoins(coins);</div>
<div class="line"><a id="l03616" name="l03616"></a><span class="lineno"> 3616</span> </div>
<div class="line"><a id="l03617" name="l03617"></a><span class="lineno"> 3617</span>    <span class="comment">// Parse the prevtxs array</span></div>
<div class="line"><a id="l03618" name="l03618"></a><span class="lineno"> 3618</span>    <a class="code hl_function" href="rawtransaction__util_8cpp.html#aa9f088469d8d228d5718f8a17062c98a">ParsePrevouts</a>(request.params[1], <span class="keyword">nullptr</span>, coins);</div>
<div class="line"><a id="l03619" name="l03619"></a><span class="lineno"> 3619</span> </div>
<div class="line"><a id="l03620" name="l03620"></a><span class="lineno"> 3620</span>    <span class="keywordtype">int</span> nHashType = <a class="code hl_function" href="core__io_8h.html#a54a58438a2f3f96d0697910ca68aa9da">ParseSighashString</a>(request.params[2]);</div>
<div class="line"><a id="l03621" name="l03621"></a><span class="lineno"> 3621</span> </div>
<div class="line"><a id="l03622" name="l03622"></a><span class="lineno"> 3622</span>    <span class="comment">// Script verification errors</span></div>
<div class="line"><a id="l03623" name="l03623"></a><span class="lineno"> 3623</span>    std::map&lt;int, bilingual_str&gt; input_errors;</div>
<div class="line"><a id="l03624" name="l03624"></a><span class="lineno"> 3624</span> </div>
<div class="line"><a id="l03625" name="l03625"></a><span class="lineno"> 3625</span>    <span class="keywordtype">bool</span> complete = pwallet-&gt;SignTransaction(mtx, coins, nHashType, input_errors);</div>
<div class="line"><a id="l03626" name="l03626"></a><span class="lineno"> 3626</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> result(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l03627" name="l03627"></a><span class="lineno"> 3627</span>    <a class="code hl_function" href="rawtransaction__util_8cpp.html#a02a20b5fe1e810461108a969bd3c5f2d">SignTransactionResultToJSON</a>(mtx, complete, coins, input_errors, result);</div>
<div class="line"><a id="l03628" name="l03628"></a><span class="lineno"> 3628</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l03629" name="l03629"></a><span class="lineno"> 3629</span>},</div>
<div class="line"><a id="l03630" name="l03630"></a><span class="lineno"> 3630</span>    };</div>
<div class="line"><a id="l03631" name="l03631"></a><span class="lineno"> 3631</span>}</div>
<div class="line"><a id="l03632" name="l03632"></a><span class="lineno"> 3632</span> </div>
<div class="line"><a id="l03633" name="l03633"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a09d4fde10c059f903bc22986003ebc35"> 3633</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a09d4fde10c059f903bc22986003ebc35">bumpfee_helper</a>(std::string method_name)</div>
<div class="line"><a id="l03634" name="l03634"></a><span class="lineno"> 3634</span>{</div>
<div class="line"><a id="l03635" name="l03635"></a><span class="lineno"> 3635</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> want_psbt = method_name == <span class="stringliteral">&quot;psbtbumpfee&quot;</span>;</div>
<div class="line"><a id="l03636" name="l03636"></a><span class="lineno"> 3636</span>    <span class="keyword">const</span> std::string incremental_fee{<a class="code hl_class" href="class_c_fee_rate.html">CFeeRate</a>(<a class="code hl_variable" href="policy_8h.html#ac79356a89c909ccb0674c1577e2ec81b">DEFAULT_INCREMENTAL_RELAY_FEE</a>).<a class="code hl_function" href="class_c_fee_rate.html#a150357ec36fe517adf4a9876089c3a8e">ToString</a>(<a class="code hl_enumvalue" href="feerate_8h.html#aff36f74244c52c764c1af21d5f812173ae60e9017cce9fe03f15d111eae1891a0">FeeEstimateMode::SAT_VB</a>)};</div>
<div class="line"><a id="l03637" name="l03637"></a><span class="lineno"> 3637</span> </div>
<div class="line"><a id="l03638" name="l03638"></a><span class="lineno"> 3638</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{method_name,</div>
<div class="line"><a id="l03639" name="l03639"></a><span class="lineno"> 3639</span>        <span class="stringliteral">&quot;\nBumps the fee of an opt-in-RBF transaction T, replacing it with a new transaction B.\n&quot;</span></div>
<div class="line"><a id="l03640" name="l03640"></a><span class="lineno"> 3640</span>        + std::string(want_psbt ? <span class="stringliteral">&quot;Returns a PSBT instead of creating and signing a new transaction.\n&quot;</span> : <span class="stringliteral">&quot;&quot;</span>) +</div>
<div class="line"><a id="l03641" name="l03641"></a><span class="lineno"> 3641</span>        <span class="stringliteral">&quot;An opt-in RBF transaction with the given txid must be in the wallet.\n&quot;</span></div>
<div class="line"><a id="l03642" name="l03642"></a><span class="lineno"> 3642</span>        <span class="stringliteral">&quot;The command will pay the additional fee by reducing change outputs or adding inputs when necessary.\n&quot;</span></div>
<div class="line"><a id="l03643" name="l03643"></a><span class="lineno"> 3643</span>        <span class="stringliteral">&quot;It may add a new change output if one does not already exist.\n&quot;</span></div>
<div class="line"><a id="l03644" name="l03644"></a><span class="lineno"> 3644</span>        <span class="stringliteral">&quot;All inputs in the original transaction will be included in the replacement transaction.\n&quot;</span></div>
<div class="line"><a id="l03645" name="l03645"></a><span class="lineno"> 3645</span>        <span class="stringliteral">&quot;The command will fail if the wallet or mempool contains a transaction that spends one of T&#39;s outputs.\n&quot;</span></div>
<div class="line"><a id="l03646" name="l03646"></a><span class="lineno"> 3646</span>        <span class="stringliteral">&quot;By default, the new fee will be calculated automatically using the estimatesmartfee RPC.\n&quot;</span></div>
<div class="line"><a id="l03647" name="l03647"></a><span class="lineno"> 3647</span>        <span class="stringliteral">&quot;The user can specify a confirmation target for estimatesmartfee.\n&quot;</span></div>
<div class="line"><a id="l03648" name="l03648"></a><span class="lineno"> 3648</span>        <span class="stringliteral">&quot;Alternatively, the user can specify a fee rate in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB for the new transaction.\n&quot;</span></div>
<div class="line"><a id="l03649" name="l03649"></a><span class="lineno"> 3649</span>        <span class="stringliteral">&quot;At a minimum, the new fee rate must be high enough to pay an additional new relay fee (incrementalfee\n&quot;</span></div>
<div class="line"><a id="l03650" name="l03650"></a><span class="lineno"> 3650</span>        <span class="stringliteral">&quot;returned by getnetworkinfo) to enter the node&#39;s mempool.\n&quot;</span></div>
<div class="line"><a id="l03651" name="l03651"></a><span class="lineno"> 3651</span>        <span class="stringliteral">&quot;* WARNING: before version 0.21, fee_rate was in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;/kvB. As of 0.21, fee_rate is in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB. *\n&quot;</span>,</div>
<div class="line"><a id="l03652" name="l03652"></a><span class="lineno"> 3652</span>        {</div>
<div class="line"><a id="l03653" name="l03653"></a><span class="lineno"> 3653</span>            {<span class="stringliteral">&quot;txid&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The txid to be bumped&quot;</span>},</div>
<div class="line"><a id="l03654" name="l03654"></a><span class="lineno"> 3654</span>            {<span class="stringliteral">&quot;options&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2af34d534adfb78a9e6432be4621a93eec">RPCArg::Type::OBJ</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l03655" name="l03655"></a><span class="lineno"> 3655</span>                {</div>
<div class="line"><a id="l03656" name="l03656"></a><span class="lineno"> 3656</span>                    {<span class="stringliteral">&quot;conf_target&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;wallet -txconfirmtarget&quot;</span>}, <span class="stringliteral">&quot;Confirmation target in blocks\n&quot;</span>},</div>
<div class="line"><a id="l03657" name="l03657"></a><span class="lineno"> 3657</span>                    {<span class="stringliteral">&quot;fee_rate&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;not set, fall back to wallet fee estimation&quot;</span>},</div>
<div class="line"><a id="l03658" name="l03658"></a><span class="lineno"> 3658</span>                             <span class="stringliteral">&quot;\nSpecify a fee rate in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB instead of relying on the built-in fee estimator.\n&quot;</span></div>
<div class="line"><a id="l03659" name="l03659"></a><span class="lineno"> 3659</span>                             <span class="stringliteral">&quot;Must be at least &quot;</span> + incremental_fee + <span class="stringliteral">&quot; higher than the current transaction fee rate.\n&quot;</span></div>
<div class="line"><a id="l03660" name="l03660"></a><span class="lineno"> 3660</span>                             <span class="stringliteral">&quot;WARNING: before version 0.21, fee_rate was in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;/kvB. As of 0.21, fee_rate is in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB.\n&quot;</span>},</div>
<div class="line"><a id="l03661" name="l03661"></a><span class="lineno"> 3661</span>                    {<span class="stringliteral">&quot;replaceable&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">true</span>}, <span class="stringliteral">&quot;Whether the new transaction should still be\n&quot;</span></div>
<div class="line"><a id="l03662" name="l03662"></a><span class="lineno"> 3662</span>                             <span class="stringliteral">&quot;marked bip-125 replaceable. If true, the sequence numbers in the transaction will\n&quot;</span></div>
<div class="line"><a id="l03663" name="l03663"></a><span class="lineno"> 3663</span>                             <span class="stringliteral">&quot;be left unchanged from the original. If false, any input sequence numbers in the\n&quot;</span></div>
<div class="line"><a id="l03664" name="l03664"></a><span class="lineno"> 3664</span>                             <span class="stringliteral">&quot;original transaction that were less than 0xfffffffe will be increased to 0xfffffffe\n&quot;</span></div>
<div class="line"><a id="l03665" name="l03665"></a><span class="lineno"> 3665</span>                             <span class="stringliteral">&quot;so the new transaction will not be explicitly bip-125 replaceable (though it may\n&quot;</span></div>
<div class="line"><a id="l03666" name="l03666"></a><span class="lineno"> 3666</span>                             <span class="stringliteral">&quot;still be replaceable in practice, for example if it has unconfirmed ancestors which\n&quot;</span></div>
<div class="line"><a id="l03667" name="l03667"></a><span class="lineno"> 3667</span>                             <span class="stringliteral">&quot;are replaceable).\n&quot;</span>},</div>
<div class="line"><a id="l03668" name="l03668"></a><span class="lineno"> 3668</span>                    {<span class="stringliteral">&quot;estimate_mode&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="stringliteral">&quot;unset&quot;</span>}, <span class="stringliteral">&quot;The fee estimate mode, must be one of (case insensitive):\n&quot;</span></div>
<div class="line"><a id="l03669" name="l03669"></a><span class="lineno"> 3669</span>                             <span class="stringliteral">&quot;\&quot;&quot;</span> + <a class="code hl_function" href="util_2fees_8cpp.html#a32fab8b174c9dcbab0d46d5ea4608a6b">FeeModes</a>(<span class="stringliteral">&quot;\&quot;\n\&quot;&quot;</span>) + <span class="stringliteral">&quot;\&quot;&quot;</span>},</div>
<div class="line"><a id="l03670" name="l03670"></a><span class="lineno"> 3670</span>                },</div>
<div class="line"><a id="l03671" name="l03671"></a><span class="lineno"> 3671</span>                <span class="stringliteral">&quot;options&quot;</span>},</div>
<div class="line"><a id="l03672" name="l03672"></a><span class="lineno"> 3672</span>        },</div>
<div class="line"><a id="l03673" name="l03673"></a><span class="lineno"> 3673</span>        <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l03674" name="l03674"></a><span class="lineno"> 3674</span>            <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_function" href="vector_8h.html#a56f3051110695bb710625b2f90f09eb3">Cat</a>(</div>
<div class="line"><a id="l03675" name="l03675"></a><span class="lineno"> 3675</span>                want_psbt ?</div>
<div class="line"><a id="l03676" name="l03676"></a><span class="lineno"> 3676</span>                std::vector&lt;RPCResult&gt;{{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;psbt&quot;</span>, <span class="stringliteral">&quot;The base64-encoded unsigned PSBT of the new transaction.&quot;</span>}} :</div>
<div class="line"><a id="l03677" name="l03677"></a><span class="lineno"> 3677</span>                std::vector&lt;RPCResult&gt;{{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;txid&quot;</span>, <span class="stringliteral">&quot;The id of the new transaction.&quot;</span>}},</div>
<div class="line"><a id="l03678" name="l03678"></a><span class="lineno"> 3678</span>            {</div>
<div class="line"><a id="l03679" name="l03679"></a><span class="lineno"> 3679</span>                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;origfee&quot;</span>, <span class="stringliteral">&quot;The fee of the replaced transaction.&quot;</span>},</div>
<div class="line"><a id="l03680" name="l03680"></a><span class="lineno"> 3680</span>                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;fee&quot;</span>, <span class="stringliteral">&quot;The fee of the new transaction.&quot;</span>},</div>
<div class="line"><a id="l03681" name="l03681"></a><span class="lineno"> 3681</span>                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;errors&quot;</span>, <span class="stringliteral">&quot;Errors encountered during processing (may be empty).&quot;</span>,</div>
<div class="line"><a id="l03682" name="l03682"></a><span class="lineno"> 3682</span>                {</div>
<div class="line"><a id="l03683" name="l03683"></a><span class="lineno"> 3683</span>                    {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l03684" name="l03684"></a><span class="lineno"> 3684</span>                }},</div>
<div class="line"><a id="l03685" name="l03685"></a><span class="lineno"> 3685</span>            })</div>
<div class="line"><a id="l03686" name="l03686"></a><span class="lineno"> 3686</span>        },</div>
<div class="line"><a id="l03687" name="l03687"></a><span class="lineno"> 3687</span>        <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l03688" name="l03688"></a><span class="lineno"> 3688</span>    <span class="stringliteral">&quot;\nBump the fee, get the new transaction\&#39;s &quot;</span> + std::string(want_psbt ? <span class="stringliteral">&quot;psbt&quot;</span> : <span class="stringliteral">&quot;txid&quot;</span>) + <span class="stringliteral">&quot;\n&quot;</span> +</div>
<div class="line"><a id="l03689" name="l03689"></a><span class="lineno"> 3689</span>            <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(method_name, <span class="stringliteral">&quot;&lt;txid&gt;&quot;</span>)</div>
<div class="line"><a id="l03690" name="l03690"></a><span class="lineno"> 3690</span>        },</div>
<div class="line"><a id="l03691" name="l03691"></a><span class="lineno"> 3691</span>        [want_psbt](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l03692" name="l03692"></a><span class="lineno"> 3692</span>{</div>
<div class="line"><a id="l03693" name="l03693"></a><span class="lineno"> 3693</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l03694" name="l03694"></a><span class="lineno"> 3694</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l03695" name="l03695"></a><span class="lineno"> 3695</span> </div>
<div class="line"><a id="l03696" name="l03696"></a><span class="lineno"> 3696</span>    <span class="keywordflow">if</span> (pwallet-&gt;IsWalletFlagSet(<a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a47b6a219e3ca6733b2a251be3e5def86">WALLET_FLAG_DISABLE_PRIVATE_KEYS</a>) &amp;&amp; !want_psbt) {</div>
<div class="line"><a id="l03697" name="l03697"></a><span class="lineno"> 3697</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;bumpfee is not available with wallets that have private keys disabled. Use psbtbumpfee instead.&quot;</span>);</div>
<div class="line"><a id="l03698" name="l03698"></a><span class="lineno"> 3698</span>    }</div>
<div class="line"><a id="l03699" name="l03699"></a><span class="lineno"> 3699</span> </div>
<div class="line"><a id="l03700" name="l03700"></a><span class="lineno"> 3700</span>    <a class="code hl_function" href="rpc_2util_8cpp.html#a1d3e3ccc5d3ba3ee1314be41a2039e0f">RPCTypeCheck</a>(request.params, {UniValue::VSTR, UniValue::VOBJ});</div>
<div class="line"><a id="l03701" name="l03701"></a><span class="lineno"> 3701</span>    <a class="code hl_class" href="classuint256.html">uint256</a> hash(<a class="code hl_function" href="rpc_2util_8cpp.html#adb231eaeb57d26011655ee8aaa5315e2">ParseHashV</a>(request.params[0], <span class="stringliteral">&quot;txid&quot;</span>));</div>
<div class="line"><a id="l03702" name="l03702"></a><span class="lineno"> 3702</span> </div>
<div class="line"><a id="l03703" name="l03703"></a><span class="lineno"> 3703</span>    <a class="code hl_class" href="class_c_coin_control.html">CCoinControl</a> coin_control;</div>
<div class="line"><a id="l03704" name="l03704"></a><span class="lineno"> 3704</span>    coin_control.<a class="code hl_variable" href="class_c_coin_control.html#a83d3144efcfdd0e87467f0b2d98b4302">fAllowWatchOnly</a> = pwallet-&gt;IsWalletFlagSet(<a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a47b6a219e3ca6733b2a251be3e5def86">WALLET_FLAG_DISABLE_PRIVATE_KEYS</a>);</div>
<div class="line"><a id="l03705" name="l03705"></a><span class="lineno"> 3705</span>    <span class="comment">// optional parameters</span></div>
<div class="line"><a id="l03706" name="l03706"></a><span class="lineno"> 3706</span>    coin_control.<a class="code hl_variable" href="class_c_coin_control.html#a234604093ad4de5c6a19d39bc2fe7b19">m_signal_bip125_rbf</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03707" name="l03707"></a><span class="lineno"> 3707</span> </div>
<div class="line"><a id="l03708" name="l03708"></a><span class="lineno"> 3708</span>    <span class="keywordflow">if</span> (!request.params[1].isNull()) {</div>
<div class="line"><a id="l03709" name="l03709"></a><span class="lineno"> 3709</span>        <a class="code hl_class" href="class_uni_value.html">UniValue</a> options = request.params[1];</div>
<div class="line"><a id="l03710" name="l03710"></a><span class="lineno"> 3710</span>        <a class="code hl_function" href="rpc_2util_8cpp.html#aec45a2addcbf2231658dce8bbfbb792c">RPCTypeCheckObj</a>(options,</div>
<div class="line"><a id="l03711" name="l03711"></a><span class="lineno"> 3711</span>            {</div>
<div class="line"><a id="l03712" name="l03712"></a><span class="lineno"> 3712</span>                {<span class="stringliteral">&quot;confTarget&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aba88a44dcdb6e3be0538d14997ff042b">UniValue::VNUM</a>)},</div>
<div class="line"><a id="l03713" name="l03713"></a><span class="lineno"> 3713</span>                {<span class="stringliteral">&quot;conf_target&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aba88a44dcdb6e3be0538d14997ff042b">UniValue::VNUM</a>)},</div>
<div class="line"><a id="l03714" name="l03714"></a><span class="lineno"> 3714</span>                {<span class="stringliteral">&quot;fee_rate&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>()}, <span class="comment">// will be checked by AmountFromValue() in SetFeeEstimateMode()</span></div>
<div class="line"><a id="l03715" name="l03715"></a><span class="lineno"> 3715</span>                {<span class="stringliteral">&quot;replaceable&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8">UniValue::VBOOL</a>)},</div>
<div class="line"><a id="l03716" name="l03716"></a><span class="lineno"> 3716</span>                {<span class="stringliteral">&quot;estimate_mode&quot;</span>, <a class="code hl_struct" href="struct_uni_value_type.html">UniValueType</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a7afa7b747615105024aab97ff5bf4d11">UniValue::VSTR</a>)},</div>
<div class="line"><a id="l03717" name="l03717"></a><span class="lineno"> 3717</span>            },</div>
<div class="line"><a id="l03718" name="l03718"></a><span class="lineno"> 3718</span>            <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l03719" name="l03719"></a><span class="lineno"> 3719</span> </div>
<div class="line"><a id="l03720" name="l03720"></a><span class="lineno"> 3720</span>        <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;confTarget&quot;</span>) &amp;&amp; options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;conf_target&quot;</span>)) {</div>
<div class="line"><a id="l03721" name="l03721"></a><span class="lineno"> 3721</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;confTarget and conf_target options should not both be set. Use conf_target (confTarget is deprecated).&quot;</span>);</div>
<div class="line"><a id="l03722" name="l03722"></a><span class="lineno"> 3722</span>        }</div>
<div class="line"><a id="l03723" name="l03723"></a><span class="lineno"> 3723</span> </div>
<div class="line"><a id="l03724" name="l03724"></a><span class="lineno"> 3724</span>        <span class="keyword">auto</span> conf_target = options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;confTarget&quot;</span>) ? options[<span class="stringliteral">&quot;confTarget&quot;</span>] : options[<span class="stringliteral">&quot;conf_target&quot;</span>];</div>
<div class="line"><a id="l03725" name="l03725"></a><span class="lineno"> 3725</span> </div>
<div class="line"><a id="l03726" name="l03726"></a><span class="lineno"> 3726</span>        <span class="keywordflow">if</span> (options.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;replaceable&quot;</span>)) {</div>
<div class="line"><a id="l03727" name="l03727"></a><span class="lineno"> 3727</span>            coin_control.<a class="code hl_variable" href="class_c_coin_control.html#a234604093ad4de5c6a19d39bc2fe7b19">m_signal_bip125_rbf</a> = options[<span class="stringliteral">&quot;replaceable&quot;</span>].<a class="code hl_function" href="class_uni_value.html#ae8a27d40aa1b1322ea95ff4fb2dec2b1">get_bool</a>();</div>
<div class="line"><a id="l03728" name="l03728"></a><span class="lineno"> 3728</span>        }</div>
<div class="line"><a id="l03729" name="l03729"></a><span class="lineno"> 3729</span>        <a class="code hl_function" href="rpcwallet_8cpp.html#a0bb19f5cd785f6f02d0169af7396c06b">SetFeeEstimateMode</a>(*pwallet, coin_control, conf_target, options[<span class="stringliteral">&quot;estimate_mode&quot;</span>], options[<span class="stringliteral">&quot;fee_rate&quot;</span>], <span class="comment">/* override_min_fee */</span> <span class="keyword">false</span>);</div>
<div class="line"><a id="l03730" name="l03730"></a><span class="lineno"> 3730</span>    }</div>
<div class="line"><a id="l03731" name="l03731"></a><span class="lineno"> 3731</span> </div>
<div class="line"><a id="l03732" name="l03732"></a><span class="lineno"> 3732</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l03733" name="l03733"></a><span class="lineno"> 3733</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l03734" name="l03734"></a><span class="lineno"> 3734</span>    pwallet-&gt;BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l03735" name="l03735"></a><span class="lineno"> 3735</span> </div>
<div class="line"><a id="l03736" name="l03736"></a><span class="lineno"> 3736</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l03737" name="l03737"></a><span class="lineno"> 3737</span> </div>
<div class="line"><a id="l03738" name="l03738"></a><span class="lineno"> 3738</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#a6272e8ec945c32ab0d3e27cb0eab078b">EnsureWalletIsUnlocked</a>(*pwallet);</div>
<div class="line"><a id="l03739" name="l03739"></a><span class="lineno"> 3739</span> </div>
<div class="line"><a id="l03740" name="l03740"></a><span class="lineno"> 3740</span> </div>
<div class="line"><a id="l03741" name="l03741"></a><span class="lineno"> 3741</span>    std::vector&lt;bilingual_str&gt; errors;</div>
<div class="line"><a id="l03742" name="l03742"></a><span class="lineno"> 3742</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> old_fee;</div>
<div class="line"><a id="l03743" name="l03743"></a><span class="lineno"> 3743</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> new_fee;</div>
<div class="line"><a id="l03744" name="l03744"></a><span class="lineno"> 3744</span>    <a class="code hl_struct" href="struct_c_mutable_transaction.html">CMutableTransaction</a> mtx;</div>
<div class="line"><a id="l03745" name="l03745"></a><span class="lineno"> 3745</span>    <a class="code hl_enumeration" href="namespacefeebumper.html#a08fe575802ef410f95f786253c489bc6">feebumper::Result</a> res;</div>
<div class="line"><a id="l03746" name="l03746"></a><span class="lineno"> 3746</span>    <span class="comment">// Targeting feerate bump.</span></div>
<div class="line"><a id="l03747" name="l03747"></a><span class="lineno"> 3747</span>    res = <a class="code hl_function" href="namespacefeebumper.html#a8930f8cd4321de4955fbac8ca2e3af64">feebumper::CreateRateBumpTransaction</a>(*pwallet, hash, coin_control, errors, old_fee, new_fee, mtx);</div>
<div class="line"><a id="l03748" name="l03748"></a><span class="lineno"> 3748</span>    <span class="keywordflow">if</span> (res != <a class="code hl_enumvalue" href="namespacefeebumper.html#a08fe575802ef410f95f786253c489bc6ae0aa021e21dddbd6d8cecec71e9cf564">feebumper::Result::OK</a>) {</div>
<div class="line"><a id="l03749" name="l03749"></a><span class="lineno"> 3749</span>        <span class="keywordflow">switch</span>(res) {</div>
<div class="line"><a id="l03750" name="l03750"></a><span class="lineno"> 3750</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacefeebumper.html#a08fe575802ef410f95f786253c489bc6a17e958c4b09cbb64fd75df0211dd49c6">feebumper::Result::INVALID_ADDRESS_OR_KEY</a>:</div>
<div class="line"><a id="l03751" name="l03751"></a><span class="lineno"> 3751</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, errors[0].original);</div>
<div class="line"><a id="l03752" name="l03752"></a><span class="lineno"> 3752</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03753" name="l03753"></a><span class="lineno"> 3753</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacefeebumper.html#a08fe575802ef410f95f786253c489bc6ab8c9d7ce4c399c56136475f36309020f">feebumper::Result::INVALID_REQUEST</a>:</div>
<div class="line"><a id="l03754" name="l03754"></a><span class="lineno"> 3754</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaf8310a778a7a84d76adde337d695fd0d">RPC_INVALID_REQUEST</a>, errors[0].original);</div>
<div class="line"><a id="l03755" name="l03755"></a><span class="lineno"> 3755</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03756" name="l03756"></a><span class="lineno"> 3756</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacefeebumper.html#a08fe575802ef410f95f786253c489bc6afeb1a30cb74c35aaf4ea067736109e30">feebumper::Result::INVALID_PARAMETER</a>:</div>
<div class="line"><a id="l03757" name="l03757"></a><span class="lineno"> 3757</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, errors[0].original);</div>
<div class="line"><a id="l03758" name="l03758"></a><span class="lineno"> 3758</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03759" name="l03759"></a><span class="lineno"> 3759</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacefeebumper.html#a08fe575802ef410f95f786253c489bc6a08882b2afdb1b387f4af528ee0005ab3">feebumper::Result::WALLET_ERROR</a>:</div>
<div class="line"><a id="l03760" name="l03760"></a><span class="lineno"> 3760</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, errors[0].original);</div>
<div class="line"><a id="l03761" name="l03761"></a><span class="lineno"> 3761</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03762" name="l03762"></a><span class="lineno"> 3762</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l03763" name="l03763"></a><span class="lineno"> 3763</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada5aa884a9e263e1fad4ad13ec564d33d5">RPC_MISC_ERROR</a>, errors[0].original);</div>
<div class="line"><a id="l03764" name="l03764"></a><span class="lineno"> 3764</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03765" name="l03765"></a><span class="lineno"> 3765</span>        }</div>
<div class="line"><a id="l03766" name="l03766"></a><span class="lineno"> 3766</span>    }</div>
<div class="line"><a id="l03767" name="l03767"></a><span class="lineno"> 3767</span> </div>
<div class="line"><a id="l03768" name="l03768"></a><span class="lineno"> 3768</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> result(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l03769" name="l03769"></a><span class="lineno"> 3769</span> </div>
<div class="line"><a id="l03770" name="l03770"></a><span class="lineno"> 3770</span>    <span class="comment">// For bumpfee, return the new transaction id.</span></div>
<div class="line"><a id="l03771" name="l03771"></a><span class="lineno"> 3771</span>    <span class="comment">// For psbtbumpfee, return the base64-encoded unsigned PSBT of the new transaction.</span></div>
<div class="line"><a id="l03772" name="l03772"></a><span class="lineno"> 3772</span>    <span class="keywordflow">if</span> (!want_psbt) {</div>
<div class="line"><a id="l03773" name="l03773"></a><span class="lineno"> 3773</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacefeebumper.html#ad5a2294b582c8b9c26cf1d2bcfc0df34">feebumper::SignTransaction</a>(*pwallet, mtx)) {</div>
<div class="line"><a id="l03774" name="l03774"></a><span class="lineno"> 3774</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Can&#39;t sign transaction.&quot;</span>);</div>
<div class="line"><a id="l03775" name="l03775"></a><span class="lineno"> 3775</span>        }</div>
<div class="line"><a id="l03776" name="l03776"></a><span class="lineno"> 3776</span> </div>
<div class="line"><a id="l03777" name="l03777"></a><span class="lineno"> 3777</span>        <a class="code hl_class" href="classuint256.html">uint256</a> txid;</div>
<div class="line"><a id="l03778" name="l03778"></a><span class="lineno"> 3778</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacefeebumper.html#a57269b81bd5c8613496a5e27b584497b">feebumper::CommitTransaction</a>(*pwallet, hash, std::move(mtx), errors, txid) != <a class="code hl_enumvalue" href="namespacefeebumper.html#a08fe575802ef410f95f786253c489bc6ae0aa021e21dddbd6d8cecec71e9cf564">feebumper::Result::OK</a>) {</div>
<div class="line"><a id="l03779" name="l03779"></a><span class="lineno"> 3779</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, errors[0].original);</div>
<div class="line"><a id="l03780" name="l03780"></a><span class="lineno"> 3780</span>        }</div>
<div class="line"><a id="l03781" name="l03781"></a><span class="lineno"> 3781</span> </div>
<div class="line"><a id="l03782" name="l03782"></a><span class="lineno"> 3782</span>        result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;txid&quot;</span>, txid.<a class="code hl_function" href="classbase__blob.html#ad7263503f949fb3c6c520ebb1f28e378">GetHex</a>());</div>
<div class="line"><a id="l03783" name="l03783"></a><span class="lineno"> 3783</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03784" name="l03784"></a><span class="lineno"> 3784</span>        <a class="code hl_struct" href="struct_partially_signed_transaction.html">PartiallySignedTransaction</a> psbtx(mtx);</div>
<div class="line"><a id="l03785" name="l03785"></a><span class="lineno"> 3785</span>        <span class="keywordtype">bool</span> complete = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03786" name="l03786"></a><span class="lineno"> 3786</span>        <span class="keyword">const</span> <a class="code hl_enumeration" href="error_8h.html#a857c3bfc8da2a43cebacd0582cc867ac">TransactionError</a> err = pwallet-&gt;FillPSBT(psbtx, complete, <a class="code hl_enumvalue" href="interpreter_8h.html#ac36f475ca5b446f4fde4c9b90bec77c8ab9456a9165db395967f3f02cf2609afa">SIGHASH_DEFAULT</a>, <span class="keyword">false</span> <span class="comment">/* sign */</span>, <span class="keyword">true</span> <span class="comment">/* bip32derivs */</span>);</div>
<div class="line"><a id="l03787" name="l03787"></a><span class="lineno"> 3787</span>        <a class="code hl_define" href="check_8h.html#a46a3e27097aa5e94bbf62075bad7016f">CHECK_NONFATAL</a>(err == <a class="code hl_enumvalue" href="error_8h.html#a857c3bfc8da2a43cebacd0582cc867acae0aa021e21dddbd6d8cecec71e9cf564">TransactionError::OK</a>);</div>
<div class="line"><a id="l03788" name="l03788"></a><span class="lineno"> 3788</span>        <a class="code hl_define" href="check_8h.html#a46a3e27097aa5e94bbf62075bad7016f">CHECK_NONFATAL</a>(!complete);</div>
<div class="line"><a id="l03789" name="l03789"></a><span class="lineno"> 3789</span>        <a class="code hl_class" href="class_c_data_stream.html">CDataStream</a> ssTx(<a class="code hl_enumvalue" href="serialize_8h.html#a16af7b253440dadd46a80a4b9fddba4da652754eeaf79fba4fcf4c18597a6961c">SER_NETWORK</a>, <a class="code hl_variable" href="version_8h.html#a4e2497f7c9c4319adcaf945159ec63f4">PROTOCOL_VERSION</a>);</div>
<div class="line"><a id="l03790" name="l03790"></a><span class="lineno"> 3790</span>        ssTx &lt;&lt; psbtx;</div>
<div class="line"><a id="l03791" name="l03791"></a><span class="lineno"> 3791</span>        result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;psbt&quot;</span>, <a class="code hl_function" href="strencodings_8cpp.html#a5319d20c493fa005757afa8c77c739ee">EncodeBase64</a>(ssTx.<a class="code hl_function" href="class_c_data_stream.html#aac770a2b809917189c4476ee899b2d8b">str</a>()));</div>
<div class="line"><a id="l03792" name="l03792"></a><span class="lineno"> 3792</span>    }</div>
<div class="line"><a id="l03793" name="l03793"></a><span class="lineno"> 3793</span> </div>
<div class="line"><a id="l03794" name="l03794"></a><span class="lineno"> 3794</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;origfee&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(old_fee));</div>
<div class="line"><a id="l03795" name="l03795"></a><span class="lineno"> 3795</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;fee&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(new_fee));</div>
<div class="line"><a id="l03796" name="l03796"></a><span class="lineno"> 3796</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> result_errors(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l03797" name="l03797"></a><span class="lineno"> 3797</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_struct" href="structbilingual__str.html">bilingual_str</a>&amp; <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a> : errors) {</div>
<div class="line"><a id="l03798" name="l03798"></a><span class="lineno"> 3798</span>        result_errors.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(<a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>.original);</div>
<div class="line"><a id="l03799" name="l03799"></a><span class="lineno"> 3799</span>    }</div>
<div class="line"><a id="l03800" name="l03800"></a><span class="lineno"> 3800</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;errors&quot;</span>, result_errors);</div>
<div class="line"><a id="l03801" name="l03801"></a><span class="lineno"> 3801</span> </div>
<div class="line"><a id="l03802" name="l03802"></a><span class="lineno"> 3802</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l03803" name="l03803"></a><span class="lineno"> 3803</span>},</div>
<div class="line"><a id="l03804" name="l03804"></a><span class="lineno"> 3804</span>    };</div>
<div class="line"><a id="l03805" name="l03805"></a><span class="lineno"> 3805</span>}</div>
<div class="line"><a id="l03806" name="l03806"></a><span class="lineno"> 3806</span> </div>
<div class="line"><a id="l03807" name="l03807"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#af08a537f0066c7b2a89413c51d0a3a6e"> 3807</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#af08a537f0066c7b2a89413c51d0a3a6e">bumpfee</a>() { <span class="keywordflow">return</span> <a class="code hl_function" href="rpcwallet_8cpp.html#a09d4fde10c059f903bc22986003ebc35">bumpfee_helper</a>(<span class="stringliteral">&quot;bumpfee&quot;</span>); }</div>
<div class="line"><a id="l03808" name="l03808"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a0b5b3cbd55189f29e10995f3c486a5f0"> 3808</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a0b5b3cbd55189f29e10995f3c486a5f0">psbtbumpfee</a>() { <span class="keywordflow">return</span> <a class="code hl_function" href="rpcwallet_8cpp.html#a09d4fde10c059f903bc22986003ebc35">bumpfee_helper</a>(<span class="stringliteral">&quot;psbtbumpfee&quot;</span>); }</div>
<div class="line"><a id="l03809" name="l03809"></a><span class="lineno"> 3809</span> </div>
<div class="line"><a id="l03810" name="l03810"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a1c730e31d4eaf40b10aa41ab58c77c4f"> 3810</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a1c730e31d4eaf40b10aa41ab58c77c4f">rescanblockchain</a>()</div>
<div class="line"><a id="l03811" name="l03811"></a><span class="lineno"> 3811</span>{</div>
<div class="line"><a id="l03812" name="l03812"></a><span class="lineno"> 3812</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;rescanblockchain&quot;</span>,</div>
<div class="line"><a id="l03813" name="l03813"></a><span class="lineno"> 3813</span>                <span class="stringliteral">&quot;\nRescan the local blockchain for wallet related transactions.\n&quot;</span></div>
<div class="line"><a id="l03814" name="l03814"></a><span class="lineno"> 3814</span>                <span class="stringliteral">&quot;Note: Use \&quot;getwalletinfo\&quot; to query the scanning progress.\n&quot;</span>,</div>
<div class="line"><a id="l03815" name="l03815"></a><span class="lineno"> 3815</span>                {</div>
<div class="line"><a id="l03816" name="l03816"></a><span class="lineno"> 3816</span>                    {<span class="stringliteral">&quot;start_height&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{0}, <span class="stringliteral">&quot;block height where the rescan should start&quot;</span>},</div>
<div class="line"><a id="l03817" name="l03817"></a><span class="lineno"> 3817</span>                    {<span class="stringliteral">&quot;stop_height&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;the last block height that should be scanned. If none is provided it will rescan up to the tip at return time of this call.&quot;</span>},</div>
<div class="line"><a id="l03818" name="l03818"></a><span class="lineno"> 3818</span>                },</div>
<div class="line"><a id="l03819" name="l03819"></a><span class="lineno"> 3819</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l03820" name="l03820"></a><span class="lineno"> 3820</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l03821" name="l03821"></a><span class="lineno"> 3821</span>                    {</div>
<div class="line"><a id="l03822" name="l03822"></a><span class="lineno"> 3822</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;start_height&quot;</span>, <span class="stringliteral">&quot;The block height where the rescan started (the requested height or 0)&quot;</span>},</div>
<div class="line"><a id="l03823" name="l03823"></a><span class="lineno"> 3823</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;stop_height&quot;</span>, <span class="stringliteral">&quot;The height of the last rescanned block. May be null in rare cases if there was a reorg and the call didn&#39;t scan any blocks because they were already scanned in the background.&quot;</span>},</div>
<div class="line"><a id="l03824" name="l03824"></a><span class="lineno"> 3824</span>                    }</div>
<div class="line"><a id="l03825" name="l03825"></a><span class="lineno"> 3825</span>                },</div>
<div class="line"><a id="l03826" name="l03826"></a><span class="lineno"> 3826</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l03827" name="l03827"></a><span class="lineno"> 3827</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;rescanblockchain&quot;</span>, <span class="stringliteral">&quot;100000 120000&quot;</span>)</div>
<div class="line"><a id="l03828" name="l03828"></a><span class="lineno"> 3828</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;rescanblockchain&quot;</span>, <span class="stringliteral">&quot;100000, 120000&quot;</span>)</div>
<div class="line"><a id="l03829" name="l03829"></a><span class="lineno"> 3829</span>                },</div>
<div class="line"><a id="l03830" name="l03830"></a><span class="lineno"> 3830</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l03831" name="l03831"></a><span class="lineno"> 3831</span>{</div>
<div class="line"><a id="l03832" name="l03832"></a><span class="lineno"> 3832</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l03833" name="l03833"></a><span class="lineno"> 3833</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l03834" name="l03834"></a><span class="lineno"> 3834</span> </div>
<div class="line"><a id="l03835" name="l03835"></a><span class="lineno"> 3835</span>    <a class="code hl_class" href="class_wallet_rescan_reserver.html">WalletRescanReserver</a> reserver(*pwallet);</div>
<div class="line"><a id="l03836" name="l03836"></a><span class="lineno"> 3836</span>    <span class="keywordflow">if</span> (!reserver.<a class="code hl_function" href="class_wallet_rescan_reserver.html#aac546d40754d9594428795cce418df6a">reserve</a>()) {</div>
<div class="line"><a id="l03837" name="l03837"></a><span class="lineno"> 3837</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Wallet is currently rescanning. Abort existing rescan or wait.&quot;</span>);</div>
<div class="line"><a id="l03838" name="l03838"></a><span class="lineno"> 3838</span>    }</div>
<div class="line"><a id="l03839" name="l03839"></a><span class="lineno"> 3839</span> </div>
<div class="line"><a id="l03840" name="l03840"></a><span class="lineno"> 3840</span>    <span class="keywordtype">int</span> start_height = 0;</div>
<div class="line"><a id="l03841" name="l03841"></a><span class="lineno"> 3841</span>    std::optional&lt;int&gt; stop_height;</div>
<div class="line"><a id="l03842" name="l03842"></a><span class="lineno"> 3842</span>    <a class="code hl_class" href="classuint256.html">uint256</a> start_block;</div>
<div class="line"><a id="l03843" name="l03843"></a><span class="lineno"> 3843</span>    {</div>
<div class="line"><a id="l03844" name="l03844"></a><span class="lineno"> 3844</span>        <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l03845" name="l03845"></a><span class="lineno"> 3845</span>        <span class="keywordtype">int</span> tip_height = pwallet-&gt;GetLastBlockHeight();</div>
<div class="line"><a id="l03846" name="l03846"></a><span class="lineno"> 3846</span> </div>
<div class="line"><a id="l03847" name="l03847"></a><span class="lineno"> 3847</span>        <span class="keywordflow">if</span> (!request.params[0].isNull()) {</div>
<div class="line"><a id="l03848" name="l03848"></a><span class="lineno"> 3848</span>            start_height = request.params[0].get_int();</div>
<div class="line"><a id="l03849" name="l03849"></a><span class="lineno"> 3849</span>            <span class="keywordflow">if</span> (start_height &lt; 0 || start_height &gt; tip_height) {</div>
<div class="line"><a id="l03850" name="l03850"></a><span class="lineno"> 3850</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Invalid start_height&quot;</span>);</div>
<div class="line"><a id="l03851" name="l03851"></a><span class="lineno"> 3851</span>            }</div>
<div class="line"><a id="l03852" name="l03852"></a><span class="lineno"> 3852</span>        }</div>
<div class="line"><a id="l03853" name="l03853"></a><span class="lineno"> 3853</span> </div>
<div class="line"><a id="l03854" name="l03854"></a><span class="lineno"> 3854</span>        <span class="keywordflow">if</span> (!request.params[1].isNull()) {</div>
<div class="line"><a id="l03855" name="l03855"></a><span class="lineno"> 3855</span>            stop_height = request.params[1].get_int();</div>
<div class="line"><a id="l03856" name="l03856"></a><span class="lineno"> 3856</span>            <span class="keywordflow">if</span> (*stop_height &lt; 0 || *stop_height &gt; tip_height) {</div>
<div class="line"><a id="l03857" name="l03857"></a><span class="lineno"> 3857</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Invalid stop_height&quot;</span>);</div>
<div class="line"><a id="l03858" name="l03858"></a><span class="lineno"> 3858</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*stop_height &lt; start_height) {</div>
<div class="line"><a id="l03859" name="l03859"></a><span class="lineno"> 3859</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;stop_height must be greater than start_height&quot;</span>);</div>
<div class="line"><a id="l03860" name="l03860"></a><span class="lineno"> 3860</span>            }</div>
<div class="line"><a id="l03861" name="l03861"></a><span class="lineno"> 3861</span>        }</div>
<div class="line"><a id="l03862" name="l03862"></a><span class="lineno"> 3862</span> </div>
<div class="line"><a id="l03863" name="l03863"></a><span class="lineno"> 3863</span>        <span class="comment">// We can&#39;t rescan beyond non-pruned blocks, stop and throw an error</span></div>
<div class="line"><a id="l03864" name="l03864"></a><span class="lineno"> 3864</span>        <span class="keywordflow">if</span> (!pwallet-&gt;chain().hasBlocks(pwallet-&gt;GetLastBlockHash(), start_height, stop_height)) {</div>
<div class="line"><a id="l03865" name="l03865"></a><span class="lineno"> 3865</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada5aa884a9e263e1fad4ad13ec564d33d5">RPC_MISC_ERROR</a>, <span class="stringliteral">&quot;Can&#39;t rescan beyond pruned data. Use RPC call getblockchaininfo to determine your pruned height.&quot;</span>);</div>
<div class="line"><a id="l03866" name="l03866"></a><span class="lineno"> 3866</span>        }</div>
<div class="line"><a id="l03867" name="l03867"></a><span class="lineno"> 3867</span> </div>
<div class="line"><a id="l03868" name="l03868"></a><span class="lineno"> 3868</span>        <a class="code hl_define" href="check_8h.html#a46a3e27097aa5e94bbf62075bad7016f">CHECK_NONFATAL</a>(pwallet-&gt;chain().findAncestorByHeight(pwallet-&gt;GetLastBlockHash(), start_height, <a class="code hl_class" href="classinterfaces_1_1_found_block.html">FoundBlock</a>().hash(start_block)));</div>
<div class="line"><a id="l03869" name="l03869"></a><span class="lineno"> 3869</span>    }</div>
<div class="line"><a id="l03870" name="l03870"></a><span class="lineno"> 3870</span> </div>
<div class="line"><a id="l03871" name="l03871"></a><span class="lineno"> 3871</span>    <a class="code hl_struct" href="struct_c_wallet_1_1_scan_result.html">CWallet::ScanResult</a> result =</div>
<div class="line"><a id="l03872" name="l03872"></a><span class="lineno"> 3872</span>        pwallet-&gt;ScanForWalletTransactions(start_block, start_height, stop_height, reserver, <span class="keyword">true</span> <span class="comment">/* fUpdate */</span>);</div>
<div class="line"><a id="l03873" name="l03873"></a><span class="lineno"> 3873</span>    <span class="keywordflow">switch</span> (result.<a class="code hl_variable" href="struct_c_wallet_1_1_scan_result.html#a92c47dc121716f5b1e9dece57d13706f">status</a>) {</div>
<div class="line"><a id="l03874" name="l03874"></a><span class="lineno"> 3874</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="struct_c_wallet_1_1_scan_result.html#af3f85288acbca69e4142463cdd696a1ba27cb2d330834d01126ec092545e5d83b">CWallet::ScanResult::SUCCESS</a>:</div>
<div class="line"><a id="l03875" name="l03875"></a><span class="lineno"> 3875</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03876" name="l03876"></a><span class="lineno"> 3876</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="struct_c_wallet_1_1_scan_result.html#af3f85288acbca69e4142463cdd696a1ba0a5b9d078d3f900cd70513f965efcfcd">CWallet::ScanResult::FAILURE</a>:</div>
<div class="line"><a id="l03877" name="l03877"></a><span class="lineno"> 3877</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada5aa884a9e263e1fad4ad13ec564d33d5">RPC_MISC_ERROR</a>, <span class="stringliteral">&quot;Rescan failed. Potentially corrupted data files.&quot;</span>);</div>
<div class="line"><a id="l03878" name="l03878"></a><span class="lineno"> 3878</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="struct_c_wallet_1_1_scan_result.html#af3f85288acbca69e4142463cdd696a1ba4a48ed5c75b98a6621b9458a3ebcc521">CWallet::ScanResult::USER_ABORT</a>:</div>
<div class="line"><a id="l03879" name="l03879"></a><span class="lineno"> 3879</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada5aa884a9e263e1fad4ad13ec564d33d5">RPC_MISC_ERROR</a>, <span class="stringliteral">&quot;Rescan aborted.&quot;</span>);</div>
<div class="line"><a id="l03880" name="l03880"></a><span class="lineno"> 3880</span>        <span class="comment">// no default case, so the compiler can warn about missing cases</span></div>
<div class="line"><a id="l03881" name="l03881"></a><span class="lineno"> 3881</span>    }</div>
<div class="line"><a id="l03882" name="l03882"></a><span class="lineno"> 3882</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> response(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l03883" name="l03883"></a><span class="lineno"> 3883</span>    response.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;start_height&quot;</span>, start_height);</div>
<div class="line"><a id="l03884" name="l03884"></a><span class="lineno"> 3884</span>    response.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;stop_height&quot;</span>, result.<a class="code hl_variable" href="struct_c_wallet_1_1_scan_result.html#a120957d0e7c8f75628aa3c5cc621d754">last_scanned_height</a> ? *result.<a class="code hl_variable" href="struct_c_wallet_1_1_scan_result.html#a120957d0e7c8f75628aa3c5cc621d754">last_scanned_height</a> : <a class="code hl_class" href="class_uni_value.html">UniValue</a>());</div>
<div class="line"><a id="l03885" name="l03885"></a><span class="lineno"> 3885</span>    <span class="keywordflow">return</span> response;</div>
<div class="line"><a id="l03886" name="l03886"></a><span class="lineno"> 3886</span>},</div>
<div class="line"><a id="l03887" name="l03887"></a><span class="lineno"> 3887</span>    };</div>
<div class="line"><a id="l03888" name="l03888"></a><span class="lineno"> 3888</span>}</div>
<div class="line"><a id="l03889" name="l03889"></a><span class="lineno"> 3889</span> </div>
<div class="line"><a id="l03890" name="l03890"></a><span class="lineno"><a class="line" href="class_describe_wallet_address_visitor.html"> 3890</a></span><span class="keyword">class </span><a class="code hl_class" href="class_describe_wallet_address_visitor.html">DescribeWalletAddressVisitor</a></div>
<div class="line"><a id="l03891" name="l03891"></a><span class="lineno"> 3891</span>{</div>
<div class="line"><a id="l03892" name="l03892"></a><span class="lineno"> 3892</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l03893" name="l03893"></a><span class="lineno"><a class="line" href="class_describe_wallet_address_visitor.html#a23424efef251f15ea5145a3f5c00b73b"> 3893</a></span>    <span class="keyword">const</span> <a class="code hl_class" href="class_signing_provider.html">SigningProvider</a> * <span class="keyword">const</span> <a class="code hl_variable" href="class_describe_wallet_address_visitor.html#a23424efef251f15ea5145a3f5c00b73b">provider</a>;</div>
<div class="line"><a id="l03894" name="l03894"></a><span class="lineno"> 3894</span> </div>
<div class="line"><a id="l03895" name="l03895"></a><span class="lineno"><a class="line" href="class_describe_wallet_address_visitor.html#abd3323778eb3418c2fa2076690b12b6c"> 3895</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_describe_wallet_address_visitor.html#abd3323778eb3418c2fa2076690b12b6c">ProcessSubScript</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; subscript, <a class="code hl_class" href="class_uni_value.html">UniValue</a>&amp; obj)<span class="keyword"> const</span></div>
<div class="line"><a id="l03896" name="l03896"></a><span class="lineno"> 3896</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l03897" name="l03897"></a><span class="lineno"> 3897</span>        <span class="comment">// Always present: script type and redeemscript</span></div>
<div class="line"><a id="l03898" name="l03898"></a><span class="lineno"> 3898</span>        std::vector&lt;std::vector&lt;unsigned char&gt;&gt; solutions_data;</div>
<div class="line"><a id="l03899" name="l03899"></a><span class="lineno"> 3899</span>        <a class="code hl_enumeration" href="standard_8h.html#ac908d0e5a62eac70931dae97c6fd3c8f">TxoutType</a> which_type = <a class="code hl_function" href="standard_8cpp.html#a0664b19198e4496f7cc0365a46a25020">Solver</a>(subscript, solutions_data);</div>
<div class="line"><a id="l03900" name="l03900"></a><span class="lineno"> 3900</span>        obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;script&quot;</span>, <a class="code hl_function" href="standard_8cpp.html#a9f2b93de157eeaad761764eeee39a8b9">GetTxnOutputType</a>(which_type));</div>
<div class="line"><a id="l03901" name="l03901"></a><span class="lineno"> 3901</span>        obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;hex&quot;</span>, <a class="code hl_function" href="strencodings_8cpp.html#a16ace928e6a675ba31e23458c9149432">HexStr</a>(subscript));</div>
<div class="line"><a id="l03902" name="l03902"></a><span class="lineno"> 3902</span> </div>
<div class="line"><a id="l03903" name="l03903"></a><span class="lineno"> 3903</span>        <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> embedded;</div>
<div class="line"><a id="l03904" name="l03904"></a><span class="lineno"> 3904</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="standard_8cpp.html#a951f7e601746ae076afdf3169ecca2fc">ExtractDestination</a>(subscript, embedded)) {</div>
<div class="line"><a id="l03905" name="l03905"></a><span class="lineno"> 3905</span>            <span class="comment">// Only when the script corresponds to an address.</span></div>
<div class="line"><a id="l03906" name="l03906"></a><span class="lineno"> 3906</span>            <a class="code hl_class" href="class_uni_value.html">UniValue</a> subobj(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l03907" name="l03907"></a><span class="lineno"> 3907</span>            <a class="code hl_class" href="class_uni_value.html">UniValue</a> detail = <a class="code hl_function" href="rpc_2util_8cpp.html#af91efe7877ce4e77064e04d13888ae4f">DescribeAddress</a>(embedded);</div>
<div class="line"><a id="l03908" name="l03908"></a><span class="lineno"> 3908</span>            subobj.<a class="code hl_function" href="class_uni_value.html#a89821b3f48732c1539e674378cdf7a87">pushKVs</a>(detail);</div>
<div class="line"><a id="l03909" name="l03909"></a><span class="lineno"> 3909</span>            <a class="code hl_class" href="class_uni_value.html">UniValue</a> wallet_detail = std::visit(*<span class="keyword">this</span>, embedded);</div>
<div class="line"><a id="l03910" name="l03910"></a><span class="lineno"> 3910</span>            subobj.<a class="code hl_function" href="class_uni_value.html#a89821b3f48732c1539e674378cdf7a87">pushKVs</a>(wallet_detail);</div>
<div class="line"><a id="l03911" name="l03911"></a><span class="lineno"> 3911</span>            subobj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;address&quot;</span>, <a class="code hl_function" href="key__io_8cpp.html#a69b845c325e6bf516251cd3a67fe1df7">EncodeDestination</a>(embedded));</div>
<div class="line"><a id="l03912" name="l03912"></a><span class="lineno"> 3912</span>            subobj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;scriptPubKey&quot;</span>, <a class="code hl_function" href="strencodings_8cpp.html#a16ace928e6a675ba31e23458c9149432">HexStr</a>(subscript));</div>
<div class="line"><a id="l03913" name="l03913"></a><span class="lineno"> 3913</span>            <span class="comment">// Always report the pubkey at the top level, so that `getnewaddress()[&#39;pubkey&#39;]` always works.</span></div>
<div class="line"><a id="l03914" name="l03914"></a><span class="lineno"> 3914</span>            <span class="keywordflow">if</span> (subobj.<a class="code hl_function" href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">exists</a>(<span class="stringliteral">&quot;pubkey&quot;</span>)) obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;pubkey&quot;</span>, subobj[<span class="stringliteral">&quot;pubkey&quot;</span>]);</div>
<div class="line"><a id="l03915" name="l03915"></a><span class="lineno"> 3915</span>            obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;embedded&quot;</span>, std::move(subobj));</div>
<div class="line"><a id="l03916" name="l03916"></a><span class="lineno"> 3916</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (which_type == <a class="code hl_enumvalue" href="standard_8h.html#ac908d0e5a62eac70931dae97c6fd3c8fae50f553ee62b9fcbec1b8c8120c29050">TxoutType::MULTISIG</a>) {</div>
<div class="line"><a id="l03917" name="l03917"></a><span class="lineno"> 3917</span>            <span class="comment">// Also report some information on multisig scripts (which do not have a corresponding address).</span></div>
<div class="line"><a id="l03918" name="l03918"></a><span class="lineno"> 3918</span>            obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;sigsrequired&quot;</span>, solutions_data[0][0]);</div>
<div class="line"><a id="l03919" name="l03919"></a><span class="lineno"> 3919</span>            <a class="code hl_class" href="class_uni_value.html">UniValue</a> pubkeys(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l03920" name="l03920"></a><span class="lineno"> 3920</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; solutions_data.size() - 1; ++i) {</div>
<div class="line"><a id="l03921" name="l03921"></a><span class="lineno"> 3921</span>                <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a> key(solutions_data[i].begin(), solutions_data[i].end());</div>
<div class="line"><a id="l03922" name="l03922"></a><span class="lineno"> 3922</span>                pubkeys.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(<a class="code hl_function" href="strencodings_8cpp.html#a16ace928e6a675ba31e23458c9149432">HexStr</a>(key));</div>
<div class="line"><a id="l03923" name="l03923"></a><span class="lineno"> 3923</span>            }</div>
<div class="line"><a id="l03924" name="l03924"></a><span class="lineno"> 3924</span>            obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;pubkeys&quot;</span>, std::move(pubkeys));</div>
<div class="line"><a id="l03925" name="l03925"></a><span class="lineno"> 3925</span>        }</div>
<div class="line"><a id="l03926" name="l03926"></a><span class="lineno"> 3926</span>    }</div>
<div class="line"><a id="l03927" name="l03927"></a><span class="lineno"> 3927</span> </div>
<div class="line"><a id="l03928" name="l03928"></a><span class="lineno"><a class="line" href="class_describe_wallet_address_visitor.html#ac09360fb41116eb5a6f03e0a5193820c"> 3928</a></span>    <span class="keyword">explicit</span> <a class="code hl_function" href="class_describe_wallet_address_visitor.html#ac09360fb41116eb5a6f03e0a5193820c">DescribeWalletAddressVisitor</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_signing_provider.html">SigningProvider</a>* _provider) : <a class="code hl_variable" href="class_describe_wallet_address_visitor.html#a23424efef251f15ea5145a3f5c00b73b">provider</a>(_provider) {}</div>
<div class="line"><a id="l03929" name="l03929"></a><span class="lineno"> 3929</span> </div>
<div class="line"><a id="l03930" name="l03930"></a><span class="lineno"><a class="line" href="class_describe_wallet_address_visitor.html#aeb5912fc6b88911442132d0da1661d47"> 3930</a></span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> <a class="code hl_function" href="class_describe_wallet_address_visitor.html#aeb5912fc6b88911442132d0da1661d47">operator()</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_no_destination.html">CNoDestination</a>&amp; dest)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>); }</div>
<div class="line"><a id="l03931" name="l03931"></a><span class="lineno"> 3931</span> </div>
<div class="line"><a id="l03932" name="l03932"></a><span class="lineno"><a class="line" href="class_describe_wallet_address_visitor.html#a643e82df299e430adde852f54c321fd6"> 3932</a></span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> <a class="code hl_function" href="class_describe_wallet_address_visitor.html#a643e82df299e430adde852f54c321fd6">operator()</a>(<span class="keyword">const</span> <a class="code hl_struct" href="struct_p_k_hash.html">PKHash</a>&amp; pkhash)<span class="keyword"> const</span></div>
<div class="line"><a id="l03933" name="l03933"></a><span class="lineno"> 3933</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l03934" name="l03934"></a><span class="lineno"> 3934</span>        <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a> keyID{<a class="code hl_function" href="standard_8cpp.html#aed536902a866e88fd7e99d00019d94c3">ToKeyID</a>(pkhash)};</div>
<div class="line"><a id="l03935" name="l03935"></a><span class="lineno"> 3935</span>        <a class="code hl_class" href="class_uni_value.html">UniValue</a> obj(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l03936" name="l03936"></a><span class="lineno"> 3936</span>        <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a> vchPubKey;</div>
<div class="line"><a id="l03937" name="l03937"></a><span class="lineno"> 3937</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_describe_wallet_address_visitor.html#a23424efef251f15ea5145a3f5c00b73b">provider</a> &amp;&amp; <a class="code hl_variable" href="class_describe_wallet_address_visitor.html#a23424efef251f15ea5145a3f5c00b73b">provider</a>-&gt;<a class="code hl_function" href="class_signing_provider.html#abe22326c4cc29cf4ecf235e5d1dc9d7d">GetPubKey</a>(keyID, vchPubKey)) {</div>
<div class="line"><a id="l03938" name="l03938"></a><span class="lineno"> 3938</span>            obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;pubkey&quot;</span>, <a class="code hl_function" href="strencodings_8cpp.html#a16ace928e6a675ba31e23458c9149432">HexStr</a>(vchPubKey));</div>
<div class="line"><a id="l03939" name="l03939"></a><span class="lineno"> 3939</span>            obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;iscompressed&quot;</span>, vchPubKey.<a class="code hl_function" href="class_c_pub_key.html#a25f8b70340ad20ddab0f80ec4cee9396">IsCompressed</a>());</div>
<div class="line"><a id="l03940" name="l03940"></a><span class="lineno"> 3940</span>        }</div>
<div class="line"><a id="l03941" name="l03941"></a><span class="lineno"> 3941</span>        <span class="keywordflow">return</span> obj;</div>
<div class="line"><a id="l03942" name="l03942"></a><span class="lineno"> 3942</span>    }</div>
<div class="line"><a id="l03943" name="l03943"></a><span class="lineno"> 3943</span> </div>
<div class="line"><a id="l03944" name="l03944"></a><span class="lineno"><a class="line" href="class_describe_wallet_address_visitor.html#a64d84f887e8dc2c4590df875df0f0a25"> 3944</a></span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> <a class="code hl_function" href="class_describe_wallet_address_visitor.html#a64d84f887e8dc2c4590df875df0f0a25">operator()</a>(<span class="keyword">const</span> <a class="code hl_struct" href="struct_script_hash.html">ScriptHash</a>&amp; scripthash)<span class="keyword"> const</span></div>
<div class="line"><a id="l03945" name="l03945"></a><span class="lineno"> 3945</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l03946" name="l03946"></a><span class="lineno"> 3946</span>        <a class="code hl_class" href="class_c_script_i_d.html">CScriptID</a> scriptID(scripthash);</div>
<div class="line"><a id="l03947" name="l03947"></a><span class="lineno"> 3947</span>        <a class="code hl_class" href="class_uni_value.html">UniValue</a> obj(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l03948" name="l03948"></a><span class="lineno"> 3948</span>        <a class="code hl_class" href="class_c_script.html">CScript</a> subscript;</div>
<div class="line"><a id="l03949" name="l03949"></a><span class="lineno"> 3949</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_describe_wallet_address_visitor.html#a23424efef251f15ea5145a3f5c00b73b">provider</a> &amp;&amp; <a class="code hl_variable" href="class_describe_wallet_address_visitor.html#a23424efef251f15ea5145a3f5c00b73b">provider</a>-&gt;<a class="code hl_function" href="class_signing_provider.html#a74f30a174ff9bb28c01dc689e6c6708f">GetCScript</a>(scriptID, subscript)) {</div>
<div class="line"><a id="l03950" name="l03950"></a><span class="lineno"> 3950</span>            <a class="code hl_function" href="class_describe_wallet_address_visitor.html#abd3323778eb3418c2fa2076690b12b6c">ProcessSubScript</a>(subscript, obj);</div>
<div class="line"><a id="l03951" name="l03951"></a><span class="lineno"> 3951</span>        }</div>
<div class="line"><a id="l03952" name="l03952"></a><span class="lineno"> 3952</span>        <span class="keywordflow">return</span> obj;</div>
<div class="line"><a id="l03953" name="l03953"></a><span class="lineno"> 3953</span>    }</div>
<div class="line"><a id="l03954" name="l03954"></a><span class="lineno"> 3954</span> </div>
<div class="line"><a id="l03955" name="l03955"></a><span class="lineno"><a class="line" href="class_describe_wallet_address_visitor.html#a5cc9c91df2d249184d14d689bbb09c67"> 3955</a></span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> <a class="code hl_function" href="class_describe_wallet_address_visitor.html#a5cc9c91df2d249184d14d689bbb09c67">operator()</a>(<span class="keyword">const</span> <a class="code hl_struct" href="struct_witness_v0_key_hash.html">WitnessV0KeyHash</a>&amp; <span class="keywordtype">id</span>)<span class="keyword"> const</span></div>
<div class="line"><a id="l03956" name="l03956"></a><span class="lineno"> 3956</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l03957" name="l03957"></a><span class="lineno"> 3957</span>        <a class="code hl_class" href="class_uni_value.html">UniValue</a> obj(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l03958" name="l03958"></a><span class="lineno"> 3958</span>        <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a> pubkey;</div>
<div class="line"><a id="l03959" name="l03959"></a><span class="lineno"> 3959</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_describe_wallet_address_visitor.html#a23424efef251f15ea5145a3f5c00b73b">provider</a> &amp;&amp; <a class="code hl_variable" href="class_describe_wallet_address_visitor.html#a23424efef251f15ea5145a3f5c00b73b">provider</a>-&gt;<a class="code hl_function" href="class_signing_provider.html#abe22326c4cc29cf4ecf235e5d1dc9d7d">GetPubKey</a>(<a class="code hl_function" href="standard_8cpp.html#aed536902a866e88fd7e99d00019d94c3">ToKeyID</a>(<span class="keywordtype">id</span>), pubkey)) {</div>
<div class="line"><a id="l03960" name="l03960"></a><span class="lineno"> 3960</span>            obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;pubkey&quot;</span>, <a class="code hl_function" href="strencodings_8cpp.html#a16ace928e6a675ba31e23458c9149432">HexStr</a>(pubkey));</div>
<div class="line"><a id="l03961" name="l03961"></a><span class="lineno"> 3961</span>        }</div>
<div class="line"><a id="l03962" name="l03962"></a><span class="lineno"> 3962</span>        <span class="keywordflow">return</span> obj;</div>
<div class="line"><a id="l03963" name="l03963"></a><span class="lineno"> 3963</span>    }</div>
<div class="line"><a id="l03964" name="l03964"></a><span class="lineno"> 3964</span> </div>
<div class="line"><a id="l03965" name="l03965"></a><span class="lineno"><a class="line" href="class_describe_wallet_address_visitor.html#adfeae0c0a64544469554ab352ea8c891"> 3965</a></span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> <a class="code hl_function" href="class_describe_wallet_address_visitor.html#adfeae0c0a64544469554ab352ea8c891">operator()</a>(<span class="keyword">const</span> <a class="code hl_struct" href="struct_witness_v0_script_hash.html">WitnessV0ScriptHash</a>&amp; <span class="keywordtype">id</span>)<span class="keyword"> const</span></div>
<div class="line"><a id="l03966" name="l03966"></a><span class="lineno"> 3966</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l03967" name="l03967"></a><span class="lineno"> 3967</span>        <a class="code hl_class" href="class_uni_value.html">UniValue</a> obj(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l03968" name="l03968"></a><span class="lineno"> 3968</span>        <a class="code hl_class" href="class_c_script.html">CScript</a> subscript;</div>
<div class="line"><a id="l03969" name="l03969"></a><span class="lineno"> 3969</span>        <a class="code hl_class" href="class_c_r_i_p_e_m_d160.html">CRIPEMD160</a> hasher;</div>
<div class="line"><a id="l03970" name="l03970"></a><span class="lineno"> 3970</span>        <a class="code hl_class" href="classuint160.html">uint160</a> hash;</div>
<div class="line"><a id="l03971" name="l03971"></a><span class="lineno"> 3971</span>        hasher.<a class="code hl_function" href="class_c_r_i_p_e_m_d160.html#a221143b9d94af623d07c4f4ba1bf6007">Write</a>(<span class="keywordtype">id</span>.begin(), 32).<a class="code hl_function" href="class_c_r_i_p_e_m_d160.html#a2a11566fbf9d1339b819833313fc4e51">Finalize</a>(hash.<a class="code hl_function" href="classbase__blob.html#a6b3e01650a0101a43957dd813a441437">begin</a>());</div>
<div class="line"><a id="l03972" name="l03972"></a><span class="lineno"> 3972</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_describe_wallet_address_visitor.html#a23424efef251f15ea5145a3f5c00b73b">provider</a> &amp;&amp; <a class="code hl_variable" href="class_describe_wallet_address_visitor.html#a23424efef251f15ea5145a3f5c00b73b">provider</a>-&gt;<a class="code hl_function" href="class_signing_provider.html#a74f30a174ff9bb28c01dc689e6c6708f">GetCScript</a>(<a class="code hl_class" href="class_c_script_i_d.html">CScriptID</a>(hash), subscript)) {</div>
<div class="line"><a id="l03973" name="l03973"></a><span class="lineno"> 3973</span>            <a class="code hl_function" href="class_describe_wallet_address_visitor.html#abd3323778eb3418c2fa2076690b12b6c">ProcessSubScript</a>(subscript, obj);</div>
<div class="line"><a id="l03974" name="l03974"></a><span class="lineno"> 3974</span>        }</div>
<div class="line"><a id="l03975" name="l03975"></a><span class="lineno"> 3975</span>        <span class="keywordflow">return</span> obj;</div>
<div class="line"><a id="l03976" name="l03976"></a><span class="lineno"> 3976</span>    }</div>
<div class="line"><a id="l03977" name="l03977"></a><span class="lineno"> 3977</span> </div>
<div class="line"><a id="l03978" name="l03978"></a><span class="lineno"><a class="line" href="class_describe_wallet_address_visitor.html#ac86a94b96a7b3a7b00d7abb972dab4fa"> 3978</a></span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> <a class="code hl_function" href="class_describe_wallet_address_visitor.html#ac86a94b96a7b3a7b00d7abb972dab4fa">operator()</a>(<span class="keyword">const</span> <a class="code hl_struct" href="struct_witness_v1_taproot.html">WitnessV1Taproot</a>&amp; <span class="keywordtype">id</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>); }</div>
<div class="line"><a id="l03979" name="l03979"></a><span class="lineno"><a class="line" href="class_describe_wallet_address_visitor.html#aaea5fe711e94507144e1983851faac4c"> 3979</a></span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> <a class="code hl_function" href="class_describe_wallet_address_visitor.html#aaea5fe711e94507144e1983851faac4c">operator()</a>(<span class="keyword">const</span> <a class="code hl_struct" href="struct_witness_unknown.html">WitnessUnknown</a>&amp; <span class="keywordtype">id</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a>(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>); }</div>
<div class="line"><a id="l03980" name="l03980"></a><span class="lineno"> 3980</span>};</div>
<div class="line"><a id="l03981" name="l03981"></a><span class="lineno"> 3981</span> </div>
<div class="line"><a id="l03982" name="l03982"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a75783878b11d2e1d25249a0ac5461c7c"> 3982</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a75783878b11d2e1d25249a0ac5461c7c">DescribeWalletAddress</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a>&amp; dest)</div>
<div class="line"><a id="l03983" name="l03983"></a><span class="lineno"> 3983</span>{</div>
<div class="line"><a id="l03984" name="l03984"></a><span class="lineno"> 3984</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> ret(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l03985" name="l03985"></a><span class="lineno"> 3985</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> detail = <a class="code hl_function" href="rpc_2util_8cpp.html#af91efe7877ce4e77064e04d13888ae4f">DescribeAddress</a>(dest);</div>
<div class="line"><a id="l03986" name="l03986"></a><span class="lineno"> 3986</span>    <a class="code hl_class" href="class_c_script.html">CScript</a> script = <a class="code hl_function" href="standard_8cpp.html#ae40f28d3b46c21033f6ee1f1200d0321">GetScriptForDestination</a>(dest);</div>
<div class="line"><a id="l03987" name="l03987"></a><span class="lineno"> 3987</span>    std::unique_ptr&lt;SigningProvider&gt; provider = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l03988" name="l03988"></a><span class="lineno"> 3988</span>    provider = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.GetSolvingProvider(script);</div>
<div class="line"><a id="l03989" name="l03989"></a><span class="lineno"> 3989</span>    ret.<a class="code hl_function" href="class_uni_value.html#a89821b3f48732c1539e674378cdf7a87">pushKVs</a>(detail);</div>
<div class="line"><a id="l03990" name="l03990"></a><span class="lineno"> 3990</span>    ret.<a class="code hl_function" href="class_uni_value.html#a89821b3f48732c1539e674378cdf7a87">pushKVs</a>(std::visit(<a class="code hl_class" href="class_describe_wallet_address_visitor.html">DescribeWalletAddressVisitor</a>(provider.get()), dest));</div>
<div class="line"><a id="l03991" name="l03991"></a><span class="lineno"> 3991</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a id="l03992" name="l03992"></a><span class="lineno"> 3992</span>}</div>
<div class="line"><a id="l03993" name="l03993"></a><span class="lineno"> 3993</span> </div>
<div class="line"><a id="l03995" name="l03995"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a2e43caa364ea103595feab0c7d1a18e8"> 3995</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a2e43caa364ea103595feab0c7d1a18e8">AddressBookDataToJSON</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_address_book_data.html">CAddressBookData</a>&amp; data, <span class="keyword">const</span> <span class="keywordtype">bool</span> verbose)</div>
<div class="line"><a id="l03996" name="l03996"></a><span class="lineno"> 3996</span>{</div>
<div class="line"><a id="l03997" name="l03997"></a><span class="lineno"> 3997</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> ret(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l03998" name="l03998"></a><span class="lineno"> 3998</span>    <span class="keywordflow">if</span> (verbose) {</div>
<div class="line"><a id="l03999" name="l03999"></a><span class="lineno"> 3999</span>        ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;name&quot;</span>, data.<a class="code hl_function" href="class_c_address_book_data.html#ae3f51b74140b606151a121ce4714730a">GetLabel</a>());</div>
<div class="line"><a id="l04000" name="l04000"></a><span class="lineno"> 4000</span>    }</div>
<div class="line"><a id="l04001" name="l04001"></a><span class="lineno"> 4001</span>    ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;purpose&quot;</span>, data.<a class="code hl_variable" href="class_c_address_book_data.html#ae5fece7c73830859076950851eba04e8">purpose</a>);</div>
<div class="line"><a id="l04002" name="l04002"></a><span class="lineno"> 4002</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a id="l04003" name="l04003"></a><span class="lineno"> 4003</span>}</div>
<div class="line"><a id="l04004" name="l04004"></a><span class="lineno"> 4004</span> </div>
<div class="line"><a id="l04005" name="l04005"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a7746f416e0554c4665dc59cd747459bb"> 4005</a></span><a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a7746f416e0554c4665dc59cd747459bb">getaddressinfo</a>()</div>
<div class="line"><a id="l04006" name="l04006"></a><span class="lineno"> 4006</span>{</div>
<div class="line"><a id="l04007" name="l04007"></a><span class="lineno"> 4007</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;getaddressinfo&quot;</span>,</div>
<div class="line"><a id="l04008" name="l04008"></a><span class="lineno"> 4008</span>                <span class="stringliteral">&quot;\nReturn information about the given bitcoin address.\n&quot;</span></div>
<div class="line"><a id="l04009" name="l04009"></a><span class="lineno"> 4009</span>                <span class="stringliteral">&quot;Some of the information will only be present if the address is in the active wallet.\n&quot;</span>,</div>
<div class="line"><a id="l04010" name="l04010"></a><span class="lineno"> 4010</span>                {</div>
<div class="line"><a id="l04011" name="l04011"></a><span class="lineno"> 4011</span>                    {<span class="stringliteral">&quot;address&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The bitcoin address for which to get information.&quot;</span>},</div>
<div class="line"><a id="l04012" name="l04012"></a><span class="lineno"> 4012</span>                },</div>
<div class="line"><a id="l04013" name="l04013"></a><span class="lineno"> 4013</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l04014" name="l04014"></a><span class="lineno"> 4014</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l04015" name="l04015"></a><span class="lineno"> 4015</span>                    {</div>
<div class="line"><a id="l04016" name="l04016"></a><span class="lineno"> 4016</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;address&quot;</span>, <span class="stringliteral">&quot;The bitcoin address validated.&quot;</span>},</div>
<div class="line"><a id="l04017" name="l04017"></a><span class="lineno"> 4017</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;scriptPubKey&quot;</span>, <span class="stringliteral">&quot;The hex-encoded scriptPubKey generated by the address.&quot;</span>},</div>
<div class="line"><a id="l04018" name="l04018"></a><span class="lineno"> 4018</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;ismine&quot;</span>, <span class="stringliteral">&quot;If the address is yours.&quot;</span>},</div>
<div class="line"><a id="l04019" name="l04019"></a><span class="lineno"> 4019</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;iswatchonly&quot;</span>, <span class="stringliteral">&quot;If the address is watchonly.&quot;</span>},</div>
<div class="line"><a id="l04020" name="l04020"></a><span class="lineno"> 4020</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;solvable&quot;</span>, <span class="stringliteral">&quot;If we know how to spend coins sent to this address, ignoring the possible lack of private keys.&quot;</span>},</div>
<div class="line"><a id="l04021" name="l04021"></a><span class="lineno"> 4021</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;desc&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;A descriptor for spending coins sent to this address (only when solvable).&quot;</span>},</div>
<div class="line"><a id="l04022" name="l04022"></a><span class="lineno"> 4022</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;parent_desc&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The descriptor used to derive this address if this is a descriptor wallet&quot;</span>},</div>
<div class="line"><a id="l04023" name="l04023"></a><span class="lineno"> 4023</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;isscript&quot;</span>, <span class="stringliteral">&quot;If the key is a script.&quot;</span>},</div>
<div class="line"><a id="l04024" name="l04024"></a><span class="lineno"> 4024</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;ischange&quot;</span>, <span class="stringliteral">&quot;If the address was used for change output.&quot;</span>},</div>
<div class="line"><a id="l04025" name="l04025"></a><span class="lineno"> 4025</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;iswitness&quot;</span>, <span class="stringliteral">&quot;If the address is a witness address.&quot;</span>},</div>
<div class="line"><a id="l04026" name="l04026"></a><span class="lineno"> 4026</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;witness_version&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The version number of the witness program.&quot;</span>},</div>
<div class="line"><a id="l04027" name="l04027"></a><span class="lineno"> 4027</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;witness_program&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The hex value of the witness program.&quot;</span>},</div>
<div class="line"><a id="l04028" name="l04028"></a><span class="lineno"> 4028</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;script&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The output script type. Only if isscript is true and the redeemscript is known. Possible\n&quot;</span></div>
<div class="line"><a id="l04029" name="l04029"></a><span class="lineno"> 4029</span>                                                                     <span class="stringliteral">&quot;types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash,\n&quot;</span></div>
<div class="line"><a id="l04030" name="l04030"></a><span class="lineno"> 4030</span>                            <span class="stringliteral">&quot;witness_v0_scripthash, witness_unknown.&quot;</span>},</div>
<div class="line"><a id="l04031" name="l04031"></a><span class="lineno"> 4031</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;hex&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The redeemscript for the p2sh address.&quot;</span>},</div>
<div class="line"><a id="l04032" name="l04032"></a><span class="lineno"> 4032</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;pubkeys&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;Array of pubkeys associated with the known redeemscript (only if script is multisig).&quot;</span>,</div>
<div class="line"><a id="l04033" name="l04033"></a><span class="lineno"> 4033</span>                        {</div>
<div class="line"><a id="l04034" name="l04034"></a><span class="lineno"> 4034</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;pubkey&quot;</span>, <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l04035" name="l04035"></a><span class="lineno"> 4035</span>                        }},</div>
<div class="line"><a id="l04036" name="l04036"></a><span class="lineno"> 4036</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;sigsrequired&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The number of signatures required to spend multisig output (only if script is multisig).&quot;</span>},</div>
<div class="line"><a id="l04037" name="l04037"></a><span class="lineno"> 4037</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;pubkey&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The hex value of the raw public key for single-key addresses (possibly embedded in P2SH or P2WSH).&quot;</span>},</div>
<div class="line"><a id="l04038" name="l04038"></a><span class="lineno"> 4038</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;embedded&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;Information about the address embedded in P2SH or P2WSH, if relevant and known.&quot;</span>,</div>
<div class="line"><a id="l04039" name="l04039"></a><span class="lineno"> 4039</span>                        {</div>
<div class="line"><a id="l04040" name="l04040"></a><span class="lineno"> 4040</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a04fe69265c8043766766d58e5d14d8cc">RPCResult::Type::ELISION</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;Includes all getaddressinfo output fields for the embedded address, excluding metadata (timestamp, hdkeypath, hdseedid)\n&quot;</span></div>
<div class="line"><a id="l04041" name="l04041"></a><span class="lineno"> 4041</span>                            <span class="stringliteral">&quot;and relation to the wallet (ismine, iswatchonly).&quot;</span>},</div>
<div class="line"><a id="l04042" name="l04042"></a><span class="lineno"> 4042</span>                        }},</div>
<div class="line"><a id="l04043" name="l04043"></a><span class="lineno"> 4043</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;iscompressed&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;If the pubkey is compressed.&quot;</span>},</div>
<div class="line"><a id="l04044" name="l04044"></a><span class="lineno"> 4044</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a420373841df076014d27fd869eab98dd">RPCResult::Type::NUM_TIME</a>, <span class="stringliteral">&quot;timestamp&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The creation time of the key, if available, expressed in &quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#aad676cc5fc482fffa78911b8d7d9d32d">UNIX_EPOCH_TIME</a> + <span class="stringliteral">&quot;.&quot;</span>},</div>
<div class="line"><a id="l04045" name="l04045"></a><span class="lineno"> 4045</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;hdkeypath&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The HD keypath, if the key is HD and available.&quot;</span>},</div>
<div class="line"><a id="l04046" name="l04046"></a><span class="lineno"> 4046</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;hdseedid&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The Hash160 of the HD seed.&quot;</span>},</div>
<div class="line"><a id="l04047" name="l04047"></a><span class="lineno"> 4047</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;hdmasterfingerprint&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The fingerprint of the master key.&quot;</span>},</div>
<div class="line"><a id="l04048" name="l04048"></a><span class="lineno"> 4048</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;labels&quot;</span>, <span class="stringliteral">&quot;Array of labels associated with the address. Currently limited to one label but returned\n&quot;</span></div>
<div class="line"><a id="l04049" name="l04049"></a><span class="lineno"> 4049</span>                            <span class="stringliteral">&quot;as an array to keep the API stable if multiple labels are enabled in the future.&quot;</span>,</div>
<div class="line"><a id="l04050" name="l04050"></a><span class="lineno"> 4050</span>                        {</div>
<div class="line"><a id="l04051" name="l04051"></a><span class="lineno"> 4051</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;label name&quot;</span>, <span class="stringliteral">&quot;Label name (defaults to \&quot;\&quot;).&quot;</span>},</div>
<div class="line"><a id="l04052" name="l04052"></a><span class="lineno"> 4052</span>                        }},</div>
<div class="line"><a id="l04053" name="l04053"></a><span class="lineno"> 4053</span>                    }</div>
<div class="line"><a id="l04054" name="l04054"></a><span class="lineno"> 4054</span>                },</div>
<div class="line"><a id="l04055" name="l04055"></a><span class="lineno"> 4055</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l04056" name="l04056"></a><span class="lineno"> 4056</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;getaddressinfo&quot;</span>, <span class="stringliteral">&quot;\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot;&quot;</span>) +</div>
<div class="line"><a id="l04057" name="l04057"></a><span class="lineno"> 4057</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;getaddressinfo&quot;</span>, <span class="stringliteral">&quot;\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot;&quot;</span>)</div>
<div class="line"><a id="l04058" name="l04058"></a><span class="lineno"> 4058</span>                },</div>
<div class="line"><a id="l04059" name="l04059"></a><span class="lineno"> 4059</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l04060" name="l04060"></a><span class="lineno"> 4060</span>{</div>
<div class="line"><a id="l04061" name="l04061"></a><span class="lineno"> 4061</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l04062" name="l04062"></a><span class="lineno"> 4062</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l04063" name="l04063"></a><span class="lineno"> 4063</span> </div>
<div class="line"><a id="l04064" name="l04064"></a><span class="lineno"> 4064</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l04065" name="l04065"></a><span class="lineno"> 4065</span> </div>
<div class="line"><a id="l04066" name="l04066"></a><span class="lineno"> 4066</span>    std::string error_msg;</div>
<div class="line"><a id="l04067" name="l04067"></a><span class="lineno"> 4067</span>    <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> dest = <a class="code hl_function" href="key__io_8cpp.html#ae9479724a35444166ba384a69e1f246c">DecodeDestination</a>(request.params[0].get_str(), error_msg);</div>
<div class="line"><a id="l04068" name="l04068"></a><span class="lineno"> 4068</span> </div>
<div class="line"><a id="l04069" name="l04069"></a><span class="lineno"> 4069</span>    <span class="comment">// Make sure the destination is valid</span></div>
<div class="line"><a id="l04070" name="l04070"></a><span class="lineno"> 4070</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="standard_8cpp.html#adb3a21e4afe9c672720b182ddc7cad7c">IsValidDestination</a>(dest)) {</div>
<div class="line"><a id="l04071" name="l04071"></a><span class="lineno"> 4071</span>        <span class="comment">// Set generic error message in case &#39;DecodeDestination&#39; didn&#39;t set it</span></div>
<div class="line"><a id="l04072" name="l04072"></a><span class="lineno"> 4072</span>        <span class="keywordflow">if</span> (error_msg.empty()) error_msg = <span class="stringliteral">&quot;Invalid address&quot;</span>;</div>
<div class="line"><a id="l04073" name="l04073"></a><span class="lineno"> 4073</span> </div>
<div class="line"><a id="l04074" name="l04074"></a><span class="lineno"> 4074</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, error_msg);</div>
<div class="line"><a id="l04075" name="l04075"></a><span class="lineno"> 4075</span>    }</div>
<div class="line"><a id="l04076" name="l04076"></a><span class="lineno"> 4076</span> </div>
<div class="line"><a id="l04077" name="l04077"></a><span class="lineno"> 4077</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> ret(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l04078" name="l04078"></a><span class="lineno"> 4078</span> </div>
<div class="line"><a id="l04079" name="l04079"></a><span class="lineno"> 4079</span>    std::string currentAddress = <a class="code hl_function" href="key__io_8cpp.html#a69b845c325e6bf516251cd3a67fe1df7">EncodeDestination</a>(dest);</div>
<div class="line"><a id="l04080" name="l04080"></a><span class="lineno"> 4080</span>    ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;address&quot;</span>, currentAddress);</div>
<div class="line"><a id="l04081" name="l04081"></a><span class="lineno"> 4081</span> </div>
<div class="line"><a id="l04082" name="l04082"></a><span class="lineno"> 4082</span>    <a class="code hl_class" href="class_c_script.html">CScript</a> scriptPubKey = <a class="code hl_function" href="standard_8cpp.html#ae40f28d3b46c21033f6ee1f1200d0321">GetScriptForDestination</a>(dest);</div>
<div class="line"><a id="l04083" name="l04083"></a><span class="lineno"> 4083</span>    ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;scriptPubKey&quot;</span>, <a class="code hl_function" href="strencodings_8cpp.html#a16ace928e6a675ba31e23458c9149432">HexStr</a>(scriptPubKey));</div>
<div class="line"><a id="l04084" name="l04084"></a><span class="lineno"> 4084</span> </div>
<div class="line"><a id="l04085" name="l04085"></a><span class="lineno"> 4085</span>    std::unique_ptr&lt;SigningProvider&gt; provider = pwallet-&gt;GetSolvingProvider(scriptPubKey);</div>
<div class="line"><a id="l04086" name="l04086"></a><span class="lineno"> 4086</span> </div>
<div class="line"><a id="l04087" name="l04087"></a><span class="lineno"> 4087</span>    <a class="code hl_enumeration" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533">isminetype</a> mine = pwallet-&gt;IsMine(dest);</div>
<div class="line"><a id="l04088" name="l04088"></a><span class="lineno"> 4088</span>    ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;ismine&quot;</span>, <span class="keywordtype">bool</span>(mine &amp; <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58">ISMINE_SPENDABLE</a>));</div>
<div class="line"><a id="l04089" name="l04089"></a><span class="lineno"> 4089</span> </div>
<div class="line"><a id="l04090" name="l04090"></a><span class="lineno"> 4090</span>    <span class="keywordflow">if</span> (provider) {</div>
<div class="line"><a id="l04091" name="l04091"></a><span class="lineno"> 4091</span>        <span class="keyword">auto</span> inferred = <a class="code hl_function" href="descriptor_8cpp.html#a496a25c1d88122782c2a426d38394f0a">InferDescriptor</a>(scriptPubKey, *provider);</div>
<div class="line"><a id="l04092" name="l04092"></a><span class="lineno"> 4092</span>        <span class="keywordtype">bool</span> solvable = inferred-&gt;IsSolvable() || <a class="code hl_function" href="sign_8cpp.html#a88a309e2fcf97929f223e03eaba88bd6">IsSolvable</a>(*provider, scriptPubKey);</div>
<div class="line"><a id="l04093" name="l04093"></a><span class="lineno"> 4093</span>        ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;solvable&quot;</span>, solvable);</div>
<div class="line"><a id="l04094" name="l04094"></a><span class="lineno"> 4094</span>        <span class="keywordflow">if</span> (solvable) {</div>
<div class="line"><a id="l04095" name="l04095"></a><span class="lineno"> 4095</span>            ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;desc&quot;</span>, inferred-&gt;ToString());</div>
<div class="line"><a id="l04096" name="l04096"></a><span class="lineno"> 4096</span>        }</div>
<div class="line"><a id="l04097" name="l04097"></a><span class="lineno"> 4097</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04098" name="l04098"></a><span class="lineno"> 4098</span>        ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;solvable&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l04099" name="l04099"></a><span class="lineno"> 4099</span>    }</div>
<div class="line"><a id="l04100" name="l04100"></a><span class="lineno"> 4100</span> </div>
<div class="line"><a id="l04101" name="l04101"></a><span class="lineno"> 4101</span> </div>
<div class="line"><a id="l04102" name="l04102"></a><span class="lineno"> 4102</span>    <a class="code hl_class" href="class_descriptor_script_pub_key_man.html">DescriptorScriptPubKeyMan</a>* desc_spk_man = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_descriptor_script_pub_key_man.html">DescriptorScriptPubKeyMan</a>*<span class="keyword">&gt;</span>(pwallet-&gt;GetScriptPubKeyMan(scriptPubKey));</div>
<div class="line"><a id="l04103" name="l04103"></a><span class="lineno"> 4103</span>    <span class="keywordflow">if</span> (desc_spk_man) {</div>
<div class="line"><a id="l04104" name="l04104"></a><span class="lineno"> 4104</span>        std::string desc_str;</div>
<div class="line"><a id="l04105" name="l04105"></a><span class="lineno"> 4105</span>        <span class="keywordflow">if</span> (desc_spk_man-&gt;<a class="code hl_function" href="class_descriptor_script_pub_key_man.html#af2bcff41880af8116507f503ab68de2e">GetDescriptorString</a>(desc_str, <span class="comment">/* priv */</span> <span class="keyword">false</span>)) {</div>
<div class="line"><a id="l04106" name="l04106"></a><span class="lineno"> 4106</span>            ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;parent_desc&quot;</span>, desc_str);</div>
<div class="line"><a id="l04107" name="l04107"></a><span class="lineno"> 4107</span>        }</div>
<div class="line"><a id="l04108" name="l04108"></a><span class="lineno"> 4108</span>    }</div>
<div class="line"><a id="l04109" name="l04109"></a><span class="lineno"> 4109</span> </div>
<div class="line"><a id="l04110" name="l04110"></a><span class="lineno"> 4110</span>    ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;iswatchonly&quot;</span>, <span class="keywordtype">bool</span>(mine &amp; <a class="code hl_enumvalue" href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29">ISMINE_WATCH_ONLY</a>));</div>
<div class="line"><a id="l04111" name="l04111"></a><span class="lineno"> 4111</span> </div>
<div class="line"><a id="l04112" name="l04112"></a><span class="lineno"> 4112</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> detail = <a class="code hl_function" href="rpcwallet_8cpp.html#a75783878b11d2e1d25249a0ac5461c7c">DescribeWalletAddress</a>(*pwallet, dest);</div>
<div class="line"><a id="l04113" name="l04113"></a><span class="lineno"> 4113</span>    ret.<a class="code hl_function" href="class_uni_value.html#a89821b3f48732c1539e674378cdf7a87">pushKVs</a>(detail);</div>
<div class="line"><a id="l04114" name="l04114"></a><span class="lineno"> 4114</span> </div>
<div class="line"><a id="l04115" name="l04115"></a><span class="lineno"> 4115</span>    ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;ischange&quot;</span>, <a class="code hl_function" href="receive_8cpp.html#a3b7c8673a1df2b7f12f43b53d872a7d6">ScriptIsChange</a>(*pwallet, scriptPubKey));</div>
<div class="line"><a id="l04116" name="l04116"></a><span class="lineno"> 4116</span> </div>
<div class="line"><a id="l04117" name="l04117"></a><span class="lineno"> 4117</span>    <a class="code hl_class" href="class_script_pub_key_man.html">ScriptPubKeyMan</a>* spk_man = pwallet-&gt;GetScriptPubKeyMan(scriptPubKey);</div>
<div class="line"><a id="l04118" name="l04118"></a><span class="lineno"> 4118</span>    <span class="keywordflow">if</span> (spk_man) {</div>
<div class="line"><a id="l04119" name="l04119"></a><span class="lineno"> 4119</span>        <span class="keywordflow">if</span> (<span class="keyword">const</span> std::unique_ptr&lt;CKeyMetadata&gt; meta = spk_man-&gt;<a class="code hl_function" href="class_script_pub_key_man.html#a1f4157dbdffbac31b4ca245dd6a36d14">GetMetadata</a>(dest)) {</div>
<div class="line"><a id="l04120" name="l04120"></a><span class="lineno"> 4120</span>            ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;timestamp&quot;</span>, meta-&gt;nCreateTime);</div>
<div class="line"><a id="l04121" name="l04121"></a><span class="lineno"> 4121</span>            <span class="keywordflow">if</span> (meta-&gt;has_key_origin) {</div>
<div class="line"><a id="l04122" name="l04122"></a><span class="lineno"> 4122</span>                ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;hdkeypath&quot;</span>, <a class="code hl_function" href="bip32_8cpp.html#a95adec97d2991998e8bc35720d0e67f8">WriteHDKeypath</a>(meta-&gt;key_origin.path));</div>
<div class="line"><a id="l04123" name="l04123"></a><span class="lineno"> 4123</span>                ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;hdseedid&quot;</span>, meta-&gt;hd_seed_id.GetHex());</div>
<div class="line"><a id="l04124" name="l04124"></a><span class="lineno"> 4124</span>                ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;hdmasterfingerprint&quot;</span>, <a class="code hl_function" href="strencodings_8cpp.html#a16ace928e6a675ba31e23458c9149432">HexStr</a>(meta-&gt;key_origin.fingerprint));</div>
<div class="line"><a id="l04125" name="l04125"></a><span class="lineno"> 4125</span>            }</div>
<div class="line"><a id="l04126" name="l04126"></a><span class="lineno"> 4126</span>        }</div>
<div class="line"><a id="l04127" name="l04127"></a><span class="lineno"> 4127</span>    }</div>
<div class="line"><a id="l04128" name="l04128"></a><span class="lineno"> 4128</span> </div>
<div class="line"><a id="l04129" name="l04129"></a><span class="lineno"> 4129</span>    <span class="comment">// Return a `labels` array containing the label associated with the address,</span></div>
<div class="line"><a id="l04130" name="l04130"></a><span class="lineno"> 4130</span>    <span class="comment">// equivalent to the `label` field above. Currently only one label can be</span></div>
<div class="line"><a id="l04131" name="l04131"></a><span class="lineno"> 4131</span>    <span class="comment">// associated with an address, but we return an array so the API remains</span></div>
<div class="line"><a id="l04132" name="l04132"></a><span class="lineno"> 4132</span>    <span class="comment">// stable if we allow multiple labels to be associated with an address in</span></div>
<div class="line"><a id="l04133" name="l04133"></a><span class="lineno"> 4133</span>    <span class="comment">// the future.</span></div>
<div class="line"><a id="l04134" name="l04134"></a><span class="lineno"> 4134</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> labels(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l04135" name="l04135"></a><span class="lineno"> 4135</span>    <span class="keyword">const</span> <span class="keyword">auto</span>* address_book_entry = pwallet-&gt;FindAddressBookEntry(dest);</div>
<div class="line"><a id="l04136" name="l04136"></a><span class="lineno"> 4136</span>    <span class="keywordflow">if</span> (address_book_entry) {</div>
<div class="line"><a id="l04137" name="l04137"></a><span class="lineno"> 4137</span>        labels.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(address_book_entry-&gt;GetLabel());</div>
<div class="line"><a id="l04138" name="l04138"></a><span class="lineno"> 4138</span>    }</div>
<div class="line"><a id="l04139" name="l04139"></a><span class="lineno"> 4139</span>    ret.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;labels&quot;</span>, std::move(labels));</div>
<div class="line"><a id="l04140" name="l04140"></a><span class="lineno"> 4140</span> </div>
<div class="line"><a id="l04141" name="l04141"></a><span class="lineno"> 4141</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a id="l04142" name="l04142"></a><span class="lineno"> 4142</span>},</div>
<div class="line"><a id="l04143" name="l04143"></a><span class="lineno"> 4143</span>    };</div>
<div class="line"><a id="l04144" name="l04144"></a><span class="lineno"> 4144</span>}</div>
<div class="line"><a id="l04145" name="l04145"></a><span class="lineno"> 4145</span> </div>
<div class="line"><a id="l04146" name="l04146"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a45bbc4037ab95c8b18a8ecbd116d63d5"> 4146</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a45bbc4037ab95c8b18a8ecbd116d63d5">getaddressesbylabel</a>()</div>
<div class="line"><a id="l04147" name="l04147"></a><span class="lineno"> 4147</span>{</div>
<div class="line"><a id="l04148" name="l04148"></a><span class="lineno"> 4148</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;getaddressesbylabel&quot;</span>,</div>
<div class="line"><a id="l04149" name="l04149"></a><span class="lineno"> 4149</span>                <span class="stringliteral">&quot;\nReturns the list of addresses assigned the specified label.\n&quot;</span>,</div>
<div class="line"><a id="l04150" name="l04150"></a><span class="lineno"> 4150</span>                {</div>
<div class="line"><a id="l04151" name="l04151"></a><span class="lineno"> 4151</span>                    {<span class="stringliteral">&quot;label&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The label.&quot;</span>},</div>
<div class="line"><a id="l04152" name="l04152"></a><span class="lineno"> 4152</span>                },</div>
<div class="line"><a id="l04153" name="l04153"></a><span class="lineno"> 4153</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l04154" name="l04154"></a><span class="lineno"> 4154</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ab4b63e5ec006164d0155693ddc174f20">RPCResult::Type::OBJ_DYN</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;json object with addresses as keys&quot;</span>,</div>
<div class="line"><a id="l04155" name="l04155"></a><span class="lineno"> 4155</span>                    {</div>
<div class="line"><a id="l04156" name="l04156"></a><span class="lineno"> 4156</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;address&quot;</span>, <span class="stringliteral">&quot;json object with information about address&quot;</span>,</div>
<div class="line"><a id="l04157" name="l04157"></a><span class="lineno"> 4157</span>                        {</div>
<div class="line"><a id="l04158" name="l04158"></a><span class="lineno"> 4158</span>                            {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;purpose&quot;</span>, <span class="stringliteral">&quot;Purpose of address (\&quot;send\&quot; for sending address, \&quot;receive\&quot; for receiving address)&quot;</span>},</div>
<div class="line"><a id="l04159" name="l04159"></a><span class="lineno"> 4159</span>                        }},</div>
<div class="line"><a id="l04160" name="l04160"></a><span class="lineno"> 4160</span>                    }</div>
<div class="line"><a id="l04161" name="l04161"></a><span class="lineno"> 4161</span>                },</div>
<div class="line"><a id="l04162" name="l04162"></a><span class="lineno"> 4162</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l04163" name="l04163"></a><span class="lineno"> 4163</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;getaddressesbylabel&quot;</span>, <span class="stringliteral">&quot;\&quot;tabby\&quot;&quot;</span>)</div>
<div class="line"><a id="l04164" name="l04164"></a><span class="lineno"> 4164</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;getaddressesbylabel&quot;</span>, <span class="stringliteral">&quot;\&quot;tabby\&quot;&quot;</span>)</div>
<div class="line"><a id="l04165" name="l04165"></a><span class="lineno"> 4165</span>                },</div>
<div class="line"><a id="l04166" name="l04166"></a><span class="lineno"> 4166</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l04167" name="l04167"></a><span class="lineno"> 4167</span>{</div>
<div class="line"><a id="l04168" name="l04168"></a><span class="lineno"> 4168</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l04169" name="l04169"></a><span class="lineno"> 4169</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l04170" name="l04170"></a><span class="lineno"> 4170</span> </div>
<div class="line"><a id="l04171" name="l04171"></a><span class="lineno"> 4171</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l04172" name="l04172"></a><span class="lineno"> 4172</span> </div>
<div class="line"><a id="l04173" name="l04173"></a><span class="lineno"> 4173</span>    std::string label = <a class="code hl_function" href="rpcwallet_8cpp.html#a0c4c4cfa68641156f1ddf4368da643e0">LabelFromValue</a>(request.params[0]);</div>
<div class="line"><a id="l04174" name="l04174"></a><span class="lineno"> 4174</span> </div>
<div class="line"><a id="l04175" name="l04175"></a><span class="lineno"> 4175</span>    <span class="comment">// Find all addresses that have the given label</span></div>
<div class="line"><a id="l04176" name="l04176"></a><span class="lineno"> 4176</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> ret(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l04177" name="l04177"></a><span class="lineno"> 4177</span>    std::set&lt;std::string&gt; addresses;</div>
<div class="line"><a id="l04178" name="l04178"></a><span class="lineno"> 4178</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::pair&lt;const CTxDestination, CAddressBookData&gt;&amp; item : pwallet-&gt;m_address_book) {</div>
<div class="line"><a id="l04179" name="l04179"></a><span class="lineno"> 4179</span>        <span class="keywordflow">if</span> (item.second.IsChange()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l04180" name="l04180"></a><span class="lineno"> 4180</span>        <span class="keywordflow">if</span> (item.second.GetLabel() == label) {</div>
<div class="line"><a id="l04181" name="l04181"></a><span class="lineno"> 4181</span>            std::string address = <a class="code hl_function" href="key__io_8cpp.html#a69b845c325e6bf516251cd3a67fe1df7">EncodeDestination</a>(item.first);</div>
<div class="line"><a id="l04182" name="l04182"></a><span class="lineno"> 4182</span>            <span class="comment">// CWallet::m_address_book is not expected to contain duplicate</span></div>
<div class="line"><a id="l04183" name="l04183"></a><span class="lineno"> 4183</span>            <span class="comment">// address strings, but build a separate set as a precaution just in</span></div>
<div class="line"><a id="l04184" name="l04184"></a><span class="lineno"> 4184</span>            <span class="comment">// case it does.</span></div>
<div class="line"><a id="l04185" name="l04185"></a><span class="lineno"> 4185</span>            <span class="keywordtype">bool</span> unique = addresses.emplace(address).second;</div>
<div class="line"><a id="l04186" name="l04186"></a><span class="lineno"> 4186</span>            <a class="code hl_define" href="check_8h.html#a46a3e27097aa5e94bbf62075bad7016f">CHECK_NONFATAL</a>(unique);</div>
<div class="line"><a id="l04187" name="l04187"></a><span class="lineno"> 4187</span>            <span class="comment">// UniValue::pushKV checks if the key exists in O(N)</span></div>
<div class="line"><a id="l04188" name="l04188"></a><span class="lineno"> 4188</span>            <span class="comment">// and since duplicate addresses are unexpected (checked with</span></div>
<div class="line"><a id="l04189" name="l04189"></a><span class="lineno"> 4189</span>            <span class="comment">// std::set in O(log(N))), UniValue::__pushKV is used instead,</span></div>
<div class="line"><a id="l04190" name="l04190"></a><span class="lineno"> 4190</span>            <span class="comment">// which currently is O(1).</span></div>
<div class="line"><a id="l04191" name="l04191"></a><span class="lineno"> 4191</span>            ret.<a class="code hl_function" href="class_uni_value.html#a505a2087cb7d9ee51d24a97a5cc7910c">__pushKV</a>(address, <a class="code hl_function" href="rpcwallet_8cpp.html#a2e43caa364ea103595feab0c7d1a18e8">AddressBookDataToJSON</a>(item.second, <span class="keyword">false</span>));</div>
<div class="line"><a id="l04192" name="l04192"></a><span class="lineno"> 4192</span>        }</div>
<div class="line"><a id="l04193" name="l04193"></a><span class="lineno"> 4193</span>    }</div>
<div class="line"><a id="l04194" name="l04194"></a><span class="lineno"> 4194</span> </div>
<div class="line"><a id="l04195" name="l04195"></a><span class="lineno"> 4195</span>    <span class="keywordflow">if</span> (ret.<a class="code hl_function" href="class_uni_value.html#a6cf106f8b73c526b50d0c77a36a2d8ec">empty</a>()) {</div>
<div class="line"><a id="l04196" name="l04196"></a><span class="lineno"> 4196</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada0870b7c922cb7437cf22222763bcade8">RPC_WALLET_INVALID_LABEL_NAME</a>, std::string(<span class="stringliteral">&quot;No addresses with label &quot;</span> + label));</div>
<div class="line"><a id="l04197" name="l04197"></a><span class="lineno"> 4197</span>    }</div>
<div class="line"><a id="l04198" name="l04198"></a><span class="lineno"> 4198</span> </div>
<div class="line"><a id="l04199" name="l04199"></a><span class="lineno"> 4199</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a id="l04200" name="l04200"></a><span class="lineno"> 4200</span>},</div>
<div class="line"><a id="l04201" name="l04201"></a><span class="lineno"> 4201</span>    };</div>
<div class="line"><a id="l04202" name="l04202"></a><span class="lineno"> 4202</span>}</div>
<div class="line"><a id="l04203" name="l04203"></a><span class="lineno"> 4203</span> </div>
<div class="line"><a id="l04204" name="l04204"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a868afa329dc53333edea17c7c06623ba"> 4204</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a868afa329dc53333edea17c7c06623ba">listlabels</a>()</div>
<div class="line"><a id="l04205" name="l04205"></a><span class="lineno"> 4205</span>{</div>
<div class="line"><a id="l04206" name="l04206"></a><span class="lineno"> 4206</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;listlabels&quot;</span>,</div>
<div class="line"><a id="l04207" name="l04207"></a><span class="lineno"> 4207</span>                <span class="stringliteral">&quot;\nReturns the list of all labels, or labels that are assigned to addresses with a specific purpose.\n&quot;</span>,</div>
<div class="line"><a id="l04208" name="l04208"></a><span class="lineno"> 4208</span>                {</div>
<div class="line"><a id="l04209" name="l04209"></a><span class="lineno"> 4209</span>                    {<span class="stringliteral">&quot;purpose&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;Address purpose to list labels for (&#39;send&#39;,&#39;receive&#39;). An empty string is the same as not providing this argument.&quot;</span>},</div>
<div class="line"><a id="l04210" name="l04210"></a><span class="lineno"> 4210</span>                },</div>
<div class="line"><a id="l04211" name="l04211"></a><span class="lineno"> 4211</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l04212" name="l04212"></a><span class="lineno"> 4212</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l04213" name="l04213"></a><span class="lineno"> 4213</span>                    {</div>
<div class="line"><a id="l04214" name="l04214"></a><span class="lineno"> 4214</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;label&quot;</span>, <span class="stringliteral">&quot;Label name&quot;</span>},</div>
<div class="line"><a id="l04215" name="l04215"></a><span class="lineno"> 4215</span>                    }</div>
<div class="line"><a id="l04216" name="l04216"></a><span class="lineno"> 4216</span>                },</div>
<div class="line"><a id="l04217" name="l04217"></a><span class="lineno"> 4217</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l04218" name="l04218"></a><span class="lineno"> 4218</span>            <span class="stringliteral">&quot;\nList all labels\n&quot;</span></div>
<div class="line"><a id="l04219" name="l04219"></a><span class="lineno"> 4219</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listlabels&quot;</span>, <span class="stringliteral">&quot;&quot;</span>) +</div>
<div class="line"><a id="l04220" name="l04220"></a><span class="lineno"> 4220</span>            <span class="stringliteral">&quot;\nList labels that have receiving addresses\n&quot;</span></div>
<div class="line"><a id="l04221" name="l04221"></a><span class="lineno"> 4221</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listlabels&quot;</span>, <span class="stringliteral">&quot;receive&quot;</span>) +</div>
<div class="line"><a id="l04222" name="l04222"></a><span class="lineno"> 4222</span>            <span class="stringliteral">&quot;\nList labels that have sending addresses\n&quot;</span></div>
<div class="line"><a id="l04223" name="l04223"></a><span class="lineno"> 4223</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;listlabels&quot;</span>, <span class="stringliteral">&quot;send&quot;</span>) +</div>
<div class="line"><a id="l04224" name="l04224"></a><span class="lineno"> 4224</span>            <span class="stringliteral">&quot;\nAs a JSON-RPC call\n&quot;</span></div>
<div class="line"><a id="l04225" name="l04225"></a><span class="lineno"> 4225</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;listlabels&quot;</span>, <span class="stringliteral">&quot;receive&quot;</span>)</div>
<div class="line"><a id="l04226" name="l04226"></a><span class="lineno"> 4226</span>                },</div>
<div class="line"><a id="l04227" name="l04227"></a><span class="lineno"> 4227</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l04228" name="l04228"></a><span class="lineno"> 4228</span>{</div>
<div class="line"><a id="l04229" name="l04229"></a><span class="lineno"> 4229</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l04230" name="l04230"></a><span class="lineno"> 4230</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l04231" name="l04231"></a><span class="lineno"> 4231</span> </div>
<div class="line"><a id="l04232" name="l04232"></a><span class="lineno"> 4232</span>    <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;cs_wallet);</div>
<div class="line"><a id="l04233" name="l04233"></a><span class="lineno"> 4233</span> </div>
<div class="line"><a id="l04234" name="l04234"></a><span class="lineno"> 4234</span>    std::string purpose;</div>
<div class="line"><a id="l04235" name="l04235"></a><span class="lineno"> 4235</span>    <span class="keywordflow">if</span> (!request.params[0].isNull()) {</div>
<div class="line"><a id="l04236" name="l04236"></a><span class="lineno"> 4236</span>        purpose = request.params[0].get_str();</div>
<div class="line"><a id="l04237" name="l04237"></a><span class="lineno"> 4237</span>    }</div>
<div class="line"><a id="l04238" name="l04238"></a><span class="lineno"> 4238</span> </div>
<div class="line"><a id="l04239" name="l04239"></a><span class="lineno"> 4239</span>    <span class="comment">// Add to a set to sort by label name, then insert into Univalue array</span></div>
<div class="line"><a id="l04240" name="l04240"></a><span class="lineno"> 4240</span>    std::set&lt;std::string&gt; label_set;</div>
<div class="line"><a id="l04241" name="l04241"></a><span class="lineno"> 4241</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::pair&lt;const CTxDestination, CAddressBookData&gt;&amp; entry : pwallet-&gt;m_address_book) {</div>
<div class="line"><a id="l04242" name="l04242"></a><span class="lineno"> 4242</span>        <span class="keywordflow">if</span> (entry.second.IsChange()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l04243" name="l04243"></a><span class="lineno"> 4243</span>        <span class="keywordflow">if</span> (purpose.empty() || entry.second.purpose == purpose) {</div>
<div class="line"><a id="l04244" name="l04244"></a><span class="lineno"> 4244</span>            label_set.insert(entry.second.GetLabel());</div>
<div class="line"><a id="l04245" name="l04245"></a><span class="lineno"> 4245</span>        }</div>
<div class="line"><a id="l04246" name="l04246"></a><span class="lineno"> 4246</span>    }</div>
<div class="line"><a id="l04247" name="l04247"></a><span class="lineno"> 4247</span> </div>
<div class="line"><a id="l04248" name="l04248"></a><span class="lineno"> 4248</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> ret(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>);</div>
<div class="line"><a id="l04249" name="l04249"></a><span class="lineno"> 4249</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::string&amp; <a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> : label_set) {</div>
<div class="line"><a id="l04250" name="l04250"></a><span class="lineno"> 4250</span>        ret.<a class="code hl_function" href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">push_back</a>(<a class="code hl_variable" href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div>
<div class="line"><a id="l04251" name="l04251"></a><span class="lineno"> 4251</span>    }</div>
<div class="line"><a id="l04252" name="l04252"></a><span class="lineno"> 4252</span> </div>
<div class="line"><a id="l04253" name="l04253"></a><span class="lineno"> 4253</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a id="l04254" name="l04254"></a><span class="lineno"> 4254</span>},</div>
<div class="line"><a id="l04255" name="l04255"></a><span class="lineno"> 4255</span>    };</div>
<div class="line"><a id="l04256" name="l04256"></a><span class="lineno"> 4256</span>}</div>
<div class="line"><a id="l04257" name="l04257"></a><span class="lineno"> 4257</span> </div>
<div class="line"><a id="l04258" name="l04258"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a52980bfe3ce43e0507e9ecdecefa2230"> 4258</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a52980bfe3ce43e0507e9ecdecefa2230">send</a>()</div>
<div class="line"><a id="l04259" name="l04259"></a><span class="lineno"> 4259</span>{</div>
<div class="line"><a id="l04260" name="l04260"></a><span class="lineno"> 4260</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;send&quot;</span>,</div>
<div class="line"><a id="l04261" name="l04261"></a><span class="lineno"> 4261</span>        <span class="stringliteral">&quot;\nEXPERIMENTAL warning: this call may be changed in future releases.\n&quot;</span></div>
<div class="line"><a id="l04262" name="l04262"></a><span class="lineno"> 4262</span>        <span class="stringliteral">&quot;\nSend a transaction.\n&quot;</span>,</div>
<div class="line"><a id="l04263" name="l04263"></a><span class="lineno"> 4263</span>        {</div>
<div class="line"><a id="l04264" name="l04264"></a><span class="lineno"> 4264</span>            {<span class="stringliteral">&quot;outputs&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The outputs (key-value pairs), where none of the keys are duplicated.\n&quot;</span></div>
<div class="line"><a id="l04265" name="l04265"></a><span class="lineno"> 4265</span>                    <span class="stringliteral">&quot;That is, each address can only appear once and there can only be one &#39;data&#39; object.\n&quot;</span></div>
<div class="line"><a id="l04266" name="l04266"></a><span class="lineno"> 4266</span>                    <span class="stringliteral">&quot;For convenience, a dictionary, which holds the key-value pairs directly, is also accepted.&quot;</span>,</div>
<div class="line"><a id="l04267" name="l04267"></a><span class="lineno"> 4267</span>                {</div>
<div class="line"><a id="l04268" name="l04268"></a><span class="lineno"> 4268</span>                    {<span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a39fad5e2aa21550787e1e716ecc4829b">RPCArg::Type::OBJ_USER_KEYS</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l04269" name="l04269"></a><span class="lineno"> 4269</span>                        {</div>
<div class="line"><a id="l04270" name="l04270"></a><span class="lineno"> 4270</span>                            {<span class="stringliteral">&quot;address&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;A key-value pair. The key (string) is the bitcoin address, the value (float or string) is the amount in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l04271" name="l04271"></a><span class="lineno"> 4271</span>                        },</div>
<div class="line"><a id="l04272" name="l04272"></a><span class="lineno"> 4272</span>                        },</div>
<div class="line"><a id="l04273" name="l04273"></a><span class="lineno"> 4273</span>                    {<span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2af34d534adfb78a9e6432be4621a93eec">RPCArg::Type::OBJ</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l04274" name="l04274"></a><span class="lineno"> 4274</span>                        {</div>
<div class="line"><a id="l04275" name="l04275"></a><span class="lineno"> 4275</span>                            {<span class="stringliteral">&quot;data&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;A key-value pair. The key must be \&quot;data\&quot;, the value is hex-encoded data&quot;</span>},</div>
<div class="line"><a id="l04276" name="l04276"></a><span class="lineno"> 4276</span>                        },</div>
<div class="line"><a id="l04277" name="l04277"></a><span class="lineno"> 4277</span>                    },</div>
<div class="line"><a id="l04278" name="l04278"></a><span class="lineno"> 4278</span>                },</div>
<div class="line"><a id="l04279" name="l04279"></a><span class="lineno"> 4279</span>            },</div>
<div class="line"><a id="l04280" name="l04280"></a><span class="lineno"> 4280</span>            {<span class="stringliteral">&quot;conf_target&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;wallet -txconfirmtarget&quot;</span>}, <span class="stringliteral">&quot;Confirmation target in blocks&quot;</span>},</div>
<div class="line"><a id="l04281" name="l04281"></a><span class="lineno"> 4281</span>            {<span class="stringliteral">&quot;estimate_mode&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="stringliteral">&quot;unset&quot;</span>}, std::string() + <span class="stringliteral">&quot;The fee estimate mode, must be one of (case insensitive):\n&quot;</span></div>
<div class="line"><a id="l04282" name="l04282"></a><span class="lineno"> 4282</span>                        <span class="stringliteral">&quot;       \&quot;&quot;</span> + <a class="code hl_function" href="util_2fees_8cpp.html#a32fab8b174c9dcbab0d46d5ea4608a6b">FeeModes</a>(<span class="stringliteral">&quot;\&quot;\n\&quot;&quot;</span>) + <span class="stringliteral">&quot;\&quot;&quot;</span>},</div>
<div class="line"><a id="l04283" name="l04283"></a><span class="lineno"> 4283</span>            {<span class="stringliteral">&quot;fee_rate&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;not set, fall back to wallet fee estimation&quot;</span>}, <span class="stringliteral">&quot;Specify a fee rate in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB.&quot;</span>},</div>
<div class="line"><a id="l04284" name="l04284"></a><span class="lineno"> 4284</span>            {<span class="stringliteral">&quot;options&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2af34d534adfb78a9e6432be4621a93eec">RPCArg::Type::OBJ</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l04285" name="l04285"></a><span class="lineno"> 4285</span>                Cat&lt;std::vector&lt;RPCArg&gt;&gt;(</div>
<div class="line"><a id="l04286" name="l04286"></a><span class="lineno"> 4286</span>                {</div>
<div class="line"><a id="l04287" name="l04287"></a><span class="lineno"> 4287</span>                    {<span class="stringliteral">&quot;add_inputs&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;If inputs are specified, automatically include more if they are not enough.&quot;</span>},</div>
<div class="line"><a id="l04288" name="l04288"></a><span class="lineno"> 4288</span>                    {<span class="stringliteral">&quot;include_unsafe&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;Include inputs that are not safe to spend (unconfirmed transactions from outside keys and unconfirmed replacement transactions).\n&quot;</span></div>
<div class="line"><a id="l04289" name="l04289"></a><span class="lineno"> 4289</span>                                                          <span class="stringliteral">&quot;Warning: the resulting transaction may become invalid if one of the unsafe inputs disappears.\n&quot;</span></div>
<div class="line"><a id="l04290" name="l04290"></a><span class="lineno"> 4290</span>                                                          <span class="stringliteral">&quot;If that happens, you will need to fund the transaction with different inputs and republish it.&quot;</span>},</div>
<div class="line"><a id="l04291" name="l04291"></a><span class="lineno"> 4291</span>                    {<span class="stringliteral">&quot;add_to_wallet&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">true</span>}, <span class="stringliteral">&quot;When false, returns a serialized transaction which will not be added to the wallet or broadcast&quot;</span>},</div>
<div class="line"><a id="l04292" name="l04292"></a><span class="lineno"> 4292</span>                    {<span class="stringliteral">&quot;change_address&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;pool address&quot;</span>}, <span class="stringliteral">&quot;The bitcoin address to receive the change&quot;</span>},</div>
<div class="line"><a id="l04293" name="l04293"></a><span class="lineno"> 4293</span>                    {<span class="stringliteral">&quot;change_position&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;random&quot;</span>}, <span class="stringliteral">&quot;The index of the change output&quot;</span>},</div>
<div class="line"><a id="l04294" name="l04294"></a><span class="lineno"> 4294</span>                    {<span class="stringliteral">&quot;change_type&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;set by -changetype&quot;</span>}, <span class="stringliteral">&quot;The output type to use. Only valid if change_address is not specified. Options are \&quot;legacy\&quot;, \&quot;p2sh-segwit\&quot;, and \&quot;bech32\&quot;.&quot;</span>},</div>
<div class="line"><a id="l04295" name="l04295"></a><span class="lineno"> 4295</span>                    {<span class="stringliteral">&quot;fee_rate&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;not set, fall back to wallet fee estimation&quot;</span>}, <span class="stringliteral">&quot;Specify a fee rate in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB.&quot;</span>},</div>
<div class="line"><a id="l04296" name="l04296"></a><span class="lineno"> 4296</span>                    {<span class="stringliteral">&quot;include_watching&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;true for watch-only wallets, otherwise false&quot;</span>}, <span class="stringliteral">&quot;Also select inputs which are watch only.\n&quot;</span></div>
<div class="line"><a id="l04297" name="l04297"></a><span class="lineno"> 4297</span>                                          <span class="stringliteral">&quot;Only solvable inputs can be used. Watch-only destinations are solvable if the public key and/or output script was imported,\n&quot;</span></div>
<div class="line"><a id="l04298" name="l04298"></a><span class="lineno"> 4298</span>                                          <span class="stringliteral">&quot;e.g. with &#39;importpubkey&#39; or &#39;importmulti&#39; with the &#39;pubkeys&#39; or &#39;desc&#39; field.&quot;</span>},</div>
<div class="line"><a id="l04299" name="l04299"></a><span class="lineno"> 4299</span>                    {<span class="stringliteral">&quot;inputs&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>}, <span class="stringliteral">&quot;Specify inputs instead of adding them automatically. A JSON array of JSON objects&quot;</span>,</div>
<div class="line"><a id="l04300" name="l04300"></a><span class="lineno"> 4300</span>                        {</div>
<div class="line"><a id="l04301" name="l04301"></a><span class="lineno"> 4301</span>                            {<span class="stringliteral">&quot;txid&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The transaction id&quot;</span>},</div>
<div class="line"><a id="l04302" name="l04302"></a><span class="lineno"> 4302</span>                            {<span class="stringliteral">&quot;vout&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The output number&quot;</span>},</div>
<div class="line"><a id="l04303" name="l04303"></a><span class="lineno"> 4303</span>                            {<span class="stringliteral">&quot;sequence&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The sequence number&quot;</span>},</div>
<div class="line"><a id="l04304" name="l04304"></a><span class="lineno"> 4304</span>                        },</div>
<div class="line"><a id="l04305" name="l04305"></a><span class="lineno"> 4305</span>                    },</div>
<div class="line"><a id="l04306" name="l04306"></a><span class="lineno"> 4306</span>                    {<span class="stringliteral">&quot;locktime&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{0}, <span class="stringliteral">&quot;Raw locktime. Non-0 value also locktime-activates inputs&quot;</span>},</div>
<div class="line"><a id="l04307" name="l04307"></a><span class="lineno"> 4307</span>                    {<span class="stringliteral">&quot;lock_unspents&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;Lock selected unspent outputs&quot;</span>},</div>
<div class="line"><a id="l04308" name="l04308"></a><span class="lineno"> 4308</span>                    {<span class="stringliteral">&quot;psbt&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>,  <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;automatic&quot;</span>}, <span class="stringliteral">&quot;Always return a PSBT, implies add_to_wallet=false.&quot;</span>},</div>
<div class="line"><a id="l04309" name="l04309"></a><span class="lineno"> 4309</span>                    {<span class="stringliteral">&quot;subtract_fee_from_outputs&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>}, <span class="stringliteral">&quot;Outputs to subtract the fee from, specified as integer indices.\n&quot;</span></div>
<div class="line"><a id="l04310" name="l04310"></a><span class="lineno"> 4310</span>                    <span class="stringliteral">&quot;The fee will be equally deducted from the amount of each specified output.\n&quot;</span></div>
<div class="line"><a id="l04311" name="l04311"></a><span class="lineno"> 4311</span>                    <span class="stringliteral">&quot;Those recipients will receive less bitcoins than you enter in their corresponding amount field.\n&quot;</span></div>
<div class="line"><a id="l04312" name="l04312"></a><span class="lineno"> 4312</span>                    <span class="stringliteral">&quot;If no outputs are specified here, the sender pays the fee.&quot;</span>,</div>
<div class="line"><a id="l04313" name="l04313"></a><span class="lineno"> 4313</span>                        {</div>
<div class="line"><a id="l04314" name="l04314"></a><span class="lineno"> 4314</span>                            {<span class="stringliteral">&quot;vout_index&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;The zero-based output index, before a change output is added.&quot;</span>},</div>
<div class="line"><a id="l04315" name="l04315"></a><span class="lineno"> 4315</span>                        },</div>
<div class="line"><a id="l04316" name="l04316"></a><span class="lineno"> 4316</span>                    },</div>
<div class="line"><a id="l04317" name="l04317"></a><span class="lineno"> 4317</span>                },</div>
<div class="line"><a id="l04318" name="l04318"></a><span class="lineno"> 4318</span>                <a class="code hl_function" href="rpcwallet_8cpp.html#a8e03bdc2be04101c151cc25d2c3611d6">FundTxDoc</a>()),</div>
<div class="line"><a id="l04319" name="l04319"></a><span class="lineno"> 4319</span>                <span class="stringliteral">&quot;options&quot;</span>},</div>
<div class="line"><a id="l04320" name="l04320"></a><span class="lineno"> 4320</span>        },</div>
<div class="line"><a id="l04321" name="l04321"></a><span class="lineno"> 4321</span>        <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l04322" name="l04322"></a><span class="lineno"> 4322</span>            <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l04323" name="l04323"></a><span class="lineno"> 4323</span>                {</div>
<div class="line"><a id="l04324" name="l04324"></a><span class="lineno"> 4324</span>                    {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;complete&quot;</span>, <span class="stringliteral">&quot;If the transaction has a complete set of signatures&quot;</span>},</div>
<div class="line"><a id="l04325" name="l04325"></a><span class="lineno"> 4325</span>                    {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;txid&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;The transaction id for the send. Only 1 transaction is created regardless of the number of addresses.&quot;</span>},</div>
<div class="line"><a id="l04326" name="l04326"></a><span class="lineno"> 4326</span>                    {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a>, <span class="stringliteral">&quot;hex&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;If add_to_wallet is false, the hex-encoded raw transaction with signature(s)&quot;</span>},</div>
<div class="line"><a id="l04327" name="l04327"></a><span class="lineno"> 4327</span>                    {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;psbt&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;If more signatures are needed, or if add_to_wallet is false, the base64-encoded (partially) signed transaction&quot;</span>}</div>
<div class="line"><a id="l04328" name="l04328"></a><span class="lineno"> 4328</span>                }</div>
<div class="line"><a id="l04329" name="l04329"></a><span class="lineno"> 4329</span>        },</div>
<div class="line"><a id="l04330" name="l04330"></a><span class="lineno"> 4330</span>        <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{<span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><a id="l04331" name="l04331"></a><span class="lineno"> 4331</span>        <span class="stringliteral">&quot;\nSend 0.1 BTC with a confirmation target of 6 blocks in economical fee estimate mode\n&quot;</span></div>
<div class="line"><a id="l04332" name="l04332"></a><span class="lineno"> 4332</span>        + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;send&quot;</span>, <span class="stringliteral">&quot;&#39;{\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot;: 0.1}&#39; 6 economical\n&quot;</span>) +</div>
<div class="line"><a id="l04333" name="l04333"></a><span class="lineno"> 4333</span>        <span class="stringliteral">&quot;Send 0.2 BTC with a fee rate of 1.1 &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB using positional arguments\n&quot;</span></div>
<div class="line"><a id="l04334" name="l04334"></a><span class="lineno"> 4334</span>        + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;send&quot;</span>, <span class="stringliteral">&quot;&#39;{\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot;: 0.2}&#39; null \&quot;unset\&quot; 1.1\n&quot;</span>) +</div>
<div class="line"><a id="l04335" name="l04335"></a><span class="lineno"> 4335</span>        <span class="stringliteral">&quot;Send 0.2 BTC with a fee rate of 1 &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB using the options argument\n&quot;</span></div>
<div class="line"><a id="l04336" name="l04336"></a><span class="lineno"> 4336</span>        + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;send&quot;</span>, <span class="stringliteral">&quot;&#39;{\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot;: 0.2}&#39; null \&quot;unset\&quot; null &#39;{\&quot;fee_rate\&quot;: 1}&#39;\n&quot;</span>) +</div>
<div class="line"><a id="l04337" name="l04337"></a><span class="lineno"> 4337</span>        <span class="stringliteral">&quot;Send 0.3 BTC with a fee rate of 25 &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB using named arguments\n&quot;</span></div>
<div class="line"><a id="l04338" name="l04338"></a><span class="lineno"> 4338</span>        + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;-named send&quot;</span>, <span class="stringliteral">&quot;outputs=&#39;{\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot;: 0.3}&#39; fee_rate=25\n&quot;</span>) +</div>
<div class="line"><a id="l04339" name="l04339"></a><span class="lineno"> 4339</span>        <span class="stringliteral">&quot;Create a transaction that should confirm the next block, with a specific input, and return result without adding to wallet or broadcasting to the network\n&quot;</span></div>
<div class="line"><a id="l04340" name="l04340"></a><span class="lineno"> 4340</span>        + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;send&quot;</span>, <span class="stringliteral">&quot;&#39;{\&quot;&quot;</span> + <a class="code hl_variable" href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a>[0] + <span class="stringliteral">&quot;\&quot;: 0.1}&#39; 1 economical &#39;{\&quot;add_to_wallet\&quot;: false, \&quot;inputs\&quot;: [{\&quot;txid\&quot;:\&quot;a08e6907dbbd3d809776dbfc5d82e371b764ed838b5655e72f463568df1aadf0\&quot;, \&quot;vout\&quot;:1}]}&#39;&quot;</span>)</div>
<div class="line"><a id="l04341" name="l04341"></a><span class="lineno"> 4341</span>        },</div>
<div class="line"><a id="l04342" name="l04342"></a><span class="lineno"> 4342</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l04343" name="l04343"></a><span class="lineno"> 4343</span>        {</div>
<div class="line"><a id="l04344" name="l04344"></a><span class="lineno"> 4344</span>            <a class="code hl_function" href="rpc_2util_8cpp.html#a1d3e3ccc5d3ba3ee1314be41a2039e0f">RPCTypeCheck</a>(request.params, {</div>
<div class="line"><a id="l04345" name="l04345"></a><span class="lineno"> 4345</span>                UniValueType(), <span class="comment">// outputs (ARR or OBJ, checked later)</span></div>
<div class="line"><a id="l04346" name="l04346"></a><span class="lineno"> 4346</span>                UniValue::VNUM, <span class="comment">// conf_target</span></div>
<div class="line"><a id="l04347" name="l04347"></a><span class="lineno"> 4347</span>                UniValue::VSTR, <span class="comment">// estimate_mode</span></div>
<div class="line"><a id="l04348" name="l04348"></a><span class="lineno"> 4348</span>                UniValueType(), <span class="comment">// fee_rate, will be checked by AmountFromValue() in SetFeeEstimateMode()</span></div>
<div class="line"><a id="l04349" name="l04349"></a><span class="lineno"> 4349</span>                UniValue::VOBJ, <span class="comment">// options</span></div>
<div class="line"><a id="l04350" name="l04350"></a><span class="lineno"> 4350</span>                }, <span class="keyword">true</span></div>
<div class="line"><a id="l04351" name="l04351"></a><span class="lineno"> 4351</span>            );</div>
<div class="line"><a id="l04352" name="l04352"></a><span class="lineno"> 4352</span> </div>
<div class="line"><a id="l04353" name="l04353"></a><span class="lineno"> 4353</span>            std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l04354" name="l04354"></a><span class="lineno"> 4354</span>            <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l04355" name="l04355"></a><span class="lineno"> 4355</span> </div>
<div class="line"><a id="l04356" name="l04356"></a><span class="lineno"> 4356</span>            <a class="code hl_class" href="class_uni_value.html">UniValue</a> options{request.params[4].<a class="code hl_function" href="class_uni_value.html#a3661be0f5580daceb23e5338e3a0df22">isNull</a>() ? <a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a> : request.params[4]};</div>
<div class="line"><a id="l04357" name="l04357"></a><span class="lineno"> 4357</span>            <span class="keywordflow">if</span> (options.exists(<span class="stringliteral">&quot;conf_target&quot;</span>) || options.exists(<span class="stringliteral">&quot;estimate_mode&quot;</span>)) {</div>
<div class="line"><a id="l04358" name="l04358"></a><span class="lineno"> 4358</span>                <span class="keywordflow">if</span> (!request.params[1].isNull() || !request.params[2].isNull()) {</div>
<div class="line"><a id="l04359" name="l04359"></a><span class="lineno"> 4359</span>                    <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Pass conf_target and estimate_mode either as arguments or in the options object, but not both&quot;</span>);</div>
<div class="line"><a id="l04360" name="l04360"></a><span class="lineno"> 4360</span>                }</div>
<div class="line"><a id="l04361" name="l04361"></a><span class="lineno"> 4361</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04362" name="l04362"></a><span class="lineno"> 4362</span>                options.pushKV(<span class="stringliteral">&quot;conf_target&quot;</span>, request.params[1]);</div>
<div class="line"><a id="l04363" name="l04363"></a><span class="lineno"> 4363</span>                options.pushKV(<span class="stringliteral">&quot;estimate_mode&quot;</span>, request.params[2]);</div>
<div class="line"><a id="l04364" name="l04364"></a><span class="lineno"> 4364</span>            }</div>
<div class="line"><a id="l04365" name="l04365"></a><span class="lineno"> 4365</span>            <span class="keywordflow">if</span> (options.exists(<span class="stringliteral">&quot;fee_rate&quot;</span>)) {</div>
<div class="line"><a id="l04366" name="l04366"></a><span class="lineno"> 4366</span>                <span class="keywordflow">if</span> (!request.params[3].isNull()) {</div>
<div class="line"><a id="l04367" name="l04367"></a><span class="lineno"> 4367</span>                    <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Pass the fee_rate either as an argument, or in the options object, but not both&quot;</span>);</div>
<div class="line"><a id="l04368" name="l04368"></a><span class="lineno"> 4368</span>                }</div>
<div class="line"><a id="l04369" name="l04369"></a><span class="lineno"> 4369</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04370" name="l04370"></a><span class="lineno"> 4370</span>                options.pushKV(<span class="stringliteral">&quot;fee_rate&quot;</span>, request.params[3]);</div>
<div class="line"><a id="l04371" name="l04371"></a><span class="lineno"> 4371</span>            }</div>
<div class="line"><a id="l04372" name="l04372"></a><span class="lineno"> 4372</span>            <span class="keywordflow">if</span> (!options[<span class="stringliteral">&quot;conf_target&quot;</span>].isNull() &amp;&amp; (options[<span class="stringliteral">&quot;estimate_mode&quot;</span>].isNull() || (options[<span class="stringliteral">&quot;estimate_mode&quot;</span>].get_str() == <span class="stringliteral">&quot;unset&quot;</span>))) {</div>
<div class="line"><a id="l04373" name="l04373"></a><span class="lineno"> 4373</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Specify estimate_mode&quot;</span>);</div>
<div class="line"><a id="l04374" name="l04374"></a><span class="lineno"> 4374</span>            }</div>
<div class="line"><a id="l04375" name="l04375"></a><span class="lineno"> 4375</span>            <span class="keywordflow">if</span> (options.exists(<span class="stringliteral">&quot;feeRate&quot;</span>)) {</div>
<div class="line"><a id="l04376" name="l04376"></a><span class="lineno"> 4376</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Use fee_rate (&quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB) instead of feeRate&quot;</span>);</div>
<div class="line"><a id="l04377" name="l04377"></a><span class="lineno"> 4377</span>            }</div>
<div class="line"><a id="l04378" name="l04378"></a><span class="lineno"> 4378</span>            <span class="keywordflow">if</span> (options.exists(<span class="stringliteral">&quot;changeAddress&quot;</span>)) {</div>
<div class="line"><a id="l04379" name="l04379"></a><span class="lineno"> 4379</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Use change_address&quot;</span>);</div>
<div class="line"><a id="l04380" name="l04380"></a><span class="lineno"> 4380</span>            }</div>
<div class="line"><a id="l04381" name="l04381"></a><span class="lineno"> 4381</span>            <span class="keywordflow">if</span> (options.exists(<span class="stringliteral">&quot;changePosition&quot;</span>)) {</div>
<div class="line"><a id="l04382" name="l04382"></a><span class="lineno"> 4382</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Use change_position&quot;</span>);</div>
<div class="line"><a id="l04383" name="l04383"></a><span class="lineno"> 4383</span>            }</div>
<div class="line"><a id="l04384" name="l04384"></a><span class="lineno"> 4384</span>            <span class="keywordflow">if</span> (options.exists(<span class="stringliteral">&quot;includeWatching&quot;</span>)) {</div>
<div class="line"><a id="l04385" name="l04385"></a><span class="lineno"> 4385</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Use include_watching&quot;</span>);</div>
<div class="line"><a id="l04386" name="l04386"></a><span class="lineno"> 4386</span>            }</div>
<div class="line"><a id="l04387" name="l04387"></a><span class="lineno"> 4387</span>            <span class="keywordflow">if</span> (options.exists(<span class="stringliteral">&quot;lockUnspents&quot;</span>)) {</div>
<div class="line"><a id="l04388" name="l04388"></a><span class="lineno"> 4388</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Use lock_unspents&quot;</span>);</div>
<div class="line"><a id="l04389" name="l04389"></a><span class="lineno"> 4389</span>            }</div>
<div class="line"><a id="l04390" name="l04390"></a><span class="lineno"> 4390</span>            <span class="keywordflow">if</span> (options.exists(<span class="stringliteral">&quot;subtractFeeFromOutputs&quot;</span>)) {</div>
<div class="line"><a id="l04391" name="l04391"></a><span class="lineno"> 4391</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a>, <span class="stringliteral">&quot;Use subtract_fee_from_outputs&quot;</span>);</div>
<div class="line"><a id="l04392" name="l04392"></a><span class="lineno"> 4392</span>            }</div>
<div class="line"><a id="l04393" name="l04393"></a><span class="lineno"> 4393</span> </div>
<div class="line"><a id="l04394" name="l04394"></a><span class="lineno"> 4394</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> psbt_opt_in = options.exists(<span class="stringliteral">&quot;psbt&quot;</span>) &amp;&amp; options[<span class="stringliteral">&quot;psbt&quot;</span>].get_bool();</div>
<div class="line"><a id="l04395" name="l04395"></a><span class="lineno"> 4395</span> </div>
<div class="line"><a id="l04396" name="l04396"></a><span class="lineno"> 4396</span>            <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> fee;</div>
<div class="line"><a id="l04397" name="l04397"></a><span class="lineno"> 4397</span>            <span class="keywordtype">int</span> change_position;</div>
<div class="line"><a id="l04398" name="l04398"></a><span class="lineno"> 4398</span>            <span class="keywordtype">bool</span> rbf = pwallet-&gt;m_signal_rbf;</div>
<div class="line"><a id="l04399" name="l04399"></a><span class="lineno"> 4399</span>            <span class="keywordflow">if</span> (options.exists(<span class="stringliteral">&quot;replaceable&quot;</span>)) {</div>
<div class="line"><a id="l04400" name="l04400"></a><span class="lineno"> 4400</span>                rbf = options[<span class="stringliteral">&quot;replaceable&quot;</span>].get_bool();</div>
<div class="line"><a id="l04401" name="l04401"></a><span class="lineno"> 4401</span>            }</div>
<div class="line"><a id="l04402" name="l04402"></a><span class="lineno"> 4402</span>            <a class="code hl_struct" href="struct_c_mutable_transaction.html">CMutableTransaction</a> rawTx = <a class="code hl_function" href="rawtransaction__util_8cpp.html#a71903528afea17b236b3d96699275c44">ConstructTransaction</a>(options[<span class="stringliteral">&quot;inputs&quot;</span>], request.params[0], options[<span class="stringliteral">&quot;locktime&quot;</span>], rbf);</div>
<div class="line"><a id="l04403" name="l04403"></a><span class="lineno"> 4403</span>            <a class="code hl_class" href="class_c_coin_control.html">CCoinControl</a> coin_control;</div>
<div class="line"><a id="l04404" name="l04404"></a><span class="lineno"> 4404</span>            <span class="comment">// Automatically select coins, unless at least one is manually selected. Can</span></div>
<div class="line"><a id="l04405" name="l04405"></a><span class="lineno"> 4405</span>            <span class="comment">// be overridden by options.add_inputs.</span></div>
<div class="line"><a id="l04406" name="l04406"></a><span class="lineno"> 4406</span>            coin_control.<a class="code hl_variable" href="class_c_coin_control.html#aa5a916ab50a60b000b4cacf74912ccd4">m_add_inputs</a> = rawTx.<a class="code hl_variable" href="struct_c_mutable_transaction.html#ad6b1a0a773293fd153a1d384923631da">vin</a>.size() == 0;</div>
<div class="line"><a id="l04407" name="l04407"></a><span class="lineno"> 4407</span>            <a class="code hl_function" href="rpcwallet_8cpp.html#a3176a0e8760dda40a6bffdae6ad369e8">FundTransaction</a>(*pwallet, rawTx, fee, change_position, options, coin_control, <span class="comment">/* override_min_fee */</span> <span class="keyword">false</span>);</div>
<div class="line"><a id="l04408" name="l04408"></a><span class="lineno"> 4408</span> </div>
<div class="line"><a id="l04409" name="l04409"></a><span class="lineno"> 4409</span>            <span class="keywordtype">bool</span> add_to_wallet = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04410" name="l04410"></a><span class="lineno"> 4410</span>            <span class="keywordflow">if</span> (options.exists(<span class="stringliteral">&quot;add_to_wallet&quot;</span>)) {</div>
<div class="line"><a id="l04411" name="l04411"></a><span class="lineno"> 4411</span>                add_to_wallet = options[<span class="stringliteral">&quot;add_to_wallet&quot;</span>].get_bool();</div>
<div class="line"><a id="l04412" name="l04412"></a><span class="lineno"> 4412</span>            }</div>
<div class="line"><a id="l04413" name="l04413"></a><span class="lineno"> 4413</span> </div>
<div class="line"><a id="l04414" name="l04414"></a><span class="lineno"> 4414</span>            <span class="comment">// Make a blank psbt</span></div>
<div class="line"><a id="l04415" name="l04415"></a><span class="lineno"> 4415</span>            <a class="code hl_struct" href="struct_partially_signed_transaction.html">PartiallySignedTransaction</a> psbtx(rawTx);</div>
<div class="line"><a id="l04416" name="l04416"></a><span class="lineno"> 4416</span> </div>
<div class="line"><a id="l04417" name="l04417"></a><span class="lineno"> 4417</span>            <span class="comment">// First fill transaction with our data without signing,</span></div>
<div class="line"><a id="l04418" name="l04418"></a><span class="lineno"> 4418</span>            <span class="comment">// so external signers are not asked sign more than once.</span></div>
<div class="line"><a id="l04419" name="l04419"></a><span class="lineno"> 4419</span>            <span class="keywordtype">bool</span> complete;</div>
<div class="line"><a id="l04420" name="l04420"></a><span class="lineno"> 4420</span>            pwallet-&gt;FillPSBT(psbtx, complete, <a class="code hl_enumvalue" href="interpreter_8h.html#ac36f475ca5b446f4fde4c9b90bec77c8ab9456a9165db395967f3f02cf2609afa">SIGHASH_DEFAULT</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l04421" name="l04421"></a><span class="lineno"> 4421</span>            <span class="keyword">const</span> <a class="code hl_enumeration" href="error_8h.html#a857c3bfc8da2a43cebacd0582cc867ac">TransactionError</a> err = pwallet-&gt;FillPSBT(psbtx, complete, <a class="code hl_enumvalue" href="interpreter_8h.html#ac36f475ca5b446f4fde4c9b90bec77c8ab9456a9165db395967f3f02cf2609afa">SIGHASH_DEFAULT</a>, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l04422" name="l04422"></a><span class="lineno"> 4422</span>            <span class="keywordflow">if</span> (err != <a class="code hl_enumvalue" href="error_8h.html#a857c3bfc8da2a43cebacd0582cc867acae0aa021e21dddbd6d8cecec71e9cf564">TransactionError::OK</a>) {</div>
<div class="line"><a id="l04423" name="l04423"></a><span class="lineno"> 4423</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="rpc_2util_8cpp.html#a55991d82dc38be9b1c4e5673b8570c2d">JSONRPCTransactionError</a>(err);</div>
<div class="line"><a id="l04424" name="l04424"></a><span class="lineno"> 4424</span>            }</div>
<div class="line"><a id="l04425" name="l04425"></a><span class="lineno"> 4425</span> </div>
<div class="line"><a id="l04426" name="l04426"></a><span class="lineno"> 4426</span>            <a class="code hl_struct" href="struct_c_mutable_transaction.html">CMutableTransaction</a> mtx;</div>
<div class="line"><a id="l04427" name="l04427"></a><span class="lineno"> 4427</span>            complete = <a class="code hl_function" href="psbt_8cpp.html#aab3ec9bcf6f951016a077dcfcbb3da0a">FinalizeAndExtractPSBT</a>(psbtx, mtx);</div>
<div class="line"><a id="l04428" name="l04428"></a><span class="lineno"> 4428</span> </div>
<div class="line"><a id="l04429" name="l04429"></a><span class="lineno"> 4429</span>            <a class="code hl_class" href="class_uni_value.html">UniValue</a> result(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l04430" name="l04430"></a><span class="lineno"> 4430</span> </div>
<div class="line"><a id="l04431" name="l04431"></a><span class="lineno"> 4431</span>            <span class="keywordflow">if</span> (psbt_opt_in || !complete || !add_to_wallet) {</div>
<div class="line"><a id="l04432" name="l04432"></a><span class="lineno"> 4432</span>                <span class="comment">// Serialize the PSBT</span></div>
<div class="line"><a id="l04433" name="l04433"></a><span class="lineno"> 4433</span>                <a class="code hl_class" href="class_c_data_stream.html">CDataStream</a> ssTx(<a class="code hl_enumvalue" href="serialize_8h.html#a16af7b253440dadd46a80a4b9fddba4da652754eeaf79fba4fcf4c18597a6961c">SER_NETWORK</a>, <a class="code hl_variable" href="version_8h.html#a4e2497f7c9c4319adcaf945159ec63f4">PROTOCOL_VERSION</a>);</div>
<div class="line"><a id="l04434" name="l04434"></a><span class="lineno"> 4434</span>                ssTx &lt;&lt; psbtx;</div>
<div class="line"><a id="l04435" name="l04435"></a><span class="lineno"> 4435</span>                result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;psbt&quot;</span>, <a class="code hl_function" href="strencodings_8cpp.html#a5319d20c493fa005757afa8c77c739ee">EncodeBase64</a>(ssTx.<a class="code hl_function" href="class_c_data_stream.html#aac770a2b809917189c4476ee899b2d8b">str</a>()));</div>
<div class="line"><a id="l04436" name="l04436"></a><span class="lineno"> 4436</span>            }</div>
<div class="line"><a id="l04437" name="l04437"></a><span class="lineno"> 4437</span> </div>
<div class="line"><a id="l04438" name="l04438"></a><span class="lineno"> 4438</span>            <span class="keywordflow">if</span> (complete) {</div>
<div class="line"><a id="l04439" name="l04439"></a><span class="lineno"> 4439</span>                std::string err_string;</div>
<div class="line"><a id="l04440" name="l04440"></a><span class="lineno"> 4440</span>                std::string hex = <a class="code hl_function" href="core__io_8h.html#aadd59c0793b3ccee08ad1c3f4557c1c3">EncodeHexTx</a>(<a class="code hl_class" href="class_c_transaction.html">CTransaction</a>(mtx));</div>
<div class="line"><a id="l04441" name="l04441"></a><span class="lineno"> 4441</span>                <a class="code hl_typedef" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> tx(<a class="code hl_function" href="primitives_2transaction_8h.html#aca31166567483fee6deca52ac53569e1">MakeTransactionRef</a>(std::move(mtx)));</div>
<div class="line"><a id="l04442" name="l04442"></a><span class="lineno"> 4442</span>                result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;txid&quot;</span>, tx-&gt;GetHash().GetHex());</div>
<div class="line"><a id="l04443" name="l04443"></a><span class="lineno"> 4443</span>                <span class="keywordflow">if</span> (add_to_wallet &amp;&amp; !psbt_opt_in) {</div>
<div class="line"><a id="l04444" name="l04444"></a><span class="lineno"> 4444</span>                    pwallet-&gt;CommitTransaction(tx, {}, {} <span class="comment">/* orderForm */</span>);</div>
<div class="line"><a id="l04445" name="l04445"></a><span class="lineno"> 4445</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04446" name="l04446"></a><span class="lineno"> 4446</span>                    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;hex&quot;</span>, hex);</div>
<div class="line"><a id="l04447" name="l04447"></a><span class="lineno"> 4447</span>                }</div>
<div class="line"><a id="l04448" name="l04448"></a><span class="lineno"> 4448</span>            }</div>
<div class="line"><a id="l04449" name="l04449"></a><span class="lineno"> 4449</span>            result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;complete&quot;</span>, complete);</div>
<div class="line"><a id="l04450" name="l04450"></a><span class="lineno"> 4450</span> </div>
<div class="line"><a id="l04451" name="l04451"></a><span class="lineno"> 4451</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l04452" name="l04452"></a><span class="lineno"> 4452</span>        }</div>
<div class="line"><a id="l04453" name="l04453"></a><span class="lineno"> 4453</span>    };</div>
<div class="line"><a id="l04454" name="l04454"></a><span class="lineno"> 4454</span>}</div>
<div class="line"><a id="l04455" name="l04455"></a><span class="lineno"> 4455</span> </div>
<div class="line"><a id="l04456" name="l04456"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a07378078c8f1febcfecf348dd2b5d56c"> 4456</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a07378078c8f1febcfecf348dd2b5d56c">sethdseed</a>()</div>
<div class="line"><a id="l04457" name="l04457"></a><span class="lineno"> 4457</span>{</div>
<div class="line"><a id="l04458" name="l04458"></a><span class="lineno"> 4458</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;sethdseed&quot;</span>,</div>
<div class="line"><a id="l04459" name="l04459"></a><span class="lineno"> 4459</span>                <span class="stringliteral">&quot;\nSet or generate a new HD wallet seed. Non-HD wallets will not be upgraded to being a HD wallet. Wallets that are already\n&quot;</span></div>
<div class="line"><a id="l04460" name="l04460"></a><span class="lineno"> 4460</span>                <span class="stringliteral">&quot;HD will have a new HD seed set so that new keys added to the keypool will be derived from this new seed.\n&quot;</span></div>
<div class="line"><a id="l04461" name="l04461"></a><span class="lineno"> 4461</span>                <span class="stringliteral">&quot;\nNote that you will need to MAKE A NEW BACKUP of your wallet after setting the HD wallet seed.&quot;</span> +</div>
<div class="line"><a id="l04462" name="l04462"></a><span class="lineno"> 4462</span>        <a class="code hl_variable" href="rpcwallet_8cpp.html#af12e66dd08ab50e9dc1af62592a73f8f">HELP_REQUIRING_PASSPHRASE</a>,</div>
<div class="line"><a id="l04463" name="l04463"></a><span class="lineno"> 4463</span>                {</div>
<div class="line"><a id="l04464" name="l04464"></a><span class="lineno"> 4464</span>                    {<span class="stringliteral">&quot;newkeypool&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">true</span>}, <span class="stringliteral">&quot;Whether to flush old unused addresses, including change addresses, from the keypool and regenerate it.\n&quot;</span></div>
<div class="line"><a id="l04465" name="l04465"></a><span class="lineno"> 4465</span>                                         <span class="stringliteral">&quot;If true, the next address from getnewaddress and change address from getrawchangeaddress will be from this new seed.\n&quot;</span></div>
<div class="line"><a id="l04466" name="l04466"></a><span class="lineno"> 4466</span>                                         <span class="stringliteral">&quot;If false, addresses (including change addresses if the wallet already had HD Chain Split enabled) from the existing\n&quot;</span></div>
<div class="line"><a id="l04467" name="l04467"></a><span class="lineno"> 4467</span>                                         <span class="stringliteral">&quot;keypool will be used until it has been depleted.&quot;</span>},</div>
<div class="line"><a id="l04468" name="l04468"></a><span class="lineno"> 4468</span>                    {<span class="stringliteral">&quot;seed&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;random seed&quot;</span>}, <span class="stringliteral">&quot;The WIF private key to use as the new HD seed.\n&quot;</span></div>
<div class="line"><a id="l04469" name="l04469"></a><span class="lineno"> 4469</span>                                         <span class="stringliteral">&quot;The seed value can be retrieved using the dumpwallet command. It is the private key marked hdseed=1&quot;</span>},</div>
<div class="line"><a id="l04470" name="l04470"></a><span class="lineno"> 4470</span>                },</div>
<div class="line"><a id="l04471" name="l04471"></a><span class="lineno"> 4471</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ab50339a10e1de285ac99d4c3990b8693">RPCResult::Type::NONE</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l04472" name="l04472"></a><span class="lineno"> 4472</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l04473" name="l04473"></a><span class="lineno"> 4473</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;sethdseed&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l04474" name="l04474"></a><span class="lineno"> 4474</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;sethdseed&quot;</span>, <span class="stringliteral">&quot;false&quot;</span>)</div>
<div class="line"><a id="l04475" name="l04475"></a><span class="lineno"> 4475</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;sethdseed&quot;</span>, <span class="stringliteral">&quot;true \&quot;wifkey\&quot;&quot;</span>)</div>
<div class="line"><a id="l04476" name="l04476"></a><span class="lineno"> 4476</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;sethdseed&quot;</span>, <span class="stringliteral">&quot;true, \&quot;wifkey\&quot;&quot;</span>)</div>
<div class="line"><a id="l04477" name="l04477"></a><span class="lineno"> 4477</span>                },</div>
<div class="line"><a id="l04478" name="l04478"></a><span class="lineno"> 4478</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l04479" name="l04479"></a><span class="lineno"> 4479</span>{</div>
<div class="line"><a id="l04480" name="l04480"></a><span class="lineno"> 4480</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l04481" name="l04481"></a><span class="lineno"> 4481</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l04482" name="l04482"></a><span class="lineno"> 4482</span> </div>
<div class="line"><a id="l04483" name="l04483"></a><span class="lineno"> 4483</span>    <a class="code hl_class" href="class_legacy_script_pub_key_man.html">LegacyScriptPubKeyMan</a>&amp; spk_man = <a class="code hl_function" href="rpcwallet_8cpp.html#a6adff0544f801c37e53785b00d827fa8">EnsureLegacyScriptPubKeyMan</a>(*pwallet, <span class="keyword">true</span>);</div>
<div class="line"><a id="l04484" name="l04484"></a><span class="lineno"> 4484</span> </div>
<div class="line"><a id="l04485" name="l04485"></a><span class="lineno"> 4485</span>    <span class="keywordflow">if</span> (pwallet-&gt;IsWalletFlagSet(<a class="code hl_enumvalue" href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a47b6a219e3ca6733b2a251be3e5def86">WALLET_FLAG_DISABLE_PRIVATE_KEYS</a>)) {</div>
<div class="line"><a id="l04486" name="l04486"></a><span class="lineno"> 4486</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Cannot set a HD seed to a wallet with private keys disabled&quot;</span>);</div>
<div class="line"><a id="l04487" name="l04487"></a><span class="lineno"> 4487</span>    }</div>
<div class="line"><a id="l04488" name="l04488"></a><span class="lineno"> 4488</span> </div>
<div class="line"><a id="l04489" name="l04489"></a><span class="lineno"> 4489</span>    <a class="code hl_define" href="sync_8h.html#a35644e2b75a93da0cb0f6c768f34efa8">LOCK2</a>(pwallet-&gt;cs_wallet, spk_man.<a class="code hl_variable" href="class_fillable_signing_provider.html#af746182753c4b86ce00d101422ea6027">cs_KeyStore</a>);</div>
<div class="line"><a id="l04490" name="l04490"></a><span class="lineno"> 4490</span> </div>
<div class="line"><a id="l04491" name="l04491"></a><span class="lineno"> 4491</span>    <span class="comment">// Do not do anything to non-HD wallets</span></div>
<div class="line"><a id="l04492" name="l04492"></a><span class="lineno"> 4492</span>    <span class="keywordflow">if</span> (!pwallet-&gt;CanSupportFeature(<a class="code hl_enumvalue" href="walletutil_8h.html#a39a6b71da3eb95cddc0836d3b27ac7c9a83645d3028014b0d90d1157063a3083d">FEATURE_HD</a>)) {</div>
<div class="line"><a id="l04493" name="l04493"></a><span class="lineno"> 4493</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a>, <span class="stringliteral">&quot;Cannot set an HD seed on a non-HD wallet. Use the upgradewallet RPC in order to upgrade a non-HD wallet to HD&quot;</span>);</div>
<div class="line"><a id="l04494" name="l04494"></a><span class="lineno"> 4494</span>    }</div>
<div class="line"><a id="l04495" name="l04495"></a><span class="lineno"> 4495</span> </div>
<div class="line"><a id="l04496" name="l04496"></a><span class="lineno"> 4496</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#a6272e8ec945c32ab0d3e27cb0eab078b">EnsureWalletIsUnlocked</a>(*pwallet);</div>
<div class="line"><a id="l04497" name="l04497"></a><span class="lineno"> 4497</span> </div>
<div class="line"><a id="l04498" name="l04498"></a><span class="lineno"> 4498</span>    <span class="keywordtype">bool</span> flush_key_pool = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04499" name="l04499"></a><span class="lineno"> 4499</span>    <span class="keywordflow">if</span> (!request.params[0].isNull()) {</div>
<div class="line"><a id="l04500" name="l04500"></a><span class="lineno"> 4500</span>        flush_key_pool = request.params[0].get_bool();</div>
<div class="line"><a id="l04501" name="l04501"></a><span class="lineno"> 4501</span>    }</div>
<div class="line"><a id="l04502" name="l04502"></a><span class="lineno"> 4502</span> </div>
<div class="line"><a id="l04503" name="l04503"></a><span class="lineno"> 4503</span>    <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a> master_pub_key;</div>
<div class="line"><a id="l04504" name="l04504"></a><span class="lineno"> 4504</span>    <span class="keywordflow">if</span> (request.params[1].isNull()) {</div>
<div class="line"><a id="l04505" name="l04505"></a><span class="lineno"> 4505</span>        master_pub_key = spk_man.<a class="code hl_function" href="class_legacy_script_pub_key_man.html#aca11c5a43808a115f1b1849466d928f6">GenerateNewSeed</a>();</div>
<div class="line"><a id="l04506" name="l04506"></a><span class="lineno"> 4506</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04507" name="l04507"></a><span class="lineno"> 4507</span>        <a class="code hl_class" href="class_c_key.html">CKey</a> key = <a class="code hl_function" href="key__io_8cpp.html#a7941777b013d8d31958b7ffbc8c3563f">DecodeSecret</a>(request.params[1].get_str());</div>
<div class="line"><a id="l04508" name="l04508"></a><span class="lineno"> 4508</span>        <span class="keywordflow">if</span> (!key.<a class="code hl_function" href="class_c_key.html#a56e06c48d504a1a65e244e5fc35cdecc">IsValid</a>()) {</div>
<div class="line"><a id="l04509" name="l04509"></a><span class="lineno"> 4509</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <span class="stringliteral">&quot;Invalid private key&quot;</span>);</div>
<div class="line"><a id="l04510" name="l04510"></a><span class="lineno"> 4510</span>        }</div>
<div class="line"><a id="l04511" name="l04511"></a><span class="lineno"> 4511</span> </div>
<div class="line"><a id="l04512" name="l04512"></a><span class="lineno"> 4512</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="rpcwallet_8cpp.html#a750ef446820a1d94f687cac4cea04011">HaveKey</a>(spk_man, key)) {</div>
<div class="line"><a id="l04513" name="l04513"></a><span class="lineno"> 4513</span>            <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <span class="stringliteral">&quot;Already have this key (either as an HD seed or as a loose private key)&quot;</span>);</div>
<div class="line"><a id="l04514" name="l04514"></a><span class="lineno"> 4514</span>        }</div>
<div class="line"><a id="l04515" name="l04515"></a><span class="lineno"> 4515</span> </div>
<div class="line"><a id="l04516" name="l04516"></a><span class="lineno"> 4516</span>        master_pub_key = spk_man.<a class="code hl_function" href="class_legacy_script_pub_key_man.html#ae297da8721692890b66fd4ba2f3f4259">DeriveNewSeed</a>(key);</div>
<div class="line"><a id="l04517" name="l04517"></a><span class="lineno"> 4517</span>    }</div>
<div class="line"><a id="l04518" name="l04518"></a><span class="lineno"> 4518</span> </div>
<div class="line"><a id="l04519" name="l04519"></a><span class="lineno"> 4519</span>    spk_man.<a class="code hl_function" href="class_legacy_script_pub_key_man.html#a300f20b5df4b127fa92e29f954a61bbc">SetHDSeed</a>(master_pub_key);</div>
<div class="line"><a id="l04520" name="l04520"></a><span class="lineno"> 4520</span>    <span class="keywordflow">if</span> (flush_key_pool) spk_man.<a class="code hl_function" href="class_legacy_script_pub_key_man.html#ab50971b7c07a1814423218b10dbf3b56">NewKeyPool</a>();</div>
<div class="line"><a id="l04521" name="l04521"></a><span class="lineno"> 4521</span> </div>
<div class="line"><a id="l04522" name="l04522"></a><span class="lineno"> 4522</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l04523" name="l04523"></a><span class="lineno"> 4523</span>},</div>
<div class="line"><a id="l04524" name="l04524"></a><span class="lineno"> 4524</span>    };</div>
<div class="line"><a id="l04525" name="l04525"></a><span class="lineno"> 4525</span>}</div>
<div class="line"><a id="l04526" name="l04526"></a><span class="lineno"> 4526</span> </div>
<div class="line"><a id="l04527" name="l04527"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a2284f3460f3b1ca6cdab55f8a0a83721"> 4527</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a2284f3460f3b1ca6cdab55f8a0a83721">walletprocesspsbt</a>()</div>
<div class="line"><a id="l04528" name="l04528"></a><span class="lineno"> 4528</span>{</div>
<div class="line"><a id="l04529" name="l04529"></a><span class="lineno"> 4529</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;walletprocesspsbt&quot;</span>,</div>
<div class="line"><a id="l04530" name="l04530"></a><span class="lineno"> 4530</span>                <span class="stringliteral">&quot;\nUpdate a PSBT with input information from our wallet and then sign inputs\n&quot;</span></div>
<div class="line"><a id="l04531" name="l04531"></a><span class="lineno"> 4531</span>                <span class="stringliteral">&quot;that we can sign for.&quot;</span> +</div>
<div class="line"><a id="l04532" name="l04532"></a><span class="lineno"> 4532</span>        <a class="code hl_variable" href="rpcwallet_8cpp.html#af12e66dd08ab50e9dc1af62592a73f8f">HELP_REQUIRING_PASSPHRASE</a>,</div>
<div class="line"><a id="l04533" name="l04533"></a><span class="lineno"> 4533</span>                {</div>
<div class="line"><a id="l04534" name="l04534"></a><span class="lineno"> 4534</span>                    {<span class="stringliteral">&quot;psbt&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The transaction base64 string&quot;</span>},</div>
<div class="line"><a id="l04535" name="l04535"></a><span class="lineno"> 4535</span>                    {<span class="stringliteral">&quot;sign&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">true</span>}, <span class="stringliteral">&quot;Also sign the transaction when updating (requires wallet to be unlocked)&quot;</span>},</div>
<div class="line"><a id="l04536" name="l04536"></a><span class="lineno"> 4536</span>                    {<span class="stringliteral">&quot;sighashtype&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="stringliteral">&quot;DEFAULT&quot;</span>}, <span class="stringliteral">&quot;The signature hash type to sign with if not specified by the PSBT. Must be one of\n&quot;</span></div>
<div class="line"><a id="l04537" name="l04537"></a><span class="lineno"> 4537</span>            <span class="stringliteral">&quot;       \&quot;DEFAULT\&quot;\n&quot;</span></div>
<div class="line"><a id="l04538" name="l04538"></a><span class="lineno"> 4538</span>            <span class="stringliteral">&quot;       \&quot;ALL\&quot;\n&quot;</span></div>
<div class="line"><a id="l04539" name="l04539"></a><span class="lineno"> 4539</span>            <span class="stringliteral">&quot;       \&quot;NONE\&quot;\n&quot;</span></div>
<div class="line"><a id="l04540" name="l04540"></a><span class="lineno"> 4540</span>            <span class="stringliteral">&quot;       \&quot;SINGLE\&quot;\n&quot;</span></div>
<div class="line"><a id="l04541" name="l04541"></a><span class="lineno"> 4541</span>            <span class="stringliteral">&quot;       \&quot;ALL|ANYONECANPAY\&quot;\n&quot;</span></div>
<div class="line"><a id="l04542" name="l04542"></a><span class="lineno"> 4542</span>            <span class="stringliteral">&quot;       \&quot;NONE|ANYONECANPAY\&quot;\n&quot;</span></div>
<div class="line"><a id="l04543" name="l04543"></a><span class="lineno"> 4543</span>            <span class="stringliteral">&quot;       \&quot;SINGLE|ANYONECANPAY\&quot;&quot;</span>},</div>
<div class="line"><a id="l04544" name="l04544"></a><span class="lineno"> 4544</span>                    {<span class="stringliteral">&quot;bip32derivs&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">true</span>}, <span class="stringliteral">&quot;Include BIP 32 derivation paths for public keys if we know them&quot;</span>},</div>
<div class="line"><a id="l04545" name="l04545"></a><span class="lineno"> 4545</span>                },</div>
<div class="line"><a id="l04546" name="l04546"></a><span class="lineno"> 4546</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l04547" name="l04547"></a><span class="lineno"> 4547</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l04548" name="l04548"></a><span class="lineno"> 4548</span>                    {</div>
<div class="line"><a id="l04549" name="l04549"></a><span class="lineno"> 4549</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;psbt&quot;</span>, <span class="stringliteral">&quot;The base64-encoded partially signed transaction&quot;</span>},</div>
<div class="line"><a id="l04550" name="l04550"></a><span class="lineno"> 4550</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a>, <span class="stringliteral">&quot;complete&quot;</span>, <span class="stringliteral">&quot;If the transaction has a complete set of signatures&quot;</span>},</div>
<div class="line"><a id="l04551" name="l04551"></a><span class="lineno"> 4551</span>                    }</div>
<div class="line"><a id="l04552" name="l04552"></a><span class="lineno"> 4552</span>                },</div>
<div class="line"><a id="l04553" name="l04553"></a><span class="lineno"> 4553</span>                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l04554" name="l04554"></a><span class="lineno"> 4554</span>                    <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;walletprocesspsbt&quot;</span>, <span class="stringliteral">&quot;\&quot;psbt\&quot;&quot;</span>)</div>
<div class="line"><a id="l04555" name="l04555"></a><span class="lineno"> 4555</span>                },</div>
<div class="line"><a id="l04556" name="l04556"></a><span class="lineno"> 4556</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l04557" name="l04557"></a><span class="lineno"> 4557</span>{</div>
<div class="line"><a id="l04558" name="l04558"></a><span class="lineno"> 4558</span>    <span class="keyword">const</span> std::shared_ptr&lt;const CWallet&gt; pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l04559" name="l04559"></a><span class="lineno"> 4559</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l04560" name="l04560"></a><span class="lineno"> 4560</span> </div>
<div class="line"><a id="l04561" name="l04561"></a><span class="lineno"> 4561</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>{*pwallet};</div>
<div class="line"><a id="l04562" name="l04562"></a><span class="lineno"> 4562</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l04563" name="l04563"></a><span class="lineno"> 4563</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l04564" name="l04564"></a><span class="lineno"> 4564</span>    <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l04565" name="l04565"></a><span class="lineno"> 4565</span> </div>
<div class="line"><a id="l04566" name="l04566"></a><span class="lineno"> 4566</span>    <a class="code hl_function" href="rpc_2util_8cpp.html#a1d3e3ccc5d3ba3ee1314be41a2039e0f">RPCTypeCheck</a>(request.params, {UniValue::VSTR, UniValue::VBOOL, UniValue::VSTR});</div>
<div class="line"><a id="l04567" name="l04567"></a><span class="lineno"> 4567</span> </div>
<div class="line"><a id="l04568" name="l04568"></a><span class="lineno"> 4568</span>    <span class="comment">// Unserialize the transaction</span></div>
<div class="line"><a id="l04569" name="l04569"></a><span class="lineno"> 4569</span>    <a class="code hl_struct" href="struct_partially_signed_transaction.html">PartiallySignedTransaction</a> psbtx;</div>
<div class="line"><a id="l04570" name="l04570"></a><span class="lineno"> 4570</span>    std::string <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>;</div>
<div class="line"><a id="l04571" name="l04571"></a><span class="lineno"> 4571</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="psbt_8cpp.html#a17e0c0d158233f8a584b3c209399ac95">DecodeBase64PSBT</a>(psbtx, request.params[0].get_str(), <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>)) {</div>
<div class="line"><a id="l04572" name="l04572"></a><span class="lineno"> 4572</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272">RPC_DESERIALIZATION_ERROR</a>, <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;TX decode failed %s&quot;</span>, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>));</div>
<div class="line"><a id="l04573" name="l04573"></a><span class="lineno"> 4573</span>    }</div>
<div class="line"><a id="l04574" name="l04574"></a><span class="lineno"> 4574</span> </div>
<div class="line"><a id="l04575" name="l04575"></a><span class="lineno"> 4575</span>    <span class="comment">// Get the sighash type</span></div>
<div class="line"><a id="l04576" name="l04576"></a><span class="lineno"> 4576</span>    <span class="keywordtype">int</span> nHashType = <a class="code hl_function" href="core__io_8h.html#a54a58438a2f3f96d0697910ca68aa9da">ParseSighashString</a>(request.params[2]);</div>
<div class="line"><a id="l04577" name="l04577"></a><span class="lineno"> 4577</span> </div>
<div class="line"><a id="l04578" name="l04578"></a><span class="lineno"> 4578</span>    <span class="comment">// Fill transaction with our data and also sign</span></div>
<div class="line"><a id="l04579" name="l04579"></a><span class="lineno"> 4579</span>    <span class="keywordtype">bool</span> sign = request.params[1].isNull() ? true : request.params[1].get_bool();</div>
<div class="line"><a id="l04580" name="l04580"></a><span class="lineno"> 4580</span>    <span class="keywordtype">bool</span> bip32derivs = request.params[3].isNull() ? true : request.params[3].get_bool();</div>
<div class="line"><a id="l04581" name="l04581"></a><span class="lineno"> 4581</span>    <span class="keywordtype">bool</span> complete = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04582" name="l04582"></a><span class="lineno"> 4582</span> </div>
<div class="line"><a id="l04583" name="l04583"></a><span class="lineno"> 4583</span>    <span class="keywordflow">if</span> (sign) <a class="code hl_function" href="rpcwallet_8cpp.html#a6272e8ec945c32ab0d3e27cb0eab078b">EnsureWalletIsUnlocked</a>(*pwallet);</div>
<div class="line"><a id="l04584" name="l04584"></a><span class="lineno"> 4584</span> </div>
<div class="line"><a id="l04585" name="l04585"></a><span class="lineno"> 4585</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="error_8h.html#a857c3bfc8da2a43cebacd0582cc867ac">TransactionError</a> err{<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.FillPSBT(psbtx, complete, nHashType, sign, bip32derivs)};</div>
<div class="line"><a id="l04586" name="l04586"></a><span class="lineno"> 4586</span>    <span class="keywordflow">if</span> (err != <a class="code hl_enumvalue" href="error_8h.html#a857c3bfc8da2a43cebacd0582cc867acae0aa021e21dddbd6d8cecec71e9cf564">TransactionError::OK</a>) {</div>
<div class="line"><a id="l04587" name="l04587"></a><span class="lineno"> 4587</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="rpc_2util_8cpp.html#a55991d82dc38be9b1c4e5673b8570c2d">JSONRPCTransactionError</a>(err);</div>
<div class="line"><a id="l04588" name="l04588"></a><span class="lineno"> 4588</span>    }</div>
<div class="line"><a id="l04589" name="l04589"></a><span class="lineno"> 4589</span> </div>
<div class="line"><a id="l04590" name="l04590"></a><span class="lineno"> 4590</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> result(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l04591" name="l04591"></a><span class="lineno"> 4591</span>    <a class="code hl_class" href="class_c_data_stream.html">CDataStream</a> ssTx(<a class="code hl_enumvalue" href="serialize_8h.html#a16af7b253440dadd46a80a4b9fddba4da652754eeaf79fba4fcf4c18597a6961c">SER_NETWORK</a>, <a class="code hl_variable" href="version_8h.html#a4e2497f7c9c4319adcaf945159ec63f4">PROTOCOL_VERSION</a>);</div>
<div class="line"><a id="l04592" name="l04592"></a><span class="lineno"> 4592</span>    ssTx &lt;&lt; psbtx;</div>
<div class="line"><a id="l04593" name="l04593"></a><span class="lineno"> 4593</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;psbt&quot;</span>, <a class="code hl_function" href="strencodings_8cpp.html#a5319d20c493fa005757afa8c77c739ee">EncodeBase64</a>(ssTx.<a class="code hl_function" href="class_c_data_stream.html#aac770a2b809917189c4476ee899b2d8b">str</a>()));</div>
<div class="line"><a id="l04594" name="l04594"></a><span class="lineno"> 4594</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;complete&quot;</span>, complete);</div>
<div class="line"><a id="l04595" name="l04595"></a><span class="lineno"> 4595</span> </div>
<div class="line"><a id="l04596" name="l04596"></a><span class="lineno"> 4596</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l04597" name="l04597"></a><span class="lineno"> 4597</span>},</div>
<div class="line"><a id="l04598" name="l04598"></a><span class="lineno"> 4598</span>    };</div>
<div class="line"><a id="l04599" name="l04599"></a><span class="lineno"> 4599</span>}</div>
<div class="line"><a id="l04600" name="l04600"></a><span class="lineno"> 4600</span> </div>
<div class="line"><a id="l04601" name="l04601"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a65e98e958efafb052757d356d77800ec"> 4601</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a65e98e958efafb052757d356d77800ec">walletcreatefundedpsbt</a>()</div>
<div class="line"><a id="l04602" name="l04602"></a><span class="lineno"> 4602</span>{</div>
<div class="line"><a id="l04603" name="l04603"></a><span class="lineno"> 4603</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;walletcreatefundedpsbt&quot;</span>,</div>
<div class="line"><a id="l04604" name="l04604"></a><span class="lineno"> 4604</span>                <span class="stringliteral">&quot;\nCreates and funds a transaction in the Partially Signed Transaction format.\n&quot;</span></div>
<div class="line"><a id="l04605" name="l04605"></a><span class="lineno"> 4605</span>                <span class="stringliteral">&quot;Implements the Creator and Updater roles.\n&quot;</span></div>
<div class="line"><a id="l04606" name="l04606"></a><span class="lineno"> 4606</span>                <span class="stringliteral">&quot;All existing inputs must either have their previous output transaction be in the wallet\n&quot;</span></div>
<div class="line"><a id="l04607" name="l04607"></a><span class="lineno"> 4607</span>                <span class="stringliteral">&quot;or be in the UTXO set. Solving data must be provided for non-wallet inputs.\n&quot;</span>,</div>
<div class="line"><a id="l04608" name="l04608"></a><span class="lineno"> 4608</span>                {</div>
<div class="line"><a id="l04609" name="l04609"></a><span class="lineno"> 4609</span>                    {<span class="stringliteral">&quot;inputs&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;Leave empty to add inputs automatically. See add_inputs option.&quot;</span>,</div>
<div class="line"><a id="l04610" name="l04610"></a><span class="lineno"> 4610</span>                        {</div>
<div class="line"><a id="l04611" name="l04611"></a><span class="lineno"> 4611</span>                            {<span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2af34d534adfb78a9e6432be4621a93eec">RPCArg::Type::OBJ</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l04612" name="l04612"></a><span class="lineno"> 4612</span>                                {</div>
<div class="line"><a id="l04613" name="l04613"></a><span class="lineno"> 4613</span>                                    {<span class="stringliteral">&quot;txid&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The transaction id&quot;</span>},</div>
<div class="line"><a id="l04614" name="l04614"></a><span class="lineno"> 4614</span>                                    {<span class="stringliteral">&quot;vout&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The output number&quot;</span>},</div>
<div class="line"><a id="l04615" name="l04615"></a><span class="lineno"> 4615</span>                                    {<span class="stringliteral">&quot;sequence&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;depends on the value of the &#39;locktime&#39; and &#39;options.replaceable&#39; arguments&quot;</span>}, <span class="stringliteral">&quot;The sequence number&quot;</span>},</div>
<div class="line"><a id="l04616" name="l04616"></a><span class="lineno"> 4616</span>                                },</div>
<div class="line"><a id="l04617" name="l04617"></a><span class="lineno"> 4617</span>                            },</div>
<div class="line"><a id="l04618" name="l04618"></a><span class="lineno"> 4618</span>                        },</div>
<div class="line"><a id="l04619" name="l04619"></a><span class="lineno"> 4619</span>                        },</div>
<div class="line"><a id="l04620" name="l04620"></a><span class="lineno"> 4620</span>                    {<span class="stringliteral">&quot;outputs&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;The outputs (key-value pairs), where none of the keys are duplicated.\n&quot;</span></div>
<div class="line"><a id="l04621" name="l04621"></a><span class="lineno"> 4621</span>                            <span class="stringliteral">&quot;That is, each address can only appear once and there can only be one &#39;data&#39; object.\n&quot;</span></div>
<div class="line"><a id="l04622" name="l04622"></a><span class="lineno"> 4622</span>                            <span class="stringliteral">&quot;For compatibility reasons, a dictionary, which holds the key-value pairs directly, is also\n&quot;</span></div>
<div class="line"><a id="l04623" name="l04623"></a><span class="lineno"> 4623</span>                            <span class="stringliteral">&quot;accepted as second parameter.&quot;</span>,</div>
<div class="line"><a id="l04624" name="l04624"></a><span class="lineno"> 4624</span>                        {</div>
<div class="line"><a id="l04625" name="l04625"></a><span class="lineno"> 4625</span>                            {<span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a39fad5e2aa21550787e1e716ecc4829b">RPCArg::Type::OBJ_USER_KEYS</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l04626" name="l04626"></a><span class="lineno"> 4626</span>                                {</div>
<div class="line"><a id="l04627" name="l04627"></a><span class="lineno"> 4627</span>                                    {<span class="stringliteral">&quot;address&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;A key-value pair. The key (string) is the bitcoin address, the value (float or string) is the amount in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l04628" name="l04628"></a><span class="lineno"> 4628</span>                                },</div>
<div class="line"><a id="l04629" name="l04629"></a><span class="lineno"> 4629</span>                                },</div>
<div class="line"><a id="l04630" name="l04630"></a><span class="lineno"> 4630</span>                            {<span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2af34d534adfb78a9e6432be4621a93eec">RPCArg::Type::OBJ</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l04631" name="l04631"></a><span class="lineno"> 4631</span>                                {</div>
<div class="line"><a id="l04632" name="l04632"></a><span class="lineno"> 4632</span>                                    {<span class="stringliteral">&quot;data&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;A key-value pair. The key must be \&quot;data\&quot;, the value is hex-encoded data&quot;</span>},</div>
<div class="line"><a id="l04633" name="l04633"></a><span class="lineno"> 4633</span>                                },</div>
<div class="line"><a id="l04634" name="l04634"></a><span class="lineno"> 4634</span>                            },</div>
<div class="line"><a id="l04635" name="l04635"></a><span class="lineno"> 4635</span>                        },</div>
<div class="line"><a id="l04636" name="l04636"></a><span class="lineno"> 4636</span>                    },</div>
<div class="line"><a id="l04637" name="l04637"></a><span class="lineno"> 4637</span>                    {<span class="stringliteral">&quot;locktime&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{0}, <span class="stringliteral">&quot;Raw locktime. Non-0 value also locktime-activates inputs&quot;</span>},</div>
<div class="line"><a id="l04638" name="l04638"></a><span class="lineno"> 4638</span>                    {<span class="stringliteral">&quot;options&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2af34d534adfb78a9e6432be4621a93eec">RPCArg::Type::OBJ</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l04639" name="l04639"></a><span class="lineno"> 4639</span>                        Cat&lt;std::vector&lt;RPCArg&gt;&gt;(</div>
<div class="line"><a id="l04640" name="l04640"></a><span class="lineno"> 4640</span>                        {</div>
<div class="line"><a id="l04641" name="l04641"></a><span class="lineno"> 4641</span>                            {<span class="stringliteral">&quot;add_inputs&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;If inputs are specified, automatically include more if they are not enough.&quot;</span>},</div>
<div class="line"><a id="l04642" name="l04642"></a><span class="lineno"> 4642</span>                            {<span class="stringliteral">&quot;include_unsafe&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;Include inputs that are not safe to spend (unconfirmed transactions from outside keys and unconfirmed replacement transactions).\n&quot;</span></div>
<div class="line"><a id="l04643" name="l04643"></a><span class="lineno"> 4643</span>                                                          <span class="stringliteral">&quot;Warning: the resulting transaction may become invalid if one of the unsafe inputs disappears.\n&quot;</span></div>
<div class="line"><a id="l04644" name="l04644"></a><span class="lineno"> 4644</span>                                                          <span class="stringliteral">&quot;If that happens, you will need to fund the transaction with different inputs and republish it.&quot;</span>},</div>
<div class="line"><a id="l04645" name="l04645"></a><span class="lineno"> 4645</span>                            {<span class="stringliteral">&quot;changeAddress&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;pool address&quot;</span>}, <span class="stringliteral">&quot;The bitcoin address to receive the change&quot;</span>},</div>
<div class="line"><a id="l04646" name="l04646"></a><span class="lineno"> 4646</span>                            {<span class="stringliteral">&quot;changePosition&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;random&quot;</span>}, <span class="stringliteral">&quot;The index of the change output&quot;</span>},</div>
<div class="line"><a id="l04647" name="l04647"></a><span class="lineno"> 4647</span>                            {<span class="stringliteral">&quot;change_type&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;set by -changetype&quot;</span>}, <span class="stringliteral">&quot;The output type to use. Only valid if changeAddress is not specified. Options are \&quot;legacy\&quot;, \&quot;p2sh-segwit\&quot;, and \&quot;bech32\&quot;.&quot;</span>},</div>
<div class="line"><a id="l04648" name="l04648"></a><span class="lineno"> 4648</span>                            {<span class="stringliteral">&quot;includeWatching&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;true for watch-only wallets, otherwise false&quot;</span>}, <span class="stringliteral">&quot;Also select inputs which are watch only&quot;</span>},</div>
<div class="line"><a id="l04649" name="l04649"></a><span class="lineno"> 4649</span>                            {<span class="stringliteral">&quot;lockUnspents&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">false</span>}, <span class="stringliteral">&quot;Lock selected unspent outputs&quot;</span>},</div>
<div class="line"><a id="l04650" name="l04650"></a><span class="lineno"> 4650</span>                            {<span class="stringliteral">&quot;fee_rate&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;not set, fall back to wallet fee estimation&quot;</span>}, <span class="stringliteral">&quot;Specify a fee rate in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a> + <span class="stringliteral">&quot;/vB.&quot;</span>},</div>
<div class="line"><a id="l04651" name="l04651"></a><span class="lineno"> 4651</span>                            {<span class="stringliteral">&quot;feeRate&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a>, <a class="code hl_typedef" href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a>{<span class="stringliteral">&quot;not set, fall back to wallet fee estimation&quot;</span>}, <span class="stringliteral">&quot;Specify a fee rate in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot;/kvB.&quot;</span>},</div>
<div class="line"><a id="l04652" name="l04652"></a><span class="lineno"> 4652</span>                            {<span class="stringliteral">&quot;subtractFeeFromOutputs&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a>}, <span class="stringliteral">&quot;The outputs to subtract the fee from.\n&quot;</span></div>
<div class="line"><a id="l04653" name="l04653"></a><span class="lineno"> 4653</span>                                                          <span class="stringliteral">&quot;The fee will be equally deducted from the amount of each specified output.\n&quot;</span></div>
<div class="line"><a id="l04654" name="l04654"></a><span class="lineno"> 4654</span>                                                          <span class="stringliteral">&quot;Those recipients will receive less bitcoins than you enter in their corresponding amount field.\n&quot;</span></div>
<div class="line"><a id="l04655" name="l04655"></a><span class="lineno"> 4655</span>                                                          <span class="stringliteral">&quot;If no outputs are specified here, the sender pays the fee.&quot;</span>,</div>
<div class="line"><a id="l04656" name="l04656"></a><span class="lineno"> 4656</span>                                {</div>
<div class="line"><a id="l04657" name="l04657"></a><span class="lineno"> 4657</span>                                    {<span class="stringliteral">&quot;vout_index&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a>, <span class="stringliteral">&quot;The zero-based output index, before a change output is added.&quot;</span>},</div>
<div class="line"><a id="l04658" name="l04658"></a><span class="lineno"> 4658</span>                                },</div>
<div class="line"><a id="l04659" name="l04659"></a><span class="lineno"> 4659</span>                            },</div>
<div class="line"><a id="l04660" name="l04660"></a><span class="lineno"> 4660</span>                        },</div>
<div class="line"><a id="l04661" name="l04661"></a><span class="lineno"> 4661</span>                        <a class="code hl_function" href="rpcwallet_8cpp.html#a8e03bdc2be04101c151cc25d2c3611d6">FundTxDoc</a>()),</div>
<div class="line"><a id="l04662" name="l04662"></a><span class="lineno"> 4662</span>                        <span class="stringliteral">&quot;options&quot;</span>},</div>
<div class="line"><a id="l04663" name="l04663"></a><span class="lineno"> 4663</span>                    {<span class="stringliteral">&quot;bip32derivs&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<span class="keyword">true</span>}, <span class="stringliteral">&quot;Include BIP 32 derivation paths for public keys if we know them&quot;</span>},</div>
<div class="line"><a id="l04664" name="l04664"></a><span class="lineno"> 4664</span>                },</div>
<div class="line"><a id="l04665" name="l04665"></a><span class="lineno"> 4665</span>                <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l04666" name="l04666"></a><span class="lineno"> 4666</span>                    <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l04667" name="l04667"></a><span class="lineno"> 4667</span>                    {</div>
<div class="line"><a id="l04668" name="l04668"></a><span class="lineno"> 4668</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;psbt&quot;</span>, <span class="stringliteral">&quot;The resulting raw transaction (base64-encoded string)&quot;</span>},</div>
<div class="line"><a id="l04669" name="l04669"></a><span class="lineno"> 4669</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a>, <span class="stringliteral">&quot;fee&quot;</span>, <span class="stringliteral">&quot;Fee in &quot;</span> + <a class="code hl_variable" href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a> + <span class="stringliteral">&quot; the resulting transaction pays&quot;</span>},</div>
<div class="line"><a id="l04670" name="l04670"></a><span class="lineno"> 4670</span>                        {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;changepos&quot;</span>, <span class="stringliteral">&quot;The position of the added change output, or -1&quot;</span>},</div>
<div class="line"><a id="l04671" name="l04671"></a><span class="lineno"> 4671</span>                    }</div>
<div class="line"><a id="l04672" name="l04672"></a><span class="lineno"> 4672</span>                                },</div>
<div class="line"><a id="l04673" name="l04673"></a><span class="lineno"> 4673</span>                                <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l04674" name="l04674"></a><span class="lineno"> 4674</span>                            <span class="stringliteral">&quot;\nCreate a transaction with no inputs\n&quot;</span></div>
<div class="line"><a id="l04675" name="l04675"></a><span class="lineno"> 4675</span>                            + <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;walletcreatefundedpsbt&quot;</span>, <span class="stringliteral">&quot;\&quot;[{\\\&quot;txid\\\&quot;:\\\&quot;myid\\\&quot;,\\\&quot;vout\\\&quot;:0}]\&quot; \&quot;[{\\\&quot;data\\\&quot;:\\\&quot;00010203\\\&quot;}]\&quot;&quot;</span>)</div>
<div class="line"><a id="l04676" name="l04676"></a><span class="lineno"> 4676</span>                                },</div>
<div class="line"><a id="l04677" name="l04677"></a><span class="lineno"> 4677</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l04678" name="l04678"></a><span class="lineno"> 4678</span>{</div>
<div class="line"><a id="l04679" name="l04679"></a><span class="lineno"> 4679</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l04680" name="l04680"></a><span class="lineno"> 4680</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l04681" name="l04681"></a><span class="lineno"> 4681</span> </div>
<div class="line"><a id="l04682" name="l04682"></a><span class="lineno"> 4682</span>    <a class="code hl_class" href="class_c_wallet.html">CWallet</a>&amp; <a class="code hl_namespace" href="namespacewallet.html">wallet</a>{*pwallet};</div>
<div class="line"><a id="l04683" name="l04683"></a><span class="lineno"> 4683</span>    <span class="comment">// Make sure the results are valid at least up to the most recent block</span></div>
<div class="line"><a id="l04684" name="l04684"></a><span class="lineno"> 4684</span>    <span class="comment">// the user could have gotten from another RPC command prior to now</span></div>
<div class="line"><a id="l04685" name="l04685"></a><span class="lineno"> 4685</span>    <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.BlockUntilSyncedToCurrentChain();</div>
<div class="line"><a id="l04686" name="l04686"></a><span class="lineno"> 4686</span> </div>
<div class="line"><a id="l04687" name="l04687"></a><span class="lineno"> 4687</span>    <a class="code hl_function" href="rpc_2util_8cpp.html#a1d3e3ccc5d3ba3ee1314be41a2039e0f">RPCTypeCheck</a>(request.params, {</div>
<div class="line"><a id="l04688" name="l04688"></a><span class="lineno"> 4688</span>        UniValue::VARR,</div>
<div class="line"><a id="l04689" name="l04689"></a><span class="lineno"> 4689</span>        UniValueType(), <span class="comment">// ARR or OBJ, checked later</span></div>
<div class="line"><a id="l04690" name="l04690"></a><span class="lineno"> 4690</span>        UniValue::VNUM,</div>
<div class="line"><a id="l04691" name="l04691"></a><span class="lineno"> 4691</span>        UniValue::VOBJ,</div>
<div class="line"><a id="l04692" name="l04692"></a><span class="lineno"> 4692</span>        UniValue::VBOOL</div>
<div class="line"><a id="l04693" name="l04693"></a><span class="lineno"> 4693</span>        }, <span class="keyword">true</span></div>
<div class="line"><a id="l04694" name="l04694"></a><span class="lineno"> 4694</span>    );</div>
<div class="line"><a id="l04695" name="l04695"></a><span class="lineno"> 4695</span> </div>
<div class="line"><a id="l04696" name="l04696"></a><span class="lineno"> 4696</span>    <a class="code hl_typedef" href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a> fee;</div>
<div class="line"><a id="l04697" name="l04697"></a><span class="lineno"> 4697</span>    <span class="keywordtype">int</span> change_position;</div>
<div class="line"><a id="l04698" name="l04698"></a><span class="lineno"> 4698</span>    <span class="keywordtype">bool</span> rbf{<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.m_signal_rbf};</div>
<div class="line"><a id="l04699" name="l04699"></a><span class="lineno"> 4699</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_uni_value.html">UniValue</a> &amp;replaceable_arg = request.params[3][<span class="stringliteral">&quot;replaceable&quot;</span>];</div>
<div class="line"><a id="l04700" name="l04700"></a><span class="lineno"> 4700</span>    <span class="keywordflow">if</span> (!replaceable_arg.<a class="code hl_function" href="class_uni_value.html#a3661be0f5580daceb23e5338e3a0df22">isNull</a>()) {</div>
<div class="line"><a id="l04701" name="l04701"></a><span class="lineno"> 4701</span>        <a class="code hl_function" href="rpc_2util_8cpp.html#a34ca526f05cc7f2281e634a5be48c121">RPCTypeCheckArgument</a>(replaceable_arg, <a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8">UniValue::VBOOL</a>);</div>
<div class="line"><a id="l04702" name="l04702"></a><span class="lineno"> 4702</span>        rbf = replaceable_arg.<a class="code hl_function" href="class_uni_value.html#a1491167609f899d0c7773749b5047969">isTrue</a>();</div>
<div class="line"><a id="l04703" name="l04703"></a><span class="lineno"> 4703</span>    }</div>
<div class="line"><a id="l04704" name="l04704"></a><span class="lineno"> 4704</span>    <a class="code hl_struct" href="struct_c_mutable_transaction.html">CMutableTransaction</a> rawTx = <a class="code hl_function" href="rawtransaction__util_8cpp.html#a71903528afea17b236b3d96699275c44">ConstructTransaction</a>(request.params[0], request.params[1], request.params[2], rbf);</div>
<div class="line"><a id="l04705" name="l04705"></a><span class="lineno"> 4705</span>    <a class="code hl_class" href="class_c_coin_control.html">CCoinControl</a> coin_control;</div>
<div class="line"><a id="l04706" name="l04706"></a><span class="lineno"> 4706</span>    <span class="comment">// Automatically select coins, unless at least one is manually selected. Can</span></div>
<div class="line"><a id="l04707" name="l04707"></a><span class="lineno"> 4707</span>    <span class="comment">// be overridden by options.add_inputs.</span></div>
<div class="line"><a id="l04708" name="l04708"></a><span class="lineno"> 4708</span>    coin_control.<a class="code hl_variable" href="class_c_coin_control.html#aa5a916ab50a60b000b4cacf74912ccd4">m_add_inputs</a> = rawTx.<a class="code hl_variable" href="struct_c_mutable_transaction.html#ad6b1a0a773293fd153a1d384923631da">vin</a>.size() == 0;</div>
<div class="line"><a id="l04709" name="l04709"></a><span class="lineno"> 4709</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#a3176a0e8760dda40a6bffdae6ad369e8">FundTransaction</a>(<a class="code hl_namespace" href="namespacewallet.html">wallet</a>, rawTx, fee, change_position, request.params[3], coin_control, <span class="comment">/* override_min_fee */</span> <span class="keyword">true</span>);</div>
<div class="line"><a id="l04710" name="l04710"></a><span class="lineno"> 4710</span> </div>
<div class="line"><a id="l04711" name="l04711"></a><span class="lineno"> 4711</span>    <span class="comment">// Make a blank psbt</span></div>
<div class="line"><a id="l04712" name="l04712"></a><span class="lineno"> 4712</span>    <a class="code hl_struct" href="struct_partially_signed_transaction.html">PartiallySignedTransaction</a> psbtx(rawTx);</div>
<div class="line"><a id="l04713" name="l04713"></a><span class="lineno"> 4713</span> </div>
<div class="line"><a id="l04714" name="l04714"></a><span class="lineno"> 4714</span>    <span class="comment">// Fill transaction with out data but don&#39;t sign</span></div>
<div class="line"><a id="l04715" name="l04715"></a><span class="lineno"> 4715</span>    <span class="keywordtype">bool</span> bip32derivs = request.params[4].isNull() ? true : request.params[4].get_bool();</div>
<div class="line"><a id="l04716" name="l04716"></a><span class="lineno"> 4716</span>    <span class="keywordtype">bool</span> complete = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04717" name="l04717"></a><span class="lineno"> 4717</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="error_8h.html#a857c3bfc8da2a43cebacd0582cc867ac">TransactionError</a> err{<a class="code hl_namespace" href="namespacewallet.html">wallet</a>.FillPSBT(psbtx, complete, 1, <span class="keyword">false</span>, bip32derivs)};</div>
<div class="line"><a id="l04718" name="l04718"></a><span class="lineno"> 4718</span>    <span class="keywordflow">if</span> (err != <a class="code hl_enumvalue" href="error_8h.html#a857c3bfc8da2a43cebacd0582cc867acae0aa021e21dddbd6d8cecec71e9cf564">TransactionError::OK</a>) {</div>
<div class="line"><a id="l04719" name="l04719"></a><span class="lineno"> 4719</span>        <span class="keywordflow">throw</span> <a class="code hl_function" href="rpc_2util_8cpp.html#a55991d82dc38be9b1c4e5673b8570c2d">JSONRPCTransactionError</a>(err);</div>
<div class="line"><a id="l04720" name="l04720"></a><span class="lineno"> 4720</span>    }</div>
<div class="line"><a id="l04721" name="l04721"></a><span class="lineno"> 4721</span> </div>
<div class="line"><a id="l04722" name="l04722"></a><span class="lineno"> 4722</span>    <span class="comment">// Serialize the PSBT</span></div>
<div class="line"><a id="l04723" name="l04723"></a><span class="lineno"> 4723</span>    <a class="code hl_class" href="class_c_data_stream.html">CDataStream</a> ssTx(<a class="code hl_enumvalue" href="serialize_8h.html#a16af7b253440dadd46a80a4b9fddba4da652754eeaf79fba4fcf4c18597a6961c">SER_NETWORK</a>, <a class="code hl_variable" href="version_8h.html#a4e2497f7c9c4319adcaf945159ec63f4">PROTOCOL_VERSION</a>);</div>
<div class="line"><a id="l04724" name="l04724"></a><span class="lineno"> 4724</span>    ssTx &lt;&lt; psbtx;</div>
<div class="line"><a id="l04725" name="l04725"></a><span class="lineno"> 4725</span> </div>
<div class="line"><a id="l04726" name="l04726"></a><span class="lineno"> 4726</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> result(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l04727" name="l04727"></a><span class="lineno"> 4727</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;psbt&quot;</span>, <a class="code hl_function" href="strencodings_8cpp.html#a5319d20c493fa005757afa8c77c739ee">EncodeBase64</a>(ssTx.<a class="code hl_function" href="class_c_data_stream.html#aac770a2b809917189c4476ee899b2d8b">str</a>()));</div>
<div class="line"><a id="l04728" name="l04728"></a><span class="lineno"> 4728</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;fee&quot;</span>, <a class="code hl_function" href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a>(fee));</div>
<div class="line"><a id="l04729" name="l04729"></a><span class="lineno"> 4729</span>    result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;changepos&quot;</span>, change_position);</div>
<div class="line"><a id="l04730" name="l04730"></a><span class="lineno"> 4730</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l04731" name="l04731"></a><span class="lineno"> 4731</span>},</div>
<div class="line"><a id="l04732" name="l04732"></a><span class="lineno"> 4732</span>    };</div>
<div class="line"><a id="l04733" name="l04733"></a><span class="lineno"> 4733</span>}</div>
<div class="line"><a id="l04734" name="l04734"></a><span class="lineno"> 4734</span> </div>
<div class="line"><a id="l04735" name="l04735"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a613c2662cc032e9f2f1d34e88c90637e"> 4735</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a613c2662cc032e9f2f1d34e88c90637e">upgradewallet</a>()</div>
<div class="line"><a id="l04736" name="l04736"></a><span class="lineno"> 4736</span>{</div>
<div class="line"><a id="l04737" name="l04737"></a><span class="lineno"> 4737</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{<span class="stringliteral">&quot;upgradewallet&quot;</span>,</div>
<div class="line"><a id="l04738" name="l04738"></a><span class="lineno"> 4738</span>        <span class="stringliteral">&quot;\nUpgrade the wallet. Upgrades to the latest version if no version number is specified.\n&quot;</span></div>
<div class="line"><a id="l04739" name="l04739"></a><span class="lineno"> 4739</span>        <span class="stringliteral">&quot;New keys may be generated and a new wallet backup will need to be made.&quot;</span>,</div>
<div class="line"><a id="l04740" name="l04740"></a><span class="lineno"> 4740</span>        {</div>
<div class="line"><a id="l04741" name="l04741"></a><span class="lineno"> 4741</span>            {<span class="stringliteral">&quot;version&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a>, <a class="code hl_class" href="class_uni_value.html">RPCArg::Default</a>{<a class="code hl_enumvalue" href="walletutil_8h.html#a39a6b71da3eb95cddc0836d3b27ac7c9a867e17547f858859f558244dc96ac2f3">FEATURE_LATEST</a>}, <span class="stringliteral">&quot;The version number to upgrade to. Default is the latest wallet version.&quot;</span>}</div>
<div class="line"><a id="l04742" name="l04742"></a><span class="lineno"> 4742</span>        },</div>
<div class="line"><a id="l04743" name="l04743"></a><span class="lineno"> 4743</span>        <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l04744" name="l04744"></a><span class="lineno"> 4744</span>            <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l04745" name="l04745"></a><span class="lineno"> 4745</span>            {</div>
<div class="line"><a id="l04746" name="l04746"></a><span class="lineno"> 4746</span>                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;wallet_name&quot;</span>, <span class="stringliteral">&quot;Name of wallet this operation was performed on&quot;</span>},</div>
<div class="line"><a id="l04747" name="l04747"></a><span class="lineno"> 4747</span>                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;previous_version&quot;</span>, <span class="stringliteral">&quot;Version of wallet before this operation&quot;</span>},</div>
<div class="line"><a id="l04748" name="l04748"></a><span class="lineno"> 4748</span>                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a>, <span class="stringliteral">&quot;current_version&quot;</span>, <span class="stringliteral">&quot;Version of wallet after this operation&quot;</span>},</div>
<div class="line"><a id="l04749" name="l04749"></a><span class="lineno"> 4749</span>                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;result&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;Description of result, if no error&quot;</span>},</div>
<div class="line"><a id="l04750" name="l04750"></a><span class="lineno"> 4750</span>                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;error&quot;</span>, <span class="comment">/* optional */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;Error message (if there is one)&quot;</span>}</div>
<div class="line"><a id="l04751" name="l04751"></a><span class="lineno"> 4751</span>            },</div>
<div class="line"><a id="l04752" name="l04752"></a><span class="lineno"> 4752</span>        },</div>
<div class="line"><a id="l04753" name="l04753"></a><span class="lineno"> 4753</span>        <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{</div>
<div class="line"><a id="l04754" name="l04754"></a><span class="lineno"> 4754</span>            <a class="code hl_function" href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a>(<span class="stringliteral">&quot;upgradewallet&quot;</span>, <span class="stringliteral">&quot;169900&quot;</span>)</div>
<div class="line"><a id="l04755" name="l04755"></a><span class="lineno"> 4755</span>            + <a class="code hl_function" href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a>(<span class="stringliteral">&quot;upgradewallet&quot;</span>, <span class="stringliteral">&quot;169900&quot;</span>)</div>
<div class="line"><a id="l04756" name="l04756"></a><span class="lineno"> 4756</span>        },</div>
<div class="line"><a id="l04757" name="l04757"></a><span class="lineno"> 4757</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l04758" name="l04758"></a><span class="lineno"> 4758</span>{</div>
<div class="line"><a id="l04759" name="l04759"></a><span class="lineno"> 4759</span>    std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> pwallet = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l04760" name="l04760"></a><span class="lineno"> 4760</span>    <span class="keywordflow">if</span> (!pwallet) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l04761" name="l04761"></a><span class="lineno"> 4761</span> </div>
<div class="line"><a id="l04762" name="l04762"></a><span class="lineno"> 4762</span>    <a class="code hl_function" href="rpc_2util_8cpp.html#a1d3e3ccc5d3ba3ee1314be41a2039e0f">RPCTypeCheck</a>(request.params, {UniValue::VNUM}, <span class="keyword">true</span>);</div>
<div class="line"><a id="l04763" name="l04763"></a><span class="lineno"> 4763</span> </div>
<div class="line"><a id="l04764" name="l04764"></a><span class="lineno"> 4764</span>    <a class="code hl_function" href="rpcwallet_8cpp.html#a6272e8ec945c32ab0d3e27cb0eab078b">EnsureWalletIsUnlocked</a>(*pwallet);</div>
<div class="line"><a id="l04765" name="l04765"></a><span class="lineno"> 4765</span> </div>
<div class="line"><a id="l04766" name="l04766"></a><span class="lineno"> 4766</span>    <span class="keywordtype">int</span> version = 0;</div>
<div class="line"><a id="l04767" name="l04767"></a><span class="lineno"> 4767</span>    <span class="keywordflow">if</span> (!request.params[0].isNull()) {</div>
<div class="line"><a id="l04768" name="l04768"></a><span class="lineno"> 4768</span>        version = request.params[0].get_int();</div>
<div class="line"><a id="l04769" name="l04769"></a><span class="lineno"> 4769</span>    }</div>
<div class="line"><a id="l04770" name="l04770"></a><span class="lineno"> 4770</span>    <a class="code hl_struct" href="structbilingual__str.html">bilingual_str</a> <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>;</div>
<div class="line"><a id="l04771" name="l04771"></a><span class="lineno"> 4771</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> previous_version{pwallet-&gt;GetVersion()};</div>
<div class="line"><a id="l04772" name="l04772"></a><span class="lineno"> 4772</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> wallet_upgraded{pwallet-&gt;UpgradeWallet(version, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>)};</div>
<div class="line"><a id="l04773" name="l04773"></a><span class="lineno"> 4773</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> current_version{pwallet-&gt;GetVersion()};</div>
<div class="line"><a id="l04774" name="l04774"></a><span class="lineno"> 4774</span>    std::string result;</div>
<div class="line"><a id="l04775" name="l04775"></a><span class="lineno"> 4775</span> </div>
<div class="line"><a id="l04776" name="l04776"></a><span class="lineno"> 4776</span>    <span class="keywordflow">if</span> (wallet_upgraded) {</div>
<div class="line"><a id="l04777" name="l04777"></a><span class="lineno"> 4777</span>        <span class="keywordflow">if</span> (previous_version == current_version) {</div>
<div class="line"><a id="l04778" name="l04778"></a><span class="lineno"> 4778</span>            result = <span class="stringliteral">&quot;Already at latest version. Wallet version unchanged.&quot;</span>;</div>
<div class="line"><a id="l04779" name="l04779"></a><span class="lineno"> 4779</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04780" name="l04780"></a><span class="lineno"> 4780</span>            result = <a class="code hl_define" href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a>(<span class="stringliteral">&quot;Wallet upgraded successfully from version %i to version %i.&quot;</span>, previous_version, current_version);</div>
<div class="line"><a id="l04781" name="l04781"></a><span class="lineno"> 4781</span>        }</div>
<div class="line"><a id="l04782" name="l04782"></a><span class="lineno"> 4782</span>    }</div>
<div class="line"><a id="l04783" name="l04783"></a><span class="lineno"> 4783</span> </div>
<div class="line"><a id="l04784" name="l04784"></a><span class="lineno"> 4784</span>    <a class="code hl_class" href="class_uni_value.html">UniValue</a> obj(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l04785" name="l04785"></a><span class="lineno"> 4785</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;wallet_name&quot;</span>, pwallet-&gt;GetName());</div>
<div class="line"><a id="l04786" name="l04786"></a><span class="lineno"> 4786</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;previous_version&quot;</span>, previous_version);</div>
<div class="line"><a id="l04787" name="l04787"></a><span class="lineno"> 4787</span>    obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;current_version&quot;</span>, current_version);</div>
<div class="line"><a id="l04788" name="l04788"></a><span class="lineno"> 4788</span>    <span class="keywordflow">if</span> (!result.empty()) {</div>
<div class="line"><a id="l04789" name="l04789"></a><span class="lineno"> 4789</span>        obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;result&quot;</span>, result);</div>
<div class="line"><a id="l04790" name="l04790"></a><span class="lineno"> 4790</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04791" name="l04791"></a><span class="lineno"> 4791</span>        <a class="code hl_define" href="check_8h.html#a46a3e27097aa5e94bbf62075bad7016f">CHECK_NONFATAL</a>(!<a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>.empty());</div>
<div class="line"><a id="l04792" name="l04792"></a><span class="lineno"> 4792</span>        obj.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;error&quot;</span>, <a class="code hl_function" href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a>.original);</div>
<div class="line"><a id="l04793" name="l04793"></a><span class="lineno"> 4793</span>    }</div>
<div class="line"><a id="l04794" name="l04794"></a><span class="lineno"> 4794</span>    <span class="keywordflow">return</span> obj;</div>
<div class="line"><a id="l04795" name="l04795"></a><span class="lineno"> 4795</span>},</div>
<div class="line"><a id="l04796" name="l04796"></a><span class="lineno"> 4796</span>    };</div>
<div class="line"><a id="l04797" name="l04797"></a><span class="lineno"> 4797</span>}</div>
<div class="line"><a id="l04798" name="l04798"></a><span class="lineno"> 4798</span> </div>
<div class="line"><a id="l04799" name="l04799"></a><span class="lineno"> 4799</span><span class="preprocessor">#ifdef ENABLE_EXTERNAL_SIGNER</span></div>
<div class="line"><a id="l04800" name="l04800"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a399bdbe036a73ec4817b46cc2b741218"> 4800</a></span><span class="keyword">static</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a399bdbe036a73ec4817b46cc2b741218">walletdisplayaddress</a>()</div>
<div class="line"><a id="l04801" name="l04801"></a><span class="lineno"> 4801</span>{</div>
<div class="line"><a id="l04802" name="l04802"></a><span class="lineno"> 4802</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>{</div>
<div class="line"><a id="l04803" name="l04803"></a><span class="lineno"> 4803</span>        <span class="stringliteral">&quot;walletdisplayaddress&quot;</span>,</div>
<div class="line"><a id="l04804" name="l04804"></a><span class="lineno"> 4804</span>        <span class="stringliteral">&quot;Display address on an external signer for verification.&quot;</span>,</div>
<div class="line"><a id="l04805" name="l04805"></a><span class="lineno"> 4805</span>        {</div>
<div class="line"><a id="l04806" name="l04806"></a><span class="lineno"> 4806</span>            {<span class="stringliteral">&quot;address&quot;</span>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a>, <a class="code hl_enumvalue" href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a>, <span class="stringliteral">&quot;bitcoin address to display&quot;</span>},</div>
<div class="line"><a id="l04807" name="l04807"></a><span class="lineno"> 4807</span>        },</div>
<div class="line"><a id="l04808" name="l04808"></a><span class="lineno"> 4808</span>        <a class="code hl_struct" href="struct_r_p_c_result.html">RPCResult</a>{</div>
<div class="line"><a id="l04809" name="l04809"></a><span class="lineno"> 4809</span>            <a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a>,<span class="stringliteral">&quot;&quot;</span>,<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l04810" name="l04810"></a><span class="lineno"> 4810</span>            {</div>
<div class="line"><a id="l04811" name="l04811"></a><span class="lineno"> 4811</span>                {<a class="code hl_enumvalue" href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a>, <span class="stringliteral">&quot;address&quot;</span>, <span class="stringliteral">&quot;The address as confirmed by the signer&quot;</span>},</div>
<div class="line"><a id="l04812" name="l04812"></a><span class="lineno"> 4812</span>            }</div>
<div class="line"><a id="l04813" name="l04813"></a><span class="lineno"> 4813</span>        },</div>
<div class="line"><a id="l04814" name="l04814"></a><span class="lineno"> 4814</span>        <a class="code hl_struct" href="struct_r_p_c_examples.html">RPCExamples</a>{<span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a id="l04815" name="l04815"></a><span class="lineno"> 4815</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a>&amp; <span class="keyword">self</span>, <span class="keyword">const</span> <a class="code hl_class" href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a>&amp; request) -&gt; <a class="code hl_class" href="class_uni_value.html">UniValue</a></div>
<div class="line"><a id="l04816" name="l04816"></a><span class="lineno"> 4816</span>        {</div>
<div class="line"><a id="l04817" name="l04817"></a><span class="lineno"> 4817</span>            std::shared_ptr&lt;CWallet&gt; <span class="keyword">const</span> <a class="code hl_namespace" href="namespacewallet.html">wallet</a> = <a class="code hl_function" href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a>(request);</div>
<div class="line"><a id="l04818" name="l04818"></a><span class="lineno"> 4818</span>            <span class="keywordflow">if</span> (!<a class="code hl_namespace" href="namespacewallet.html">wallet</a>) <span class="keywordflow">return</span> <a class="code hl_variable" href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a>;</div>
<div class="line"><a id="l04819" name="l04819"></a><span class="lineno"> 4819</span>            <a class="code hl_class" href="class_c_wallet.html">CWallet</a>* <span class="keyword">const</span> pwallet = <a class="code hl_namespace" href="namespacewallet.html">wallet</a>.get();</div>
<div class="line"><a id="l04820" name="l04820"></a><span class="lineno"> 4820</span> </div>
<div class="line"><a id="l04821" name="l04821"></a><span class="lineno"> 4821</span>            <a class="code hl_define" href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a>(pwallet-&gt;<a class="code hl_variable" href="class_c_wallet.html#a33ec4b30a0d711b3d8abe3de5bd1a06a">cs_wallet</a>);</div>
<div class="line"><a id="l04822" name="l04822"></a><span class="lineno"> 4822</span> </div>
<div class="line"><a id="l04823" name="l04823"></a><span class="lineno"> 4823</span>            <a class="code hl_typedef" href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a> dest = <a class="code hl_function" href="key__io_8cpp.html#ae9479724a35444166ba384a69e1f246c">DecodeDestination</a>(request.params[0].get_str());</div>
<div class="line"><a id="l04824" name="l04824"></a><span class="lineno"> 4824</span> </div>
<div class="line"><a id="l04825" name="l04825"></a><span class="lineno"> 4825</span>            <span class="comment">// Make sure the destination is valid</span></div>
<div class="line"><a id="l04826" name="l04826"></a><span class="lineno"> 4826</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="standard_8cpp.html#adb3a21e4afe9c672720b182ddc7cad7c">IsValidDestination</a>(dest)) {</div>
<div class="line"><a id="l04827" name="l04827"></a><span class="lineno"> 4827</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a>, <span class="stringliteral">&quot;Invalid address&quot;</span>);</div>
<div class="line"><a id="l04828" name="l04828"></a><span class="lineno"> 4828</span>            }</div>
<div class="line"><a id="l04829" name="l04829"></a><span class="lineno"> 4829</span> </div>
<div class="line"><a id="l04830" name="l04830"></a><span class="lineno"> 4830</span>            <span class="keywordflow">if</span> (!pwallet-&gt;<a class="code hl_function" href="group___actions.html#ga0746208774055ba9753d73781592560e">DisplayAddress</a>(dest)) {</div>
<div class="line"><a id="l04831" name="l04831"></a><span class="lineno"> 4831</span>                <span class="keywordflow">throw</span> <a class="code hl_function" href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a>(<a class="code hl_enumvalue" href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada5aa884a9e263e1fad4ad13ec564d33d5">RPC_MISC_ERROR</a>, <span class="stringliteral">&quot;Failed to display address&quot;</span>);</div>
<div class="line"><a id="l04832" name="l04832"></a><span class="lineno"> 4832</span>            }</div>
<div class="line"><a id="l04833" name="l04833"></a><span class="lineno"> 4833</span> </div>
<div class="line"><a id="l04834" name="l04834"></a><span class="lineno"> 4834</span>            <a class="code hl_class" href="class_uni_value.html">UniValue</a> result(<a class="code hl_enumvalue" href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a>);</div>
<div class="line"><a id="l04835" name="l04835"></a><span class="lineno"> 4835</span>            result.<a class="code hl_function" href="class_uni_value.html#abab649c2dbd593233de6364254456026">pushKV</a>(<span class="stringliteral">&quot;address&quot;</span>, request.params[0].get_str());</div>
<div class="line"><a id="l04836" name="l04836"></a><span class="lineno"> 4836</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l04837" name="l04837"></a><span class="lineno"> 4837</span>        }</div>
<div class="line"><a id="l04838" name="l04838"></a><span class="lineno"> 4838</span>    };</div>
<div class="line"><a id="l04839" name="l04839"></a><span class="lineno"> 4839</span>}</div>
<div class="line"><a id="l04840" name="l04840"></a><span class="lineno"> 4840</span><span class="preprocessor">#endif </span><span class="comment">// ENABLE_EXTERNAL_SIGNER</span></div>
<div class="line"><a id="l04841" name="l04841"></a><span class="lineno"> 4841</span> </div>
<div class="line"><a id="l04842" name="l04842"></a><span class="lineno"> 4842</span><a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a949642f3907278d8e6f9834dbb815f92">abortrescan</a>();</div>
<div class="line"><a id="l04843" name="l04843"></a><span class="lineno"> 4843</span><a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#abc913300d07bc7b7573126048a1d3b60">dumpprivkey</a>();</div>
<div class="line"><a id="l04844" name="l04844"></a><span class="lineno"> 4844</span><a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a079025162488e32994615b92b76e458d">importprivkey</a>();</div>
<div class="line"><a id="l04845" name="l04845"></a><span class="lineno"> 4845</span><a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a314b0a7963015eb247269350a6a2e9c9">importaddress</a>();</div>
<div class="line"><a id="l04846" name="l04846"></a><span class="lineno"> 4846</span><a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a63d9e42ef2249a002456b3b1c0123a75">importpubkey</a>();</div>
<div class="line"><a id="l04847" name="l04847"></a><span class="lineno"> 4847</span><a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a5e0e8a39d9dd61d74fa4b97ccb541bb9">dumpwallet</a>();</div>
<div class="line"><a id="l04848" name="l04848"></a><span class="lineno"> 4848</span><a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a34f3709fc7047fcf2cb356fe583b83a9">importwallet</a>();</div>
<div class="line"><a id="l04849" name="l04849"></a><span class="lineno"> 4849</span><a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a883076b42f0757bb8a7ed8197f8ce668">importprunedfunds</a>();</div>
<div class="line"><a id="l04850" name="l04850"></a><span class="lineno"> 4850</span><a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#ad6132b2012fc4e05c04fbee6ca80bb0c">removeprunedfunds</a>();</div>
<div class="line"><a id="l04851" name="l04851"></a><span class="lineno"> 4851</span><a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a2f83a9c837f4adfad9333e169df1d1f0">importmulti</a>();</div>
<div class="line"><a id="l04852" name="l04852"></a><span class="lineno"> 4852</span><a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a2510c86f5b21c948a6e3510a4f089656">importdescriptors</a>();</div>
<div class="line"><a id="l04853" name="l04853"></a><span class="lineno"> 4853</span><a class="code hl_class" href="class_r_p_c_help_man.html">RPCHelpMan</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a29a9bcd4af38e2facac86c4f69c58caa">listdescriptors</a>();</div>
<div class="line"><a id="l04854" name="l04854"></a><span class="lineno"> 4854</span> </div>
<div class="line"><a id="l04855" name="l04855"></a><span class="lineno"><a class="line" href="rpcwallet_8cpp.html#a0f1fb991b53dfc0965c1652a3a032941"> 4855</a></span><a class="code hl_class" href="class_span.html">Span&lt;const CRPCCommand&gt;</a> <a class="code hl_function" href="rpcwallet_8cpp.html#a0f1fb991b53dfc0965c1652a3a032941">GetWalletRPCCommands</a>()</div>
<div class="line"><a id="l04856" name="l04856"></a><span class="lineno"> 4856</span>{</div>
<div class="line"><a id="l04857" name="l04857"></a><span class="lineno"> 4857</span><span class="comment">// clang-format off</span></div>
<div class="line"><a id="l04858" name="l04858"></a><span class="lineno"> 4858</span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="class_c_r_p_c_command.html">CRPCCommand</a> commands[] =</div>
<div class="line"><a id="l04859" name="l04859"></a><span class="lineno"> 4859</span>{ <span class="comment">//  category              actor (function)</span></div>
<div class="line"><a id="l04860" name="l04860"></a><span class="lineno"> 4860</span>  <span class="comment">//  ------------------    ------------------------</span></div>
<div class="line"><a id="l04861" name="l04861"></a><span class="lineno"> 4861</span>    { <span class="stringliteral">&quot;rawtransactions&quot;</span>,    &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a272a12e6509a7d5c88d2591829b48a62">fundrawtransaction</a>,             },</div>
<div class="line"><a id="l04862" name="l04862"></a><span class="lineno"> 4862</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#afdf1c02be806780e987dc291f421a173">abandontransaction</a>,             },</div>
<div class="line"><a id="l04863" name="l04863"></a><span class="lineno"> 4863</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a949642f3907278d8e6f9834dbb815f92">abortrescan</a>,                    },</div>
<div class="line"><a id="l04864" name="l04864"></a><span class="lineno"> 4864</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a3976c86f0965ecb3f9087b5b736db19a">addmultisigaddress</a>,             },</div>
<div class="line"><a id="l04865" name="l04865"></a><span class="lineno"> 4865</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#ab2100b77e178132587a7b08aa8e728d4">backupwallet</a>,                   },</div>
<div class="line"><a id="l04866" name="l04866"></a><span class="lineno"> 4866</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#af08a537f0066c7b2a89413c51d0a3a6e">bumpfee</a>,                        },</div>
<div class="line"><a id="l04867" name="l04867"></a><span class="lineno"> 4867</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a0b5b3cbd55189f29e10995f3c486a5f0">psbtbumpfee</a>,                    },</div>
<div class="line"><a id="l04868" name="l04868"></a><span class="lineno"> 4868</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a014c0939fbe930a1471953cff82e3413">createwallet</a>,                   },</div>
<div class="line"><a id="l04869" name="l04869"></a><span class="lineno"> 4869</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a29cefbe7aa7060f3612ac16ed89b18a8">restorewallet</a>,                  },</div>
<div class="line"><a id="l04870" name="l04870"></a><span class="lineno"> 4870</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#abc913300d07bc7b7573126048a1d3b60">dumpprivkey</a>,                    },</div>
<div class="line"><a id="l04871" name="l04871"></a><span class="lineno"> 4871</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a5e0e8a39d9dd61d74fa4b97ccb541bb9">dumpwallet</a>,                     },</div>
<div class="line"><a id="l04872" name="l04872"></a><span class="lineno"> 4872</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#ab0d26ca921b4d95334b156b3bbedd21d">encryptwallet</a>,                  },</div>
<div class="line"><a id="l04873" name="l04873"></a><span class="lineno"> 4873</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a45bbc4037ab95c8b18a8ecbd116d63d5">getaddressesbylabel</a>,            },</div>
<div class="line"><a id="l04874" name="l04874"></a><span class="lineno"> 4874</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a7746f416e0554c4665dc59cd747459bb">getaddressinfo</a>,                 },</div>
<div class="line"><a id="l04875" name="l04875"></a><span class="lineno"> 4875</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#ac0a3d609eb5441015b886f8740498d8e">getbalance</a>,                     },</div>
<div class="line"><a id="l04876" name="l04876"></a><span class="lineno"> 4876</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a055940ffe686cdb3c840ccb8d9726099">getnewaddress</a>,                  },</div>
<div class="line"><a id="l04877" name="l04877"></a><span class="lineno"> 4877</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a1147f77ce3f1e3a3d6bdddccb9c91a88">getrawchangeaddress</a>,            },</div>
<div class="line"><a id="l04878" name="l04878"></a><span class="lineno"> 4878</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#aab912e8d8ca42ed5bc8b1015efb546c5">getreceivedbyaddress</a>,           },</div>
<div class="line"><a id="l04879" name="l04879"></a><span class="lineno"> 4879</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#aac8d45f29c7be98149f954cf17f0a62e">getreceivedbylabel</a>,             },</div>
<div class="line"><a id="l04880" name="l04880"></a><span class="lineno"> 4880</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a296deec16f9285e7b2f3676506f8a991">gettransaction</a>,                 },</div>
<div class="line"><a id="l04881" name="l04881"></a><span class="lineno"> 4881</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a56614fc8dd41157efdfa54f694071309">getunconfirmedbalance</a>,          },</div>
<div class="line"><a id="l04882" name="l04882"></a><span class="lineno"> 4882</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a6d0ffd39214c1235368a33af1b085b81">getbalances</a>,                    },</div>
<div class="line"><a id="l04883" name="l04883"></a><span class="lineno"> 4883</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a81c1515dbbc177811c2b32d87927a158">getwalletinfo</a>,                  },</div>
<div class="line"><a id="l04884" name="l04884"></a><span class="lineno"> 4884</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a314b0a7963015eb247269350a6a2e9c9">importaddress</a>,                  },</div>
<div class="line"><a id="l04885" name="l04885"></a><span class="lineno"> 4885</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a2510c86f5b21c948a6e3510a4f089656">importdescriptors</a>,              },</div>
<div class="line"><a id="l04886" name="l04886"></a><span class="lineno"> 4886</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a2f83a9c837f4adfad9333e169df1d1f0">importmulti</a>,                    },</div>
<div class="line"><a id="l04887" name="l04887"></a><span class="lineno"> 4887</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a079025162488e32994615b92b76e458d">importprivkey</a>,                  },</div>
<div class="line"><a id="l04888" name="l04888"></a><span class="lineno"> 4888</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a883076b42f0757bb8a7ed8197f8ce668">importprunedfunds</a>,              },</div>
<div class="line"><a id="l04889" name="l04889"></a><span class="lineno"> 4889</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a63d9e42ef2249a002456b3b1c0123a75">importpubkey</a>,                   },</div>
<div class="line"><a id="l04890" name="l04890"></a><span class="lineno"> 4890</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a34f3709fc7047fcf2cb356fe583b83a9">importwallet</a>,                   },</div>
<div class="line"><a id="l04891" name="l04891"></a><span class="lineno"> 4891</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a7288922c50760f2fd2e73e6ae486975e">keypoolrefill</a>,                  },</div>
<div class="line"><a id="l04892" name="l04892"></a><span class="lineno"> 4892</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a32a99f2cf745e72ae55dbb9187a5f88f">listaddressgroupings</a>,           },</div>
<div class="line"><a id="l04893" name="l04893"></a><span class="lineno"> 4893</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a29a9bcd4af38e2facac86c4f69c58caa">listdescriptors</a>,                },</div>
<div class="line"><a id="l04894" name="l04894"></a><span class="lineno"> 4894</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a868afa329dc53333edea17c7c06623ba">listlabels</a>,                     },</div>
<div class="line"><a id="l04895" name="l04895"></a><span class="lineno"> 4895</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a5162280ace84bb5ea7da7cbeaa5beb8b">listlockunspent</a>,                },</div>
<div class="line"><a id="l04896" name="l04896"></a><span class="lineno"> 4896</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#ad79e92d508ffcbe6b0aff45ce7716077">listreceivedbyaddress</a>,          },</div>
<div class="line"><a id="l04897" name="l04897"></a><span class="lineno"> 4897</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a0b79e6f82c610a55d39c5e7b951201c0">listreceivedbylabel</a>,            },</div>
<div class="line"><a id="l04898" name="l04898"></a><span class="lineno"> 4898</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#ac9f38435a9ae9c1de873a411a232b509">listsinceblock</a>,                 },</div>
<div class="line"><a id="l04899" name="l04899"></a><span class="lineno"> 4899</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a491a9b1ea641869dad52fe793d1c6fba">listtransactions</a>,               },</div>
<div class="line"><a id="l04900" name="l04900"></a><span class="lineno"> 4900</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a0fee713c50d14fbe47f52ea142a09544">listunspent</a>,                    },</div>
<div class="line"><a id="l04901" name="l04901"></a><span class="lineno"> 4901</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a71aef22a7f3f537e48b2fdc2f4ccfd99">listwalletdir</a>,                  },</div>
<div class="line"><a id="l04902" name="l04902"></a><span class="lineno"> 4902</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a5e4c4ac5223a6385a2fa270cb466ab39">listwallets</a>,                    },</div>
<div class="line"><a id="l04903" name="l04903"></a><span class="lineno"> 4903</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#ac48d96e27ba9d1b7e9be6d7e05959338">loadwallet</a>,                     },</div>
<div class="line"><a id="l04904" name="l04904"></a><span class="lineno"> 4904</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a85381e7fa5317b50dc86a2dd87766c2f">lockunspent</a>,                    },</div>
<div class="line"><a id="l04905" name="l04905"></a><span class="lineno"> 4905</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a96ffd73d54a0c6a3936ac3d5fbcd82e2">newkeypool</a>,                     },</div>
<div class="line"><a id="l04906" name="l04906"></a><span class="lineno"> 4906</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#ad6132b2012fc4e05c04fbee6ca80bb0c">removeprunedfunds</a>,              },</div>
<div class="line"><a id="l04907" name="l04907"></a><span class="lineno"> 4907</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a1c730e31d4eaf40b10aa41ab58c77c4f">rescanblockchain</a>,               },</div>
<div class="line"><a id="l04908" name="l04908"></a><span class="lineno"> 4908</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a52980bfe3ce43e0507e9ecdecefa2230">send</a>,                           },</div>
<div class="line"><a id="l04909" name="l04909"></a><span class="lineno"> 4909</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#ada16fd07921b4b76e58fe09850196ce5">sendmany</a>,                       },</div>
<div class="line"><a id="l04910" name="l04910"></a><span class="lineno"> 4910</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a0e0701384140dbce448902b6b43f80e6">sendtoaddress</a>,                  },</div>
<div class="line"><a id="l04911" name="l04911"></a><span class="lineno"> 4911</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a07378078c8f1febcfecf348dd2b5d56c">sethdseed</a>,                      },</div>
<div class="line"><a id="l04912" name="l04912"></a><span class="lineno"> 4912</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#aa5f125c40e6e0f61afab798f62ea5770">setlabel</a>,                       },</div>
<div class="line"><a id="l04913" name="l04913"></a><span class="lineno"> 4913</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#acfc7a4149ac8f2c7dca4d1cda9f99bf8">settxfee</a>,                       },</div>
<div class="line"><a id="l04914" name="l04914"></a><span class="lineno"> 4914</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a8be115100bcca52490ac228973a5af70">setwalletflag</a>,                  },</div>
<div class="line"><a id="l04915" name="l04915"></a><span class="lineno"> 4915</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a7696abbf4e16991be606575b872fdbbe">signmessage</a>,                    },</div>
<div class="line"><a id="l04916" name="l04916"></a><span class="lineno"> 4916</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a8f5ea5a592a2e4b5bb1e09d708ca1de3">signrawtransactionwithwallet</a>,   },</div>
<div class="line"><a id="l04917" name="l04917"></a><span class="lineno"> 4917</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a61a17e52edbfc339d0380b00169dbae7">unloadwallet</a>,                   },</div>
<div class="line"><a id="l04918" name="l04918"></a><span class="lineno"> 4918</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a613c2662cc032e9f2f1d34e88c90637e">upgradewallet</a>,                  },</div>
<div class="line"><a id="l04919" name="l04919"></a><span class="lineno"> 4919</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a65e98e958efafb052757d356d77800ec">walletcreatefundedpsbt</a>,         },</div>
<div class="line"><a id="l04920" name="l04920"></a><span class="lineno"> 4920</span><span class="preprocessor">#ifdef ENABLE_EXTERNAL_SIGNER</span></div>
<div class="line"><a id="l04921" name="l04921"></a><span class="lineno"> 4921</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a399bdbe036a73ec4817b46cc2b741218">walletdisplayaddress</a>,           },</div>
<div class="line"><a id="l04922" name="l04922"></a><span class="lineno"> 4922</span><span class="preprocessor">#endif </span><span class="comment">// ENABLE_EXTERNAL_SIGNER</span></div>
<div class="line"><a id="l04923" name="l04923"></a><span class="lineno"> 4923</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a08543a00801ff701888ea204c1fba857">walletlock</a>,                     },</div>
<div class="line"><a id="l04924" name="l04924"></a><span class="lineno"> 4924</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#aee52b8f06c4fa095a5652d8cbabe4faf">walletpassphrase</a>,               },</div>
<div class="line"><a id="l04925" name="l04925"></a><span class="lineno"> 4925</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a459e9be27fdb9b1353b555484f3321a7">walletpassphrasechange</a>,         },</div>
<div class="line"><a id="l04926" name="l04926"></a><span class="lineno"> 4926</span>    { <span class="stringliteral">&quot;wallet&quot;</span>,             &amp;<a class="code hl_function" href="rpcwallet_8cpp.html#a2284f3460f3b1ca6cdab55f8a0a83721">walletprocesspsbt</a>,              },</div>
<div class="line"><a id="l04927" name="l04927"></a><span class="lineno"> 4927</span>};</div>
<div class="line"><a id="l04928" name="l04928"></a><span class="lineno"> 4928</span><span class="comment">// clang-format on</span></div>
<div class="line"><a id="l04929" name="l04929"></a><span class="lineno"> 4929</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="span_8h.html#ae0ff71ebba0ddb89220884bee4dec029">MakeSpan</a>(commands);</div>
<div class="line"><a id="l04930" name="l04930"></a><span class="lineno"> 4930</span>}</div>
<div class="ttc" id="aamount_8h_html"><div class="ttname"><a href="amount_8h.html">amount.h</a></div></div>
<div class="ttc" id="aamount_8h_html_a01c380e9fbd6f010150d85334a343620"><div class="ttname"><a href="amount_8h.html#a01c380e9fbd6f010150d85334a343620">MAX_MONEY</a></div><div class="ttdeci">static constexpr CAmount MAX_MONEY</div><div class="ttdoc">No amount larger than this (in satoshi) is valid.</div><div class="ttdef"><b>Definition:</b> <a href="amount_8h_source.html#l00026">amount.h:26</a></div></div>
<div class="ttc" id="aamount_8h_html_a4eaf3a5239714d8c45b851527f7cb564"><div class="ttname"><a href="amount_8h.html#a4eaf3a5239714d8c45b851527f7cb564">CAmount</a></div><div class="ttdeci">int64_t CAmount</div><div class="ttdoc">Amount in satoshis (Can be negative)</div><div class="ttdef"><b>Definition:</b> <a href="amount_8h_source.html#l00012">amount.h:12</a></div></div>
<div class="ttc" id="abip32_8cpp_html_a95adec97d2991998e8bc35720d0e67f8"><div class="ttname"><a href="bip32_8cpp.html#a95adec97d2991998e8bc35720d0e67f8">WriteHDKeypath</a></div><div class="ttdeci">std::string WriteHDKeypath(const std::vector&lt; uint32_t &gt; &amp;keypath)</div><div class="ttdoc">Write HD keypaths as strings.</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8cpp_source.html#l00063">bip32.cpp:63</a></div></div>
<div class="ttc" id="abip32_8h_html"><div class="ttname"><a href="bip32_8h.html">bip32.h</a></div></div>
<div class="ttc" id="abitcoin-cli_8cpp_html_a0e3c99b9558f02d32a7264c108e2944b"><div class="ttname"><a href="bitcoin-cli_8cpp.html#a0e3c99b9558f02d32a7264c108e2944b">URL_DECODE</a></div><div class="ttdeci">UrlDecodeFn *const URL_DECODE</div><div class="ttdef"><b>Definition:</b> <a href="bitcoin-cli_8cpp_source.html#l00044">bitcoin-cli.cpp:44</a></div></div>
<div class="ttc" id="abitcoin-tx_8cpp_html_a58ca09453ed4aac5e1af948b1c6a241f"><div class="ttname"><a href="bitcoin-tx_8cpp.html#a58ca09453ed4aac5e1af948b1c6a241f">AmountFromValue</a></div><div class="ttdeci">static CAmount AmountFromValue(const UniValue &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="bitcoin-tx_8cpp_source.html#l00550">bitcoin-tx.cpp:550</a></div></div>
<div class="ttc" id="abitcoin-tx_8cpp_html_ac8bf36fe0577cba66bccda3a6f7e80a4"><div class="ttname"><a href="bitcoin-tx_8cpp.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="bitcoin-tx_8cpp_source.html#l00525">bitcoin-tx.cpp:525</a></div></div>
<div class="ttc" id="acheck_8h_html_a46a3e27097aa5e94bbf62075bad7016f"><div class="ttname"><a href="check_8h.html#a46a3e27097aa5e94bbf62075bad7016f">CHECK_NONFATAL</a></div><div class="ttdeci">#define CHECK_NONFATAL(condition)</div><div class="ttdoc">Throw a NonFatalCheckError when the condition evaluates to false.</div><div class="ttdef"><b>Definition:</b> <a href="check_8h_source.html#l00032">check.h:32</a></div></div>
<div class="ttc" id="aclass_base_hash_html_a56856ad346b6c741adf80e41eb0cd80a"><div class="ttname"><a href="class_base_hash.html#a56856ad346b6c741adf80e41eb0cd80a">BaseHash::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="hash__type_8h_source.html#l00063">hash_type.h:63</a></div></div>
<div class="ttc" id="aclass_base_hash_html_a78666d73171eb992b9f8069ae5939f14"><div class="ttname"><a href="class_base_hash.html#a78666d73171eb992b9f8069ae5939f14">BaseHash::begin</a></div><div class="ttdeci">unsigned char * begin()</div><div class="ttdef"><b>Definition:</b> <a href="hash__type_8h_source.html#l00018">hash_type.h:18</a></div></div>
<div class="ttc" id="aclass_c_address_book_data_html"><div class="ttname"><a href="class_c_address_book_data.html">CAddressBookData</a></div><div class="ttdoc">Address book data.</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00196">wallet.h:197</a></div></div>
<div class="ttc" id="aclass_c_address_book_data_html_ae3f51b74140b606151a121ce4714730a"><div class="ttname"><a href="class_c_address_book_data.html#ae3f51b74140b606151a121ce4714730a">CAddressBookData::GetLabel</a></div><div class="ttdeci">const std::string &amp; GetLabel() const</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00210">wallet.h:210</a></div></div>
<div class="ttc" id="aclass_c_address_book_data_html_ae5fece7c73830859076950851eba04e8"><div class="ttname"><a href="class_c_address_book_data.html#ae5fece7c73830859076950851eba04e8">CAddressBookData::purpose</a></div><div class="ttdeci">std::string purpose</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00202">wallet.h:202</a></div></div>
<div class="ttc" id="aclass_c_block_header_html_ad9b904df502d648309342e5e5b0949a6"><div class="ttname"><a href="class_c_block_header.html#ad9b904df502d648309342e5e5b0949a6">CBlockHeader::hashPrevBlock</a></div><div class="ttdeci">uint256 hashPrevBlock</div><div class="ttdef"><b>Definition:</b> <a href="block_8h_source.html#l00025">block.h:25</a></div></div>
<div class="ttc" id="aclass_c_block_header_html_afb875dba7ce6e26c01509244e3cd950f"><div class="ttname"><a href="class_c_block_header.html#afb875dba7ce6e26c01509244e3cd950f">CBlockHeader::IsNull</a></div><div class="ttdeci">bool IsNull() const</div><div class="ttdef"><b>Definition:</b> <a href="block_8h_source.html#l00048">block.h:48</a></div></div>
<div class="ttc" id="aclass_c_block_html"><div class="ttname"><a href="class_c_block.html">CBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="block_8h_source.html#l00062">block.h:63</a></div></div>
<div class="ttc" id="aclass_c_block_html_a33fcab2e8b903f5be812c714cee42626"><div class="ttname"><a href="class_c_block.html#a33fcab2e8b903f5be812c714cee42626">CBlock::vtx</a></div><div class="ttdeci">std::vector&lt; CTransactionRef &gt; vtx</div><div class="ttdef"><b>Definition:</b> <a href="block_8h_source.html#l00066">block.h:66</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html"><div class="ttname"><a href="class_c_coin_control.html">CCoinControl</a></div><div class="ttdoc">Coin Control Features.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00028">coincontrol.h:29</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_a1c3ab0676dacff41589e69f321504d4f"><div class="ttname"><a href="class_c_coin_control.html#a1c3ab0676dacff41589e69f321504d4f">CCoinControl::m_change_type</a></div><div class="ttdeci">std::optional&lt; OutputType &gt; m_change_type</div><div class="ttdoc">Override the default change type if set, ignored if destChange is set.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00034">coincontrol.h:34</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_a234604093ad4de5c6a19d39bc2fe7b19"><div class="ttname"><a href="class_c_coin_control.html#a234604093ad4de5c6a19d39bc2fe7b19">CCoinControl::m_signal_bip125_rbf</a></div><div class="ttdeci">std::optional&lt; bool &gt; m_signal_bip125_rbf</div><div class="ttdoc">Override the wallet's m_signal_rbf if set.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00050">coincontrol.h:50</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_a2dcf20b8a63111ebd5293cc753f66c39"><div class="ttname"><a href="class_c_coin_control.html#a2dcf20b8a63111ebd5293cc753f66c39">CCoinControl::m_confirm_target</a></div><div class="ttdeci">std::optional&lt; unsigned int &gt; m_confirm_target</div><div class="ttdoc">Override the default confirmation target if set.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00048">coincontrol.h:48</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_a4c614114e77f7bdd4521d82e758f15ab"><div class="ttname"><a href="class_c_coin_control.html#a4c614114e77f7bdd4521d82e758f15ab">CCoinControl::SelectExternal</a></div><div class="ttdeci">void SelectExternal(const COutPoint &amp;outpoint, const CTxOut &amp;txout)</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00096">coincontrol.h:96</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_a6cb9a7389a8854c71018575f0dbf2ce4"><div class="ttname"><a href="class_c_coin_control.html#a6cb9a7389a8854c71018575f0dbf2ce4">CCoinControl::m_max_depth</a></div><div class="ttdeci">int m_max_depth</div><div class="ttdoc">Maximum chain depth value for coin availability.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00060">coincontrol.h:60</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_a83d3144efcfdd0e87467f0b2d98b4302"><div class="ttname"><a href="class_c_coin_control.html#a83d3144efcfdd0e87467f0b2d98b4302">CCoinControl::fAllowWatchOnly</a></div><div class="ttdeci">bool fAllowWatchOnly</div><div class="ttdoc">Includes watch only addresses which are solvable.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00042">coincontrol.h:42</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_a888aea3123de69ef8ef12019e6e0a722"><div class="ttname"><a href="class_c_coin_control.html#a888aea3123de69ef8ef12019e6e0a722">CCoinControl::m_min_depth</a></div><div class="ttdeci">int m_min_depth</div><div class="ttdoc">Minimum chain depth value for coin availability.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00058">coincontrol.h:58</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_a9196b3bd2d38ec8da02f5ddbfb0459af"><div class="ttname"><a href="class_c_coin_control.html#a9196b3bd2d38ec8da02f5ddbfb0459af">CCoinControl::m_external_provider</a></div><div class="ttdeci">FlatSigningProvider m_external_provider</div><div class="ttdoc">SigningProvider that has pubkeys and scripts to do spend size estimation for external inputs.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00062">coincontrol.h:62</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_a92e9d528cbbf433a4c9a21e500fc88e0"><div class="ttname"><a href="class_c_coin_control.html#a92e9d528cbbf433a4c9a21e500fc88e0">CCoinControl::m_feerate</a></div><div class="ttdeci">std::optional&lt; CFeeRate &gt; m_feerate</div><div class="ttdoc">Override the wallet's m_pay_tx_fee if set.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00046">coincontrol.h:46</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_a9caaebbea37aa3582f58023487265dc7"><div class="ttname"><a href="class_c_coin_control.html#a9caaebbea37aa3582f58023487265dc7">CCoinControl::fOverrideFeeRate</a></div><div class="ttdeci">bool fOverrideFeeRate</div><div class="ttdoc">Override automatic min/max checks on fee, m_feerate must be set if true.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00044">coincontrol.h:44</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_aa5a916ab50a60b000b4cacf74912ccd4"><div class="ttname"><a href="class_c_coin_control.html#aa5a916ab50a60b000b4cacf74912ccd4">CCoinControl::m_add_inputs</a></div><div class="ttdeci">bool m_add_inputs</div><div class="ttdoc">If false, only selected inputs are used.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00036">coincontrol.h:36</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_aa991ffd830267f6c2103fa7e03213f41"><div class="ttname"><a href="class_c_coin_control.html#aa991ffd830267f6c2103fa7e03213f41">CCoinControl::destChange</a></div><div class="ttdeci">CTxDestination destChange</div><div class="ttdoc">Custom change destination, if not set an address is generated.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00032">coincontrol.h:32</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_aadc9a6a1406468c09a84716700306efa"><div class="ttname"><a href="class_c_coin_control.html#aadc9a6a1406468c09a84716700306efa">CCoinControl::m_avoid_address_reuse</a></div><div class="ttdeci">bool m_avoid_address_reuse</div><div class="ttdoc">Forbids inclusion of dirty (previously used) addresses.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00054">coincontrol.h:54</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_ab422548d4975efc89fef3fd0275d34bd"><div class="ttname"><a href="class_c_coin_control.html#ab422548d4975efc89fef3fd0275d34bd">CCoinControl::m_include_unsafe_inputs</a></div><div class="ttdeci">bool m_include_unsafe_inputs</div><div class="ttdoc">If false, only safe inputs will be used.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00038">coincontrol.h:38</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_ab718eddaacac6bad9e9a80324a348957"><div class="ttname"><a href="class_c_coin_control.html#ab718eddaacac6bad9e9a80324a348957">CCoinControl::m_avoid_partial_spends</a></div><div class="ttdeci">bool m_avoid_partial_spends</div><div class="ttdoc">Avoid partial use of funds sent to a given address.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00052">coincontrol.h:52</a></div></div>
<div class="ttc" id="aclass_c_coin_control_html_afe4a9813a0fce0d5c7ab415f5c7349fb"><div class="ttname"><a href="class_c_coin_control.html#afe4a9813a0fce0d5c7ab415f5c7349fb">CCoinControl::m_fee_mode</a></div><div class="ttdeci">FeeEstimateMode m_fee_mode</div><div class="ttdoc">Fee estimation mode to control arguments to estimateSmartFee.</div><div class="ttdef"><b>Definition:</b> <a href="coincontrol_8h_source.html#l00056">coincontrol.h:56</a></div></div>
<div class="ttc" id="aclass_c_data_stream_html"><div class="ttname"><a href="class_c_data_stream.html">CDataStream</a></div><div class="ttdoc">Double ended buffer combining vector and stream-like interfaces.</div><div class="ttdef"><b>Definition:</b> <a href="streams_8h_source.html#l00204">streams.h:205</a></div></div>
<div class="ttc" id="aclass_c_data_stream_html_aac770a2b809917189c4476ee899b2d8b"><div class="ttname"><a href="class_c_data_stream.html#aac770a2b809917189c4476ee899b2d8b">CDataStream::str</a></div><div class="ttdeci">std::string str() const</div><div class="ttdef"><b>Definition:</b> <a href="streams_8h_source.html#l00242">streams.h:242</a></div></div>
<div class="ttc" id="aclass_c_fee_rate_html"><div class="ttname"><a href="class_c_fee_rate.html">CFeeRate</a></div><div class="ttdoc">Fee rate in satoshis per kilobyte: CAmount / kB.</div><div class="ttdef"><b>Definition:</b> <a href="feerate_8h_source.html#l00029">feerate.h:30</a></div></div>
<div class="ttc" id="aclass_c_fee_rate_html_a150357ec36fe517adf4a9876089c3a8e"><div class="ttname"><a href="class_c_fee_rate.html#a150357ec36fe517adf4a9876089c3a8e">CFeeRate::ToString</a></div><div class="ttdeci">std::string ToString(const FeeEstimateMode &amp;fee_estimate_mode=FeeEstimateMode::BTC_KVB) const</div><div class="ttdef"><b>Definition:</b> <a href="feerate_8cpp_source.html#l00039">feerate.cpp:39</a></div></div>
<div class="ttc" id="aclass_c_h_d_chain_html_a7db3b8b6e5560008e24e3cb8d574b5ac"><div class="ttname"><a href="class_c_h_d_chain.html#a7db3b8b6e5560008e24e3cb8d574b5ac">CHDChain::seed_id</a></div><div class="ttdeci">CKeyID seed_id</div><div class="ttdoc">seed hash160</div><div class="ttdef"><b>Definition:</b> <a href="walletdb_8h_source.html#l00092">walletdb.h:92</a></div></div>
<div class="ttc" id="aclass_c_key_html"><div class="ttname"><a href="class_c_key.html">CKey</a></div><div class="ttdoc">An encapsulated private key.</div><div class="ttdef"><b>Definition:</b> <a href="key_8h_source.html#l00026">key.h:27</a></div></div>
<div class="ttc" id="aclass_c_key_html_a0bd3b7bace202d624322c6744228517a"><div class="ttname"><a href="class_c_key.html#a0bd3b7bace202d624322c6744228517a">CKey::begin</a></div><div class="ttdeci">const unsigned char * begin() const</div><div class="ttdef"><b>Definition:</b> <a href="key_8h_source.html#l00089">key.h:89</a></div></div>
<div class="ttc" id="aclass_c_key_html_a56e06c48d504a1a65e244e5fc35cdecc"><div class="ttname"><a href="class_c_key.html#a56e06c48d504a1a65e244e5fc35cdecc">CKey::IsValid</a></div><div class="ttdeci">bool IsValid() const</div><div class="ttdoc">Check whether this private key is valid.</div><div class="ttdef"><b>Definition:</b> <a href="key_8h_source.html#l00093">key.h:93</a></div></div>
<div class="ttc" id="aclass_c_key_html_a92855ddefcb3d95c640383a159628991"><div class="ttname"><a href="class_c_key.html#a92855ddefcb3d95c640383a159628991">CKey::end</a></div><div class="ttdeci">const unsigned char * end() const</div><div class="ttdef"><b>Definition:</b> <a href="key_8h_source.html#l00090">key.h:90</a></div></div>
<div class="ttc" id="aclass_c_key_html_a96b017433a65335775cf3807d73f85ce"><div class="ttname"><a href="class_c_key.html#a96b017433a65335775cf3807d73f85ce">CKey::IsCompressed</a></div><div class="ttdeci">bool IsCompressed() const</div><div class="ttdoc">Check whether the public key corresponding to this private key is (to be) compressed.</div><div class="ttdef"><b>Definition:</b> <a href="key_8h_source.html#l00096">key.h:96</a></div></div>
<div class="ttc" id="aclass_c_key_html_aa1085c59603a62db6ec776300f250337"><div class="ttname"><a href="class_c_key.html#aa1085c59603a62db6ec776300f250337">CKey::GetPubKey</a></div><div class="ttdeci">CPubKey GetPubKey() const</div><div class="ttdoc">Compute the public key from a private key.</div><div class="ttdef"><b>Definition:</b> <a href="key_8cpp_source.html#l00187">key.cpp:187</a></div></div>
<div class="ttc" id="aclass_c_key_html_aaa13d5f08456bba094210c5eeabf64c8"><div class="ttname"><a href="class_c_key.html#aaa13d5f08456bba094210c5eeabf64c8">CKey::Set</a></div><div class="ttdeci">void Set(const T pbegin, const T pend, bool fCompressedIn)</div><div class="ttdoc">Initialize using begin and end iterators to byte data.</div><div class="ttdef"><b>Definition:</b> <a href="key_8h_source.html#l00073">key.h:73</a></div></div>
<div class="ttc" id="aclass_c_key_i_d_html"><div class="ttname"><a href="class_c_key_i_d.html">CKeyID</a></div><div class="ttdoc">A reference to a CKey: the Hash160 of its serialized public key.</div><div class="ttdef"><b>Definition:</b> <a href="pubkey_8h_source.html#l00022">pubkey.h:23</a></div></div>
<div class="ttc" id="aclass_c_no_destination_html"><div class="ttname"><a href="class_c_no_destination.html">CNoDestination</a></div><div class="ttdef"><b>Definition:</b> <a href="standard_8h_source.html#l00073">standard.h:73</a></div></div>
<div class="ttc" id="aclass_c_out_point_html"><div class="ttname"><a href="class_c_out_point.html">COutPoint</a></div><div class="ttdoc">An outpoint - a combination of a transaction hash and an index n into its vout.</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00026">transaction.h:27</a></div></div>
<div class="ttc" id="aclass_c_out_point_html_a1b857e3a0412ff741da2c9f8defe315c"><div class="ttname"><a href="class_c_out_point.html#a1b857e3a0412ff741da2c9f8defe315c">COutPoint::n</a></div><div class="ttdeci">uint32_t n</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00030">transaction.h:30</a></div></div>
<div class="ttc" id="aclass_c_out_point_html_af131c7194a660558b0ff158f4efa7a28"><div class="ttname"><a href="class_c_out_point.html#af131c7194a660558b0ff158f4efa7a28">COutPoint::hash</a></div><div class="ttdeci">uint256 hash</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00029">transaction.h:29</a></div></div>
<div class="ttc" id="aclass_c_output_html"><div class="ttname"><a href="class_c_output.html">COutput</a></div><div class="ttdef"><b>Definition:</b> <a href="spend_8h_source.html#l00016">spend.h:17</a></div></div>
<div class="ttc" id="aclass_c_pub_key_html"><div class="ttname"><a href="class_c_pub_key.html">CPubKey</a></div><div class="ttdoc">An encapsulated public key.</div><div class="ttdef"><b>Definition:</b> <a href="pubkey_8h_source.html#l00032">pubkey.h:33</a></div></div>
<div class="ttc" id="aclass_c_pub_key_html_a25f8b70340ad20ddab0f80ec4cee9396"><div class="ttname"><a href="class_c_pub_key.html#a25f8b70340ad20ddab0f80ec4cee9396">CPubKey::IsCompressed</a></div><div class="ttdeci">bool IsCompressed() const</div><div class="ttdoc">Check whether this is a compressed public key.</div><div class="ttdef"><b>Definition:</b> <a href="pubkey_8h_source.html#l00194">pubkey.h:194</a></div></div>
<div class="ttc" id="aclass_c_pub_key_html_a2675f7e6f72eff68e7a5227289feb021"><div class="ttname"><a href="class_c_pub_key.html#a2675f7e6f72eff68e7a5227289feb021">CPubKey::GetID</a></div><div class="ttdeci">CKeyID GetID() const</div><div class="ttdoc">Get the KeyID of this public key (hash of its serialization)</div><div class="ttdef"><b>Definition:</b> <a href="pubkey_8h_source.html#l00160">pubkey.h:160</a></div></div>
<div class="ttc" id="aclass_c_pub_key_html_a69d8d49962240a5696410229dd83c93e"><div class="ttname"><a href="class_c_pub_key.html#a69d8d49962240a5696410229dd83c93e">CPubKey::IsFullyValid</a></div><div class="ttdeci">bool IsFullyValid() const</div><div class="ttdoc">fully validate whether this is a valid public key (more expensive than IsValid())</div><div class="ttdef"><b>Definition:</b> <a href="pubkey_8cpp_source.html#l00292">pubkey.cpp:292</a></div></div>
<div class="ttc" id="aclass_c_r_i_p_e_m_d160_html"><div class="ttname"><a href="class_c_r_i_p_e_m_d160.html">CRIPEMD160</a></div><div class="ttdoc">A hasher class for RIPEMD-160.</div><div class="ttdef"><b>Definition:</b> <a href="ripemd160_8h_source.html#l00012">ripemd160.h:13</a></div></div>
<div class="ttc" id="aclass_c_r_i_p_e_m_d160_html_a221143b9d94af623d07c4f4ba1bf6007"><div class="ttname"><a href="class_c_r_i_p_e_m_d160.html#a221143b9d94af623d07c4f4ba1bf6007">CRIPEMD160::Write</a></div><div class="ttdeci">CRIPEMD160 &amp; Write(const unsigned char *data, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="ripemd160_8cpp_source.html#l00247">ripemd160.cpp:247</a></div></div>
<div class="ttc" id="aclass_c_r_i_p_e_m_d160_html_a2a11566fbf9d1339b819833313fc4e51"><div class="ttname"><a href="class_c_r_i_p_e_m_d160.html#a2a11566fbf9d1339b819833313fc4e51">CRIPEMD160::Finalize</a></div><div class="ttdeci">void Finalize(unsigned char hash[OUTPUT_SIZE])</div><div class="ttdef"><b>Definition:</b> <a href="ripemd160_8cpp_source.html#l00273">ripemd160.cpp:273</a></div></div>
<div class="ttc" id="aclass_c_r_p_c_command_html"><div class="ttname"><a href="class_c_r_p_c_command.html">CRPCCommand</a></div><div class="ttdef"><b>Definition:</b> <a href="server_8h_source.html#l00089">server.h:90</a></div></div>
<div class="ttc" id="aclass_c_script_html"><div class="ttname"><a href="class_c_script.html">CScript</a></div><div class="ttdoc">Serialized script, used inside transaction inputs and outputs.</div><div class="ttdef"><b>Definition:</b> <a href="script_2script_8h_source.html#l00405">script.h:406</a></div></div>
<div class="ttc" id="aclass_c_script_html_a0c3729c606d318923dc06f95d85a0971"><div class="ttname"><a href="class_c_script.html#a0c3729c606d318923dc06f95d85a0971">CScript::IsPayToScriptHash</a></div><div class="ttdeci">bool IsPayToScriptHash() const</div><div class="ttdef"><b>Definition:</b> <a href="script_2script_8cpp_source.html#l00201">script.cpp:201</a></div></div>
<div class="ttc" id="aclass_c_script_html_a8bc2ab13e460dfec4af45afc92fffe60"><div class="ttname"><a href="class_c_script.html#a8bc2ab13e460dfec4af45afc92fffe60">CScript::IsPayToWitnessScriptHash</a></div><div class="ttdeci">bool IsPayToWitnessScriptHash() const</div><div class="ttdef"><b>Definition:</b> <a href="script_2script_8cpp_source.html#l00210">script.cpp:210</a></div></div>
<div class="ttc" id="aclass_c_script_i_d_html"><div class="ttname"><a href="class_c_script_i_d.html">CScriptID</a></div><div class="ttdoc">A reference to a CScript: the Hash160 of its serialization (see script.h)</div><div class="ttdef"><b>Definition:</b> <a href="standard_8h_source.html#l00025">standard.h:26</a></div></div>
<div class="ttc" id="aclass_c_transaction_html"><div class="ttname"><a href="class_c_transaction.html">CTransaction</a></div><div class="ttdoc">The basic transaction that is broadcasted on the network and contained in blocks.</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00259">transaction.h:260</a></div></div>
<div class="ttc" id="aclass_c_tx_in_html"><div class="ttname"><a href="class_c_tx_in.html">CTxIn</a></div><div class="ttdoc">An input of a transaction.</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00065">transaction.h:66</a></div></div>
<div class="ttc" id="aclass_c_tx_in_html_aed9312051a25380cbd7f123408ab7c20"><div class="ttname"><a href="class_c_tx_in.html#aed9312051a25380cbd7f123408ab7c20">CTxIn::prevout</a></div><div class="ttdeci">COutPoint prevout</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00068">transaction.h:68</a></div></div>
<div class="ttc" id="aclass_c_tx_out_html"><div class="ttname"><a href="class_c_tx_out.html">CTxOut</a></div><div class="ttdoc">An output of a transaction.</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00128">transaction.h:129</a></div></div>
<div class="ttc" id="aclass_c_tx_out_html_a25bf3f2f4befb22a6a0be45784fe57e2"><div class="ttname"><a href="class_c_tx_out.html#a25bf3f2f4befb22a6a0be45784fe57e2">CTxOut::scriptPubKey</a></div><div class="ttdeci">CScript scriptPubKey</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00132">transaction.h:132</a></div></div>
<div class="ttc" id="aclass_c_tx_out_html_ab278ecef3817a972cb6bc5360d13f197"><div class="ttname"><a href="class_c_tx_out.html#ab278ecef3817a972cb6bc5360d13f197">CTxOut::nValue</a></div><div class="ttdeci">CAmount nValue</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00131">transaction.h:131</a></div></div>
<div class="ttc" id="aclass_c_wallet_html"><div class="ttname"><a href="class_c_wallet.html">CWallet</a></div><div class="ttdoc">A CWallet maintains a set of transactions and balances, and provides the ability to create new transa...</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00228">wallet.h:229</a></div></div>
<div class="ttc" id="aclass_c_wallet_html_a1e6c1f101cbd1a34f7a779a9dbcfee50"><div class="ttname"><a href="class_c_wallet.html#a1e6c1f101cbd1a34f7a779a9dbcfee50">CWallet::m_unlock_mutex</a></div><div class="ttdeci">Mutex m_unlock_mutex</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00482">wallet.h:479</a></div></div>
<div class="ttc" id="aclass_c_wallet_html_a33ec4b30a0d711b3d8abe3de5bd1a06a"><div class="ttname"><a href="class_c_wallet.html#a33ec4b30a0d711b3d8abe3de5bd1a06a">CWallet::cs_wallet</a></div><div class="ttdeci">RecursiveMutex cs_wallet</div><div class="ttdoc">Main wallet lock.</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00345">wallet.h:345</a></div></div>
<div class="ttc" id="aclass_c_wallet_html_a3935971cd92f8dc6c32acb2c6aa3edb5"><div class="ttname"><a href="class_c_wallet.html#a3935971cd92f8dc6c32acb2c6aa3edb5">CWallet::Unlock</a></div><div class="ttdeci">bool Unlock(const CKeyingMaterial &amp;vMasterKeyIn, bool accept_no_keys=false)</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8cpp_source.html#l02995">wallet.cpp:2995</a></div></div>
<div class="ttc" id="aclass_c_wallet_html_a42ac51ccf4fc9598eff4a3ce8aff58df"><div class="ttname"><a href="class_c_wallet.html#a42ac51ccf4fc9598eff4a3ce8aff58df">CWallet::chain</a></div><div class="ttdeci">interfaces::Chain &amp; chain() const</div><div class="ttdoc">Interface for accessing chain state.</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00405">wallet.h:405</a></div></div>
<div class="ttc" id="aclass_c_wallet_html_a8a7290b388218a1b2b0845d4d4779bad"><div class="ttname"><a href="class_c_wallet.html#a8a7290b388218a1b2b0845d4d4779bad">CWallet::GetName</a></div><div class="ttdeci">const std::string &amp; GetName() const</div><div class="ttdoc">Get a name for this wallet for logging/debugging purposes.</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00355">wallet.h:355</a></div></div>
<div class="ttc" id="aclass_c_wallet_html_ab8ede771bb3f291d1d6795004c2b0b72"><div class="ttname"><a href="class_c_wallet.html#ab8ede771bb3f291d1d6795004c2b0b72">CWallet::TxItems</a></div><div class="ttdeci">std::multimap&lt; int64_t, CWalletTx * &gt; TxItems</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00386">wallet.h:386</a></div></div>
<div class="ttc" id="aclass_c_wallet_html_add676e643140c93d394bc01bc96f5cd9"><div class="ttname"><a href="class_c_wallet.html#add676e643140c93d394bc01bc96f5cd9">CWallet::IsCrypted</a></div><div class="ttdeci">bool IsCrypted() const</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8cpp_source.html#l02967">wallet.cpp:2967</a></div></div>
<div class="ttc" id="aclass_c_wallet_tx_html"><div class="ttname"><a href="class_c_wallet_tx.html">CWalletTx</a></div><div class="ttdoc">A transaction with a bunch of additional info that only the owner cares about.</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2transaction_8h_source.html#l00046">transaction.h:47</a></div></div>
<div class="ttc" id="aclass_c_wallet_tx_html_a17229eca0c81245312115a9c333203d8"><div class="ttname"><a href="class_c_wallet_tx.html#a17229eca0c81245312115a9c333203d8">CWalletTx::mapValue</a></div><div class="ttdeci">mapValue_t mapValue</div><div class="ttdoc">Key/value map with information about the transaction.</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2transaction_8h_source.html#l00080">transaction.h:80</a></div></div>
<div class="ttc" id="aclass_c_wallet_tx_html_a18376883d956cd66d9082aecd5411606"><div class="ttname"><a href="class_c_wallet_tx.html#a18376883d956cd66d9082aecd5411606">CWalletTx::tx</a></div><div class="ttdeci">CTransactionRef tx</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2transaction_8h_source.html#l00138">transaction.h:138</a></div></div>
<div class="ttc" id="aclass_c_wallet_tx_html_a772462c72968fed899ed7f3d036153e6"><div class="ttname"><a href="class_c_wallet_tx.html#a772462c72968fed899ed7f3d036153e6">CWalletTx::m_confirm</a></div><div class="ttdeci">Confirmation m_confirm</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2transaction_8h_source.html#l00169">transaction.h:169</a></div></div>
<div class="ttc" id="aclass_c_wallet_tx_html_a8235bd17d83c9ed101ca88950ab922ef"><div class="ttname"><a href="class_c_wallet_tx.html#a8235bd17d83c9ed101ca88950ab922ef">CWalletTx::GetHash</a></div><div class="ttdeci">const uint256 &amp; GetHash() const</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2transaction_8h_source.html#l00267">transaction.h:267</a></div></div>
<div class="ttc" id="aclass_c_wallet_tx_html_ab94368cf0553687d8f1fec5d2aaa1457"><div class="ttname"><a href="class_c_wallet_tx.html#ab94368cf0553687d8f1fec5d2aaa1457">CWalletTx::GetTxTime</a></div><div class="ttdeci">int64_t GetTxTime() const</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2transaction_8cpp_source.html#l00021">transaction.cpp:21</a></div></div>
<div class="ttc" id="aclass_c_wallet_tx_html_aedd121a03fccf85c9b489cc1e0fbedcb"><div class="ttname"><a href="class_c_wallet_tx.html#aedd121a03fccf85c9b489cc1e0fbedcb">CWalletTx::IsCoinBase</a></div><div class="ttdeci">bool IsCoinBase() const</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2transaction_8h_source.html#l00268">transaction.h:268</a></div></div>
<div class="ttc" id="aclass_c_wallet_tx_html_af4f4b58875061467026da7b259532b69"><div class="ttname"><a href="class_c_wallet_tx.html#af4f4b58875061467026da7b259532b69">CWalletTx::nTimeReceived</a></div><div class="ttdeci">unsigned int nTimeReceived</div><div class="ttdoc">time received by this node</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2transaction_8h_source.html#l00083">transaction.h:83</a></div></div>
<div class="ttc" id="aclass_describe_wallet_address_visitor_html"><div class="ttname"><a href="class_describe_wallet_address_visitor.html">DescribeWalletAddressVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03890">rpcwallet.cpp:3891</a></div></div>
<div class="ttc" id="aclass_describe_wallet_address_visitor_html_a23424efef251f15ea5145a3f5c00b73b"><div class="ttname"><a href="class_describe_wallet_address_visitor.html#a23424efef251f15ea5145a3f5c00b73b">DescribeWalletAddressVisitor::provider</a></div><div class="ttdeci">const SigningProvider *const provider</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03893">rpcwallet.cpp:3893</a></div></div>
<div class="ttc" id="aclass_describe_wallet_address_visitor_html_a5cc9c91df2d249184d14d689bbb09c67"><div class="ttname"><a href="class_describe_wallet_address_visitor.html#a5cc9c91df2d249184d14d689bbb09c67">DescribeWalletAddressVisitor::operator()</a></div><div class="ttdeci">UniValue operator()(const WitnessV0KeyHash &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03955">rpcwallet.cpp:3955</a></div></div>
<div class="ttc" id="aclass_describe_wallet_address_visitor_html_a643e82df299e430adde852f54c321fd6"><div class="ttname"><a href="class_describe_wallet_address_visitor.html#a643e82df299e430adde852f54c321fd6">DescribeWalletAddressVisitor::operator()</a></div><div class="ttdeci">UniValue operator()(const PKHash &amp;pkhash) const</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03932">rpcwallet.cpp:3932</a></div></div>
<div class="ttc" id="aclass_describe_wallet_address_visitor_html_a64d84f887e8dc2c4590df875df0f0a25"><div class="ttname"><a href="class_describe_wallet_address_visitor.html#a64d84f887e8dc2c4590df875df0f0a25">DescribeWalletAddressVisitor::operator()</a></div><div class="ttdeci">UniValue operator()(const ScriptHash &amp;scripthash) const</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03944">rpcwallet.cpp:3944</a></div></div>
<div class="ttc" id="aclass_describe_wallet_address_visitor_html_aaea5fe711e94507144e1983851faac4c"><div class="ttname"><a href="class_describe_wallet_address_visitor.html#aaea5fe711e94507144e1983851faac4c">DescribeWalletAddressVisitor::operator()</a></div><div class="ttdeci">UniValue operator()(const WitnessUnknown &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03979">rpcwallet.cpp:3979</a></div></div>
<div class="ttc" id="aclass_describe_wallet_address_visitor_html_abd3323778eb3418c2fa2076690b12b6c"><div class="ttname"><a href="class_describe_wallet_address_visitor.html#abd3323778eb3418c2fa2076690b12b6c">DescribeWalletAddressVisitor::ProcessSubScript</a></div><div class="ttdeci">void ProcessSubScript(const CScript &amp;subscript, UniValue &amp;obj) const</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03895">rpcwallet.cpp:3895</a></div></div>
<div class="ttc" id="aclass_describe_wallet_address_visitor_html_ac09360fb41116eb5a6f03e0a5193820c"><div class="ttname"><a href="class_describe_wallet_address_visitor.html#ac09360fb41116eb5a6f03e0a5193820c">DescribeWalletAddressVisitor::DescribeWalletAddressVisitor</a></div><div class="ttdeci">DescribeWalletAddressVisitor(const SigningProvider *_provider)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03928">rpcwallet.cpp:3928</a></div></div>
<div class="ttc" id="aclass_describe_wallet_address_visitor_html_ac86a94b96a7b3a7b00d7abb972dab4fa"><div class="ttname"><a href="class_describe_wallet_address_visitor.html#ac86a94b96a7b3a7b00d7abb972dab4fa">DescribeWalletAddressVisitor::operator()</a></div><div class="ttdeci">UniValue operator()(const WitnessV1Taproot &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03978">rpcwallet.cpp:3978</a></div></div>
<div class="ttc" id="aclass_describe_wallet_address_visitor_html_adfeae0c0a64544469554ab352ea8c891"><div class="ttname"><a href="class_describe_wallet_address_visitor.html#adfeae0c0a64544469554ab352ea8c891">DescribeWalletAddressVisitor::operator()</a></div><div class="ttdeci">UniValue operator()(const WitnessV0ScriptHash &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03965">rpcwallet.cpp:3965</a></div></div>
<div class="ttc" id="aclass_describe_wallet_address_visitor_html_aeb5912fc6b88911442132d0da1661d47"><div class="ttname"><a href="class_describe_wallet_address_visitor.html#aeb5912fc6b88911442132d0da1661d47">DescribeWalletAddressVisitor::operator()</a></div><div class="ttdeci">UniValue operator()(const CNoDestination &amp;dest) const</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03930">rpcwallet.cpp:3930</a></div></div>
<div class="ttc" id="aclass_descriptor_script_pub_key_man_html"><div class="ttname"><a href="class_descriptor_script_pub_key_man.html">DescriptorScriptPubKeyMan</a></div><div class="ttdef"><b>Definition:</b> <a href="scriptpubkeyman_8h_source.html#l00508">scriptpubkeyman.h:509</a></div></div>
<div class="ttc" id="aclass_descriptor_script_pub_key_man_html_af2bcff41880af8116507f503ab68de2e"><div class="ttname"><a href="class_descriptor_script_pub_key_man.html#af2bcff41880af8116507f503ab68de2e">DescriptorScriptPubKeyMan::GetDescriptorString</a></div><div class="ttdeci">bool GetDescriptorString(std::string &amp;out, const bool priv) const</div><div class="ttdef"><b>Definition:</b> <a href="scriptpubkeyman_8cpp_source.html#l02261">scriptpubkeyman.cpp:2261</a></div></div>
<div class="ttc" id="aclass_fast_random_context_html"><div class="ttname"><a href="class_fast_random_context.html">FastRandomContext</a></div><div class="ttdoc">Fast randomness source.</div><div class="ttdef"><b>Definition:</b> <a href="random_8h_source.html#l00119">random.h:120</a></div></div>
<div class="ttc" id="aclass_fillable_signing_provider_html_af746182753c4b86ce00d101422ea6027"><div class="ttname"><a href="class_fillable_signing_provider.html#af746182753c4b86ce00d101422ea6027">FillableSigningProvider::cs_KeyStore</a></div><div class="ttdeci">RecursiveMutex cs_KeyStore</div><div class="ttdef"><b>Definition:</b> <a href="signingprovider_8h_source.html#l00149">signingprovider.h:149</a></div></div>
<div class="ttc" id="aclass_j_s_o_n_r_p_c_request_html"><div class="ttname"><a href="class_j_s_o_n_r_p_c_request.html">JSONRPCRequest</a></div><div class="ttdef"><b>Definition:</b> <a href="request_8h_source.html#l00028">request.h:29</a></div></div>
<div class="ttc" id="aclass_j_s_o_n_r_p_c_request_html_a2a0e3439d2e76995222577e2cba461a2"><div class="ttname"><a href="class_j_s_o_n_r_p_c_request.html#a2a0e3439d2e76995222577e2cba461a2">JSONRPCRequest::mode</a></div><div class="ttdeci">enum JSONRPCRequest::Mode mode</div></div>
<div class="ttc" id="aclass_j_s_o_n_r_p_c_request_html_a348dc05061c54e8b34c2844754959718a26ab687b9b0b80850731eaff9ffc9ac3"><div class="ttname"><a href="class_j_s_o_n_r_p_c_request.html#a348dc05061c54e8b34c2844754959718a26ab687b9b0b80850731eaff9ffc9ac3">JSONRPCRequest::EXECUTE</a></div><div class="ttdeci">@ EXECUTE</div><div class="ttdef"><b>Definition:</b> <a href="request_8h_source.html#l00034">request.h:34</a></div></div>
<div class="ttc" id="aclass_j_s_o_n_r_p_c_request_html_ad76baebb2078d9b706f92fa5202a6799"><div class="ttname"><a href="class_j_s_o_n_r_p_c_request.html#ad76baebb2078d9b706f92fa5202a6799">JSONRPCRequest::URI</a></div><div class="ttdeci">std::string URI</div><div class="ttdef"><b>Definition:</b> <a href="request_8h_source.html#l00035">request.h:35</a></div></div>
<div class="ttc" id="aclass_j_s_o_n_r_p_c_request_html_afb185a2238431ebbf6c9562b6df79471"><div class="ttname"><a href="class_j_s_o_n_r_p_c_request.html#afb185a2238431ebbf6c9562b6df79471">JSONRPCRequest::context</a></div><div class="ttdeci">std::any context</div><div class="ttdef"><b>Definition:</b> <a href="request_8h_source.html#l00038">request.h:38</a></div></div>
<div class="ttc" id="aclass_legacy_script_pub_key_man_html"><div class="ttname"><a href="class_legacy_script_pub_key_man.html">LegacyScriptPubKeyMan</a></div><div class="ttdef"><b>Definition:</b> <a href="scriptpubkeyman_8h_source.html#l00250">scriptpubkeyman.h:251</a></div></div>
<div class="ttc" id="aclass_legacy_script_pub_key_man_html_a0373742ef939385285811fbb796f290d"><div class="ttname"><a href="class_legacy_script_pub_key_man.html#a0373742ef939385285811fbb796f290d">LegacyScriptPubKeyMan::GetHDChain</a></div><div class="ttdeci">const CHDChain &amp; GetHDChain() const</div><div class="ttdef"><b>Definition:</b> <a href="scriptpubkeyman_8h_source.html#l00421">scriptpubkeyman.h:421</a></div></div>
<div class="ttc" id="aclass_legacy_script_pub_key_man_html_a300f20b5df4b127fa92e29f954a61bbc"><div class="ttname"><a href="class_legacy_script_pub_key_man.html#a300f20b5df4b127fa92e29f954a61bbc">LegacyScriptPubKeyMan::SetHDSeed</a></div><div class="ttdeci">void SetHDSeed(const CPubKey &amp;key)</div><div class="ttdef"><b>Definition:</b> <a href="scriptpubkeyman_8cpp_source.html#l01194">scriptpubkeyman.cpp:1194</a></div></div>
<div class="ttc" id="aclass_legacy_script_pub_key_man_html_ab50971b7c07a1814423218b10dbf3b56"><div class="ttname"><a href="class_legacy_script_pub_key_man.html#ab50971b7c07a1814423218b10dbf3b56">LegacyScriptPubKeyMan::NewKeyPool</a></div><div class="ttdeci">bool NewKeyPool()</div><div class="ttdoc">Mark old keypool keys as used, and generate all new keys.</div><div class="ttdef"><b>Definition:</b> <a href="scriptpubkeyman_8cpp_source.html#l01213">scriptpubkeyman.cpp:1213</a></div></div>
<div class="ttc" id="aclass_legacy_script_pub_key_man_html_aca11c5a43808a115f1b1849466d928f6"><div class="ttname"><a href="class_legacy_script_pub_key_man.html#aca11c5a43808a115f1b1849466d928f6">LegacyScriptPubKeyMan::GenerateNewSeed</a></div><div class="ttdeci">CPubKey GenerateNewSeed()</div><div class="ttdef"><b>Definition:</b> <a href="scriptpubkeyman_8cpp_source.html#l01158">scriptpubkeyman.cpp:1158</a></div></div>
<div class="ttc" id="aclass_legacy_script_pub_key_man_html_ae297da8721692890b66fd4ba2f3f4259"><div class="ttname"><a href="class_legacy_script_pub_key_man.html#ae297da8721692890b66fd4ba2f3f4259">LegacyScriptPubKeyMan::DeriveNewSeed</a></div><div class="ttdeci">CPubKey DeriveNewSeed(const CKey &amp;key)</div><div class="ttdef"><b>Definition:</b> <a href="scriptpubkeyman_8cpp_source.html#l01166">scriptpubkeyman.cpp:1166</a></div></div>
<div class="ttc" id="aclass_r_p_c_help_man_html"><div class="ttname"><a href="class_r_p_c_help_man.html">RPCHelpMan</a></div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8h_source.html#l00345">util.h:346</a></div></div>
<div class="ttc" id="aclass_script_pub_key_man_html"><div class="ttname"><a href="class_script_pub_key_man.html">ScriptPubKeyMan</a></div><div class="ttdef"><b>Definition:</b> <a href="scriptpubkeyman_8h_source.html#l00158">scriptpubkeyman.h:159</a></div></div>
<div class="ttc" id="aclass_script_pub_key_man_html_a1f4157dbdffbac31b4ca245dd6a36d14"><div class="ttname"><a href="class_script_pub_key_man.html#a1f4157dbdffbac31b4ca245dd6a36d14">ScriptPubKeyMan::GetMetadata</a></div><div class="ttdeci">virtual std::unique_ptr&lt; CKeyMetadata &gt; GetMetadata(const CTxDestination &amp;dest) const</div><div class="ttdef"><b>Definition:</b> <a href="scriptpubkeyman_8h_source.html#l00212">scriptpubkeyman.h:212</a></div></div>
<div class="ttc" id="aclass_signing_provider_html"><div class="ttname"><a href="class_signing_provider.html">SigningProvider</a></div><div class="ttdoc">An interface to be implemented by keystores that support signing.</div><div class="ttdef"><b>Definition:</b> <a href="signingprovider_8h_source.html#l00018">signingprovider.h:19</a></div></div>
<div class="ttc" id="aclass_signing_provider_html_a74f30a174ff9bb28c01dc689e6c6708f"><div class="ttname"><a href="class_signing_provider.html#a74f30a174ff9bb28c01dc689e6c6708f">SigningProvider::GetCScript</a></div><div class="ttdeci">virtual bool GetCScript(const CScriptID &amp;scriptid, CScript &amp;script) const</div><div class="ttdef"><b>Definition:</b> <a href="signingprovider_8h_source.html#l00022">signingprovider.h:22</a></div></div>
<div class="ttc" id="aclass_signing_provider_html_abe22326c4cc29cf4ecf235e5d1dc9d7d"><div class="ttname"><a href="class_signing_provider.html#abe22326c4cc29cf4ecf235e5d1dc9d7d">SigningProvider::GetPubKey</a></div><div class="ttdeci">virtual bool GetPubKey(const CKeyID &amp;address, CPubKey &amp;pubkey) const</div><div class="ttdef"><b>Definition:</b> <a href="signingprovider_8h_source.html#l00024">signingprovider.h:24</a></div></div>
<div class="ttc" id="aclass_span_html"><div class="ttname"><a href="class_span.html">Span</a></div><div class="ttdoc">A Span is an object that can refer to a contiguous sequence of objects.</div><div class="ttdef"><b>Definition:</b> <a href="span_8h_source.html#l00092">span.h:93</a></div></div>
<div class="ttc" id="aclass_uni_value_html"><div class="ttname"><a href="class_uni_value.html">UniValue</a></div><div class="ttdef"><b>Definition:</b> <a href="univalue_8h_source.html#l00017">univalue.h:17</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a087ea6ccec615333371fa1aaf83ab7df"><div class="ttname"><a href="class_uni_value.html#a087ea6ccec615333371fa1aaf83ab7df">UniValue::get_str</a></div><div class="ttdeci">const std::string &amp; get_str() const</div><div class="ttdef"><b>Definition:</b> <a href="univalue__get_8cpp_source.html#l00098">univalue_get.cpp:98</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a1491167609f899d0c7773749b5047969"><div class="ttname"><a href="class_uni_value.html#a1491167609f899d0c7773749b5047969">UniValue::isTrue</a></div><div class="ttdeci">bool isTrue() const</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8h_source.html#l00076">univalue.h:76</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475"><div class="ttname"><a href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a4d17ac56db012de25e26ac62daf3f475">UniValue::VOBJ</a></div><div class="ttdeci">@ VOBJ</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8h_source.html#l00019">univalue.h:19</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a2f9803e567ede73e88302b01e394cc63a7afa7b747615105024aab97ff5bf4d11"><div class="ttname"><a href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63a7afa7b747615105024aab97ff5bf4d11">UniValue::VSTR</a></div><div class="ttdeci">@ VSTR</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8h_source.html#l00019">univalue.h:19</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4"><div class="ttname"><a href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aa95a3bc9bbb82964abef922146cc73c4">UniValue::VARR</a></div><div class="ttdeci">@ VARR</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8h_source.html#l00019">univalue.h:19</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a2f9803e567ede73e88302b01e394cc63aba88a44dcdb6e3be0538d14997ff042b"><div class="ttname"><a href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63aba88a44dcdb6e3be0538d14997ff042b">UniValue::VNUM</a></div><div class="ttdeci">@ VNUM</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8h_source.html#l00019">univalue.h:19</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8"><div class="ttname"><a href="class_uni_value.html#a2f9803e567ede73e88302b01e394cc63af6f71c0fb8fb8fd72d0ec30d8ec9e1b8">UniValue::VBOOL</a></div><div class="ttdeci">@ VBOOL</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8h_source.html#l00019">univalue.h:19</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a3661be0f5580daceb23e5338e3a0df22"><div class="ttname"><a href="class_uni_value.html#a3661be0f5580daceb23e5338e3a0df22">UniValue::isNull</a></div><div class="ttdeci">bool isNull() const</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8h_source.html#l00075">univalue.h:75</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a49a6ac464f3c2d918e7379d3203c7337"><div class="ttname"><a href="class_uni_value.html#a49a6ac464f3c2d918e7379d3203c7337">UniValue::get_obj</a></div><div class="ttdeci">const UniValue &amp; get_obj() const</div><div class="ttdef"><b>Definition:</b> <a href="univalue__get_8cpp_source.html#l00135">univalue_get.cpp:135</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a505a2087cb7d9ee51d24a97a5cc7910c"><div class="ttname"><a href="class_uni_value.html#a505a2087cb7d9ee51d24a97a5cc7910c">UniValue::__pushKV</a></div><div class="ttdeci">void __pushKV(const std::string &amp;key, const UniValue &amp;val)</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8cpp_source.html#l00127">univalue.cpp:127</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a5a7394aeb8d5584db7a90c2c041726b1"><div class="ttname"><a href="class_uni_value.html#a5a7394aeb8d5584db7a90c2c041726b1">UniValue::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8h_source.html#l00066">univalue.h:66</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a5b33bfd4be1574e610eee5a7cdae77d1"><div class="ttname"><a href="class_uni_value.html#a5b33bfd4be1574e610eee5a7cdae77d1">UniValue::type</a></div><div class="ttdeci">enum VType type() const</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8h_source.html#l00179">univalue.h:179</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a60de76689de98b6c97ca723e280becf8"><div class="ttname"><a href="class_uni_value.html#a60de76689de98b6c97ca723e280becf8">UniValue::getValues</a></div><div class="ttdeci">const std::vector&lt; UniValue &gt; &amp; getValues() const</div><div class="ttdef"><b>Definition:</b> <a href="univalue__get_8cpp_source.html#l00084">univalue_get.cpp:84</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a67e4178f582aa9f7bc39e71066ad786e"><div class="ttname"><a href="class_uni_value.html#a67e4178f582aa9f7bc39e71066ad786e">UniValue::getKeys</a></div><div class="ttdeci">const std::vector&lt; std::string &gt; &amp; getKeys() const</div><div class="ttdef"><b>Definition:</b> <a href="univalue__get_8cpp_source.html#l00077">univalue_get.cpp:77</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a6cf106f8b73c526b50d0c77a36a2d8ec"><div class="ttname"><a href="class_uni_value.html#a6cf106f8b73c526b50d0c77a36a2d8ec">UniValue::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8h_source.html#l00064">univalue.h:64</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a89821b3f48732c1539e674378cdf7a87"><div class="ttname"><a href="class_uni_value.html#a89821b3f48732c1539e674378cdf7a87">UniValue::pushKVs</a></div><div class="ttdeci">bool pushKVs(const UniValue &amp;obj)</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8cpp_source.html#l00146">univalue.cpp:146</a></div></div>
<div class="ttc" id="aclass_uni_value_html_a944cd1b59b040cd24c9f46b55a68d49a"><div class="ttname"><a href="class_uni_value.html#a944cd1b59b040cd24c9f46b55a68d49a">UniValue::push_back</a></div><div class="ttdeci">bool push_back(const UniValue &amp;val)</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8cpp_source.html#l00108">univalue.cpp:108</a></div></div>
<div class="ttc" id="aclass_uni_value_html_aa9751b5797cb84d15b9fe4ca217f0b63"><div class="ttname"><a href="class_uni_value.html#aa9751b5797cb84d15b9fe4ca217f0b63">UniValue::get_array</a></div><div class="ttdeci">const UniValue &amp; get_array() const</div><div class="ttdef"><b>Definition:</b> <a href="univalue__get_8cpp_source.html#l00142">univalue_get.cpp:142</a></div></div>
<div class="ttc" id="aclass_uni_value_html_aad13d343dbda293251205e37d8b83c27"><div class="ttname"><a href="class_uni_value.html#aad13d343dbda293251205e37d8b83c27">UniValue::exists</a></div><div class="ttdeci">bool exists(const std::string &amp;key) const</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8h_source.html#l00073">univalue.h:73</a></div></div>
<div class="ttc" id="aclass_uni_value_html_abab649c2dbd593233de6364254456026"><div class="ttname"><a href="class_uni_value.html#abab649c2dbd593233de6364254456026">UniValue::pushKV</a></div><div class="ttdeci">bool pushKV(const std::string &amp;key, const UniValue &amp;val)</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8cpp_source.html#l00133">univalue.cpp:133</a></div></div>
<div class="ttc" id="aclass_uni_value_html_ae8a27d40aa1b1322ea95ff4fb2dec2b1"><div class="ttname"><a href="class_uni_value.html#ae8a27d40aa1b1322ea95ff4fb2dec2b1">UniValue::get_bool</a></div><div class="ttdeci">bool get_bool() const</div><div class="ttdef"><b>Definition:</b> <a href="univalue__get_8cpp_source.html#l00091">univalue_get.cpp:91</a></div></div>
<div class="ttc" id="aclass_uni_value_html_af45edc6e67eaa6d1f271ce18e435a376"><div class="ttname"><a href="class_uni_value.html#af45edc6e67eaa6d1f271ce18e435a376">UniValue::get_int</a></div><div class="ttdeci">int get_int() const</div><div class="ttdef"><b>Definition:</b> <a href="univalue__get_8cpp_source.html#l00105">univalue_get.cpp:105</a></div></div>
<div class="ttc" id="aclass_wallet_rescan_reserver_html"><div class="ttname"><a href="class_wallet_rescan_reserver.html">WalletRescanReserver</a></div><div class="ttdoc">RAII object to check and reserve a wallet rescan.</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00889">wallet.h:890</a></div></div>
<div class="ttc" id="aclass_wallet_rescan_reserver_html_aac546d40754d9594428795cce418df6a"><div class="ttname"><a href="class_wallet_rescan_reserver.html#aac546d40754d9594428795cce418df6a">WalletRescanReserver::reserve</a></div><div class="ttdeci">bool reserve()</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00897">wallet.h:897</a></div></div>
<div class="ttc" id="aclassbase__blob_html_a6b3e01650a0101a43957dd813a441437"><div class="ttname"><a href="classbase__blob.html#a6b3e01650a0101a43957dd813a441437">base_blob::begin</a></div><div class="ttdeci">unsigned char * begin()</div><div class="ttdef"><b>Definition:</b> <a href="uint256_8h_source.html#l00058">uint256.h:58</a></div></div>
<div class="ttc" id="aclassbase__blob_html_aba89c6722866a5850882a509d27d7bbd"><div class="ttname"><a href="classbase__blob.html#aba89c6722866a5850882a509d27d7bbd">base_blob::IsNull</a></div><div class="ttdeci">bool IsNull() const</div><div class="ttdef"><b>Definition:</b> <a href="uint256_8h_source.html#l00031">uint256.h:31</a></div></div>
<div class="ttc" id="aclassbase__blob_html_ad7263503f949fb3c6c520ebb1f28e378"><div class="ttname"><a href="classbase__blob.html#ad7263503f949fb3c6c520ebb1f28e378">base_blob::GetHex</a></div><div class="ttdeci">std::string GetHex() const</div><div class="ttdef"><b>Definition:</b> <a href="uint256_8cpp_source.html#l00020">uint256.cpp:20</a></div></div>
<div class="ttc" id="aclassfs_1_1path_html"><div class="ttname"><a href="classfs_1_1path.html">fs::path</a></div><div class="ttdoc">Path class wrapper to prepare application code for transition from boost::filesystem library to std::...</div><div class="ttdef"><b>Definition:</b> <a href="fs_8h_source.html#l00033">fs.h:34</a></div></div>
<div class="ttc" id="aclassfs_1_1path_html_a564975456d024dab5b33103085ad9957"><div class="ttname"><a href="classfs_1_1path.html#a564975456d024dab5b33103085ad9957">fs::path::u8string</a></div><div class="ttdeci">std::string u8string() const</div><div class="ttdef"><b>Definition:</b> <a href="fs_8h_source.html#l00059">fs.h:59</a></div></div>
<div class="ttc" id="aclassinterfaces_1_1_chain_html"><div class="ttname"><a href="classinterfaces_1_1_chain.html">interfaces::Chain</a></div><div class="ttdoc">Interface giving clients (wallet processes, maybe other analysis tools in the future) ability to acce...</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2chain_8h_source.html#l00092">chain.h:93</a></div></div>
<div class="ttc" id="aclassinterfaces_1_1_chain_html_a0219c6352071d6fc2ad93a4579242e29"><div class="ttname"><a href="classinterfaces_1_1_chain.html#a0219c6352071d6fc2ad93a4579242e29">interfaces::Chain::rpcRunLater</a></div><div class="ttdeci">virtual void rpcRunLater(const std::string &amp;name, std::function&lt; void()&gt; fn, int64_t seconds)=0</div><div class="ttdoc">Run function after given number of seconds. Cancel any previous calls with same name.</div></div>
<div class="ttc" id="aclassinterfaces_1_1_chain_html_a2a4a2ab40a8471a23d1018474393bc00"><div class="ttname"><a href="classinterfaces_1_1_chain.html#a2a4a2ab40a8471a23d1018474393bc00">interfaces::Chain::isRBFOptIn</a></div><div class="ttdeci">virtual RBFTransactionState isRBFOptIn(const CTransaction &amp;tx)=0</div><div class="ttdoc">Check if transaction is RBF opt in.</div></div>
<div class="ttc" id="aclassinterfaces_1_1_chain_html_a8b3d038fc182b9268d4d3fe3c79e9a84"><div class="ttname"><a href="classinterfaces_1_1_chain.html#a8b3d038fc182b9268d4d3fe3c79e9a84">interfaces::Chain::findBlock</a></div><div class="ttdeci">virtual bool findBlock(const uint256 &amp;hash, const FoundBlock &amp;block={})=0</div><div class="ttdoc">Return whether node has the block and optionally return block metadata or contents.</div></div>
<div class="ttc" id="aclassinterfaces_1_1_found_block_html"><div class="ttname"><a href="classinterfaces_1_1_found_block.html">interfaces::FoundBlock</a></div><div class="ttdoc">Helper for findBlock to selectively return pieces of block data.</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2chain_8h_source.html#l00041">chain.h:42</a></div></div>
<div class="ttc" id="aclassprevector_html_af34b1eea43f461465aa29fe7ca67449d"><div class="ttname"><a href="classprevector.html#af34b1eea43f461465aa29fe7ca67449d">prevector::push_back</a></div><div class="ttdeci">void push_back(const T &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="prevector_8h_source.html#l00437">prevector.h:437</a></div></div>
<div class="ttc" id="aclassuint160_html"><div class="ttname"><a href="classuint160.html">uint160</a></div><div class="ttdoc">160-bit opaque blob.</div><div class="ttdef"><b>Definition:</b> <a href="uint256_8h_source.html#l00113">uint256.h:113</a></div></div>
<div class="ttc" id="aclassuint256_html"><div class="ttname"><a href="classuint256.html">uint256</a></div><div class="ttdoc">256-bit opaque blob.</div><div class="ttdef"><b>Definition:</b> <a href="uint256_8h_source.html#l00124">uint256.h:124</a></div></div>
<div class="ttc" id="acoincontrol_8h_html"><div class="ttname"><a href="coincontrol_8h.html">coincontrol.h</a></div></div>
<div class="ttc" id="acore__io_8h_html"><div class="ttname"><a href="core__io_8h.html">core_io.h</a></div></div>
<div class="ttc" id="acore__io_8h_html_a54a58438a2f3f96d0697910ca68aa9da"><div class="ttname"><a href="core__io_8h.html#a54a58438a2f3f96d0697910ca68aa9da">ParseSighashString</a></div><div class="ttdeci">int ParseSighashString(const UniValue &amp;sighash)</div><div class="ttdef"><b>Definition:</b> <a href="core__read_8cpp_source.html#l00249">core_read.cpp:249</a></div></div>
<div class="ttc" id="acore__io_8h_html_aadd59c0793b3ccee08ad1c3f4557c1c3"><div class="ttname"><a href="core__io_8h.html#aadd59c0793b3ccee08ad1c3f4557c1c3">EncodeHexTx</a></div><div class="ttdeci">std::string EncodeHexTx(const CTransaction &amp;tx, const int serializeFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="core__write_8cpp_source.html#l00138">core_write.cpp:138</a></div></div>
<div class="ttc" id="acore__io_8h_html_aaf5886c6c92afeb399fb5c4dcf19db44"><div class="ttname"><a href="core__io_8h.html#aaf5886c6c92afeb399fb5c4dcf19db44">TxToUniv</a></div><div class="ttdeci">void TxToUniv(const CTransaction &amp;tx, const uint256 &amp;hashBlock, UniValue &amp;entry, bool include_hex=true, int serialize_flags=0, const CTxUndo *txundo=nullptr, TxVerbosity verbosity=TxVerbosity::SHOW_DETAILS)</div><div class="ttdef"><b>Definition:</b> <a href="core__write_8cpp_source.html#l00166">core_write.cpp:166</a></div></div>
<div class="ttc" id="acore__io_8h_html_af7d87ece476c2d6ed5382abf4baa210e"><div class="ttname"><a href="core__io_8h.html#af7d87ece476c2d6ed5382abf4baa210e">ValueFromAmount</a></div><div class="ttdeci">UniValue ValueFromAmount(const CAmount amount)</div><div class="ttdef"><b>Definition:</b> <a href="core__write_8cpp_source.html#l00021">core_write.cpp:21</a></div></div>
<div class="ttc" id="acore__io_8h_html_af85d4419a3e04333cf965bd6c5b466af"><div class="ttname"><a href="core__io_8h.html#af85d4419a3e04333cf965bd6c5b466af">DecodeHexTx</a></div><div class="ttdeci">bool DecodeHexTx(CMutableTransaction &amp;tx, const std::string &amp;hex_tx, bool try_no_witness=false, bool try_witness=true)</div><div class="ttdef"><b>Definition:</b> <a href="core__read_8cpp_source.html#l00189">core_read.cpp:189</a></div></div>
<div class="ttc" id="adb_8cpp_html_afec818d267130578036e4146a05e9260"><div class="ttname"><a href="db_8cpp.html#afec818d267130578036e4146a05e9260">ListDatabases</a></div><div class="ttdeci">std::vector&lt; fs::path &gt; ListDatabases(const fs::path &amp;wallet_dir)</div><div class="ttdoc">Recursively list database paths in directory.</div><div class="ttdef"><b>Definition:</b> <a href="db_8cpp_source.html#l00013">db.cpp:13</a></div></div>
<div class="ttc" id="adb_8h_html_a3e1dbc3fee0c633ca09b18754de3644d"><div class="ttname"><a href="db_8h.html#a3e1dbc3fee0c633ca09b18754de3644d">DatabaseStatus</a></div><div class="ttdeci">DatabaseStatus</div><div class="ttdef"><b>Definition:</b> <a href="db_8h_source.html#l00212">db.h:212</a></div></div>
<div class="ttc" id="adb_8h_html_a3e1dbc3fee0c633ca09b18754de3644da1597629da62931203a6325c688c01ff1"><div class="ttname"><a href="db_8h.html#a3e1dbc3fee0c633ca09b18754de3644da1597629da62931203a6325c688c01ff1">DatabaseStatus::FAILED_ALREADY_LOADED</a></div><div class="ttdeci">@ FAILED_ALREADY_LOADED</div></div>
<div class="ttc" id="adb_8h_html_a3e1dbc3fee0c633ca09b18754de3644da1bfcc57bccb104f3dbcadcc99eafdaa4"><div class="ttname"><a href="db_8h.html#a3e1dbc3fee0c633ca09b18754de3644da1bfcc57bccb104f3dbcadcc99eafdaa4">DatabaseStatus::FAILED_NOT_FOUND</a></div><div class="ttdeci">@ FAILED_NOT_FOUND</div></div>
<div class="ttc" id="adb_8h_html_a3e1dbc3fee0c633ca09b18754de3644da480adcdb16d2c4250f1a3cb0282a1771"><div class="ttname"><a href="db_8h.html#a3e1dbc3fee0c633ca09b18754de3644da480adcdb16d2c4250f1a3cb0282a1771">DatabaseStatus::FAILED_BAD_FORMAT</a></div><div class="ttdeci">@ FAILED_BAD_FORMAT</div></div>
<div class="ttc" id="adb_8h_html_a3e1dbc3fee0c633ca09b18754de3644dad3af674dfdb2058d55d9db8d9aae14a1"><div class="ttname"><a href="db_8h.html#a3e1dbc3fee0c633ca09b18754de3644dad3af674dfdb2058d55d9db8d9aae14a1">DatabaseStatus::FAILED_ENCRYPT</a></div><div class="ttdeci">@ FAILED_ENCRYPT</div></div>
<div class="ttc" id="adenialofservice__tests_8cpp_html_a74da8e651f4684ed58c78d8ba5984487"><div class="ttname"><a href="denialofservice__tests_8cpp.html#a74da8e651f4684ed58c78d8ba5984487">id</a></div><div class="ttdeci">static NodeId id</div><div class="ttdef"><b>Definition:</b> <a href="denialofservice__tests_8cpp_source.html#l00037">denialofservice_tests.cpp:37</a></div></div>
<div class="ttc" id="adescriptor_8cpp_html_a496a25c1d88122782c2a426d38394f0a"><div class="ttname"><a href="descriptor_8cpp.html#a496a25c1d88122782c2a426d38394f0a">InferDescriptor</a></div><div class="ttdeci">std::unique_ptr&lt; Descriptor &gt; InferDescriptor(const CScript &amp;script, const SigningProvider &amp;provider)</div><div class="ttdoc">Find a descriptor for the specified script, using information from provider where possible.</div><div class="ttdef"><b>Definition:</b> <a href="descriptor_8cpp_source.html#l01412">descriptor.cpp:1412</a></div></div>
<div class="ttc" id="adescriptor_8cpp_html_a5b04a070a89420018a8c38a25807bf68"><div class="ttname"><a href="descriptor_8cpp.html#a5b04a070a89420018a8c38a25807bf68">Parse</a></div><div class="ttdeci">std::unique_ptr&lt; Descriptor &gt; Parse(const std::string &amp;descriptor, FlatSigningProvider &amp;out, std::string &amp;error, bool require_checksum)</div><div class="ttdoc">Parse a descriptor string.</div><div class="ttdef"><b>Definition:</b> <a href="descriptor_8cpp_source.html#l01393">descriptor.cpp:1393</a></div></div>
<div class="ttc" id="adescriptor_8h_html"><div class="ttname"><a href="descriptor_8h.html">descriptor.h</a></div></div>
<div class="ttc" id="aerror_8h_html_a857c3bfc8da2a43cebacd0582cc867ac"><div class="ttname"><a href="error_8h.html#a857c3bfc8da2a43cebacd0582cc867ac">TransactionError</a></div><div class="ttdeci">TransactionError</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00022">error.h:22</a></div></div>
<div class="ttc" id="aerror_8h_html_a857c3bfc8da2a43cebacd0582cc867acae0aa021e21dddbd6d8cecec71e9cf564"><div class="ttname"><a href="error_8h.html#a857c3bfc8da2a43cebacd0582cc867acae0aa021e21dddbd6d8cecec71e9cf564">TransactionError::OK</a></div><div class="ttdeci">@ OK</div><div class="ttdoc">No error.</div></div>
<div class="ttc" id="afeebumper_8h_html"><div class="ttname"><a href="feebumper_8h.html">feebumper.h</a></div></div>
<div class="ttc" id="afeerate_8h_html"><div class="ttname"><a href="feerate_8h.html">feerate.h</a></div></div>
<div class="ttc" id="afeerate_8h_html_a27324887fb6588f0b1efc0ad3e347e1c"><div class="ttname"><a href="feerate_8h.html#a27324887fb6588f0b1efc0ad3e347e1c">CURRENCY_ATOM</a></div><div class="ttdeci">const std::string CURRENCY_ATOM</div><div class="ttdef"><b>Definition:</b> <a href="feerate_8h_source.html#l00015">feerate.h:15</a></div></div>
<div class="ttc" id="afeerate_8h_html_aea7f12c6759c81efa2b9c7154708a4ca"><div class="ttname"><a href="feerate_8h.html#aea7f12c6759c81efa2b9c7154708a4ca">CURRENCY_UNIT</a></div><div class="ttdeci">const std::string CURRENCY_UNIT</div><div class="ttdef"><b>Definition:</b> <a href="feerate_8h_source.html#l00014">feerate.h:14</a></div></div>
<div class="ttc" id="afeerate_8h_html_aff36f74244c52c764c1af21d5f812173ae60e9017cce9fe03f15d111eae1891a0"><div class="ttname"><a href="feerate_8h.html#aff36f74244c52c764c1af21d5f812173ae60e9017cce9fe03f15d111eae1891a0">FeeEstimateMode::SAT_VB</a></div><div class="ttdeci">@ SAT_VB</div><div class="ttdoc">Use sat/vB fee rate unit.</div></div>
<div class="ttc" id="agroup___actions_html_ga0746208774055ba9753d73781592560e"><div class="ttname"><a href="group___actions.html#ga0746208774055ba9753d73781592560e">CWallet::DisplayAddress</a></div><div class="ttdeci">bool DisplayAddress(const CTxDestination &amp;dest) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet)</div><div class="ttdoc">Display address on an external signer.</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8cpp_source.html#l02252">wallet.cpp:2252</a></div></div>
<div class="ttc" id="agroup___actions_html_ga9730278506e0a4f1c65239b951525b55"><div class="ttname"><a href="group___actions.html#ga9730278506e0a4f1c65239b951525b55">CWallet::TopUpKeyPool</a></div><div class="ttdeci">bool TopUpKeyPool(unsigned int kpSize=0)</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8cpp_source.html#l02129">wallet.cpp:2129</a></div></div>
<div class="ttc" id="ainterfaces_2chain_8h_html"><div class="ttname"><a href="interfaces_2chain_8h.html">chain.h</a></div></div>
<div class="ttc" id="ainterfaces_2wallet_8h_html_aaa5e1639d76aef50f70532acc3302c4b"><div class="ttname"><a href="interfaces_2wallet_8h.html#aaa5e1639d76aef50f70532acc3302c4b">isminefilter</a></div><div class="ttdeci">uint8_t isminefilter</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2wallet_8h_source.html#l00037">wallet.h:36</a></div></div>
<div class="ttc" id="ainterpreter_8h_html_ac36f475ca5b446f4fde4c9b90bec77c8ab9456a9165db395967f3f02cf2609afa"><div class="ttname"><a href="interpreter_8h.html#ac36f475ca5b446f4fde4c9b90bec77c8ab9456a9165db395967f3f02cf2609afa">SIGHASH_DEFAULT</a></div><div class="ttdeci">@ SIGHASH_DEFAULT</div><div class="ttdoc">Taproot only; implied when sighash byte is missing, and equivalent to SIGHASH_ALL.</div><div class="ttdef"><b>Definition:</b> <a href="interpreter_8h_source.html#l00032">interpreter.h:32</a></div></div>
<div class="ttc" id="aismine_8h_html_a050f9a1a807967a24bcbeebfc5952533"><div class="ttname"><a href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533">isminetype</a></div><div class="ttdeci">isminetype</div><div class="ttdoc">IsMine() return codes, which depend on ScriptPubKeyMan implementation.</div><div class="ttdef"><b>Definition:</b> <a href="ismine_8h_source.html#l00038">ismine.h:39</a></div></div>
<div class="ttc" id="aismine_8h_html_a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58"><div class="ttname"><a href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533aaf93acf4732907100f55dc017b6daf58">ISMINE_SPENDABLE</a></div><div class="ttdeci">@ ISMINE_SPENDABLE</div><div class="ttdef"><b>Definition:</b> <a href="ismine_8h_source.html#l00042">ismine.h:42</a></div></div>
<div class="ttc" id="aismine_8h_html_a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29"><div class="ttname"><a href="ismine_8h.html#a050f9a1a807967a24bcbeebfc5952533ac8c855baf258588de5f5d7508d243e29">ISMINE_WATCH_ONLY</a></div><div class="ttdeci">@ ISMINE_WATCH_ONLY</div><div class="ttdef"><b>Definition:</b> <a href="ismine_8h_source.html#l00041">ismine.h:41</a></div></div>
<div class="ttc" id="akey__io_8cpp_html_a32169f8eb6ebcce6412b675f9d23d878"><div class="ttname"><a href="key__io_8cpp.html#a32169f8eb6ebcce6412b675f9d23d878">IsValidDestinationString</a></div><div class="ttdeci">bool IsValidDestinationString(const std::string &amp;str, const CChainParams &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="key__io_8cpp_source.html#l00272">key_io.cpp:272</a></div></div>
<div class="ttc" id="akey__io_8cpp_html_a69b845c325e6bf516251cd3a67fe1df7"><div class="ttname"><a href="key__io_8cpp.html#a69b845c325e6bf516251cd3a67fe1df7">EncodeDestination</a></div><div class="ttdeci">std::string EncodeDestination(const CTxDestination &amp;dest)</div><div class="ttdef"><b>Definition:</b> <a href="key__io_8cpp_source.html#l00256">key_io.cpp:256</a></div></div>
<div class="ttc" id="akey__io_8cpp_html_a7941777b013d8d31958b7ffbc8c3563f"><div class="ttname"><a href="key__io_8cpp.html#a7941777b013d8d31958b7ffbc8c3563f">DecodeSecret</a></div><div class="ttdeci">CKey DecodeSecret(const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="key__io_8cpp_source.html#l00178">key_io.cpp:178</a></div></div>
<div class="ttc" id="akey__io_8cpp_html_ae9479724a35444166ba384a69e1f246c"><div class="ttname"><a href="key__io_8cpp.html#ae9479724a35444166ba384a69e1f246c">DecodeDestination</a></div><div class="ttdeci">CTxDestination DecodeDestination(const std::string &amp;str, std::string &amp;error_msg)</div><div class="ttdef"><b>Definition:</b> <a href="key__io_8cpp_source.html#l00261">key_io.cpp:261</a></div></div>
<div class="ttc" id="akey__io_8h_html"><div class="ttname"><a href="key__io_8h.html">key_io.h</a></div></div>
<div class="ttc" id="aload_8h_html"><div class="ttname"><a href="load_8h.html">load.h</a></div></div>
<div class="ttc" id="amessage_8h_html"><div class="ttname"><a href="message_8h.html">message.h</a></div></div>
<div class="ttc" id="amessage_8h_html_a5f6c064c16999f3c857affb9e4b99a1e"><div class="ttname"><a href="message_8h.html#a5f6c064c16999f3c857affb9e4b99a1e">SigningResult</a></div><div class="ttdeci">SigningResult</div><div class="ttdef"><b>Definition:</b> <a href="message_8h_source.html#l00042">message.h:42</a></div></div>
<div class="ttc" id="amessage_8h_html_a5f6c064c16999f3c857affb9e4b99a1ea5949069cd0ebd438f332cab590a1b073"><div class="ttname"><a href="message_8h.html#a5f6c064c16999f3c857affb9e4b99a1ea5949069cd0ebd438f332cab590a1b073">SigningResult::SIGNING_FAILED</a></div><div class="ttdeci">@ SIGNING_FAILED</div></div>
<div class="ttc" id="amessage_8h_html_a5f6c064c16999f3c857affb9e4b99a1eae0aa021e21dddbd6d8cecec71e9cf564"><div class="ttname"><a href="message_8h.html#a5f6c064c16999f3c857affb9e4b99a1eae0aa021e21dddbd6d8cecec71e9cf564">SigningResult::OK</a></div><div class="ttdeci">@ OK</div><div class="ttdoc">No error.</div></div>
<div class="ttc" id="amoneystr_8cpp_html_a1ef0729147807284909e10785955672b"><div class="ttname"><a href="moneystr_8cpp.html#a1ef0729147807284909e10785955672b">FormatMoney</a></div><div class="ttdeci">std::string FormatMoney(const CAmount n)</div><div class="ttdoc">Money parsing/formatting utilities.</div><div class="ttdef"><b>Definition:</b> <a href="moneystr_8cpp_source.html#l00015">moneystr.cpp:15</a></div></div>
<div class="ttc" id="amoneystr_8h_html"><div class="ttname"><a href="moneystr_8h.html">moneystr.h</a></div></div>
<div class="ttc" id="anamespacefeebumper_html_a08fe575802ef410f95f786253c489bc6"><div class="ttname"><a href="namespacefeebumper.html#a08fe575802ef410f95f786253c489bc6">feebumper::Result</a></div><div class="ttdeci">Result</div><div class="ttdef"><b>Definition:</b> <a href="feebumper_8h_source.html#l00019">feebumper.h:20</a></div></div>
<div class="ttc" id="anamespacefeebumper_html_a08fe575802ef410f95f786253c489bc6a08882b2afdb1b387f4af528ee0005ab3"><div class="ttname"><a href="namespacefeebumper.html#a08fe575802ef410f95f786253c489bc6a08882b2afdb1b387f4af528ee0005ab3">feebumper::Result::WALLET_ERROR</a></div><div class="ttdeci">@ WALLET_ERROR</div></div>
<div class="ttc" id="anamespacefeebumper_html_a08fe575802ef410f95f786253c489bc6a17e958c4b09cbb64fd75df0211dd49c6"><div class="ttname"><a href="namespacefeebumper.html#a08fe575802ef410f95f786253c489bc6a17e958c4b09cbb64fd75df0211dd49c6">feebumper::Result::INVALID_ADDRESS_OR_KEY</a></div><div class="ttdeci">@ INVALID_ADDRESS_OR_KEY</div></div>
<div class="ttc" id="anamespacefeebumper_html_a08fe575802ef410f95f786253c489bc6ab8c9d7ce4c399c56136475f36309020f"><div class="ttname"><a href="namespacefeebumper.html#a08fe575802ef410f95f786253c489bc6ab8c9d7ce4c399c56136475f36309020f">feebumper::Result::INVALID_REQUEST</a></div><div class="ttdeci">@ INVALID_REQUEST</div></div>
<div class="ttc" id="anamespacefeebumper_html_a08fe575802ef410f95f786253c489bc6ae0aa021e21dddbd6d8cecec71e9cf564"><div class="ttname"><a href="namespacefeebumper.html#a08fe575802ef410f95f786253c489bc6ae0aa021e21dddbd6d8cecec71e9cf564">feebumper::Result::OK</a></div><div class="ttdeci">@ OK</div></div>
<div class="ttc" id="anamespacefeebumper_html_a08fe575802ef410f95f786253c489bc6afeb1a30cb74c35aaf4ea067736109e30"><div class="ttname"><a href="namespacefeebumper.html#a08fe575802ef410f95f786253c489bc6afeb1a30cb74c35aaf4ea067736109e30">feebumper::Result::INVALID_PARAMETER</a></div><div class="ttdeci">@ INVALID_PARAMETER</div></div>
<div class="ttc" id="anamespacefeebumper_html_a57269b81bd5c8613496a5e27b584497b"><div class="ttname"><a href="namespacefeebumper.html#a57269b81bd5c8613496a5e27b584497b">feebumper::CommitTransaction</a></div><div class="ttdeci">Result CommitTransaction(CWallet &amp;wallet, const uint256 &amp;txid, CMutableTransaction &amp;&amp;mtx, std::vector&lt; bilingual_str &gt; &amp;errors, uint256 &amp;bumped_txid)</div><div class="ttdoc">Commit the bumpfee transaction.</div><div class="ttdef"><b>Definition:</b> <a href="feebumper_8cpp_source.html#l00250">feebumper.cpp:250</a></div></div>
<div class="ttc" id="anamespacefeebumper_html_a8930f8cd4321de4955fbac8ca2e3af64"><div class="ttname"><a href="namespacefeebumper.html#a8930f8cd4321de4955fbac8ca2e3af64">feebumper::CreateRateBumpTransaction</a></div><div class="ttdeci">Result CreateRateBumpTransaction(CWallet &amp;wallet, const uint256 &amp;txid, const CCoinControl &amp;coin_control, std::vector&lt; bilingual_str &gt; &amp;errors, CAmount &amp;old_fee, CAmount &amp;new_fee, CMutableTransaction &amp;mtx)</div><div class="ttdoc">Create bumpfee transaction based on feerate estimates.</div><div class="ttdef"><b>Definition:</b> <a href="feebumper_8cpp_source.html#l00156">feebumper.cpp:156</a></div></div>
<div class="ttc" id="anamespacefeebumper_html_ad5a2294b582c8b9c26cf1d2bcfc0df34"><div class="ttname"><a href="namespacefeebumper.html#ad5a2294b582c8b9c26cf1d2bcfc0df34">feebumper::SignTransaction</a></div><div class="ttdeci">bool SignTransaction(CWallet &amp;wallet, CMutableTransaction &amp;mtx)</div><div class="ttdoc">Sign the new transaction,.</div><div class="ttdef"><b>Definition:</b> <a href="feebumper_8cpp_source.html#l00245">feebumper.cpp:245</a></div></div>
<div class="ttc" id="anamespacefs_html_a569be13cd9507f234827b70c296e517c"><div class="ttname"><a href="namespacefs.html#a569be13cd9507f234827b70c296e517c">fs::u8path</a></div><div class="ttdeci">static path u8path(const std::string &amp;string)</div><div class="ttdef"><b>Definition:</b> <a href="fs_8h_source.html#l00063">fs.h:63</a></div></div>
<div class="ttc" id="anamespacefs_html_a894f1b097b4472313617893c5142928e"><div class="ttname"><a href="namespacefs.html#a894f1b097b4472313617893c5142928e">fs::exists</a></div><div class="ttdeci">static bool exists(const path &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="fs_8h_source.html#l00077">fs.h:77</a></div></div>
<div class="ttc" id="anamespacefsbridge_html_a52fb7cbee83545bb82dbb19ef9c753e5"><div class="ttname"><a href="namespacefsbridge.html#a52fb7cbee83545bb82dbb19ef9c753e5">fsbridge::AbsPathJoin</a></div><div class="ttdeci">fs::path AbsPathJoin(const fs::path &amp;base, const fs::path &amp;path)</div><div class="ttdoc">Helper function for joining two paths.</div><div class="ttdef"><b>Definition:</b> <a href="fs_8cpp_source.html#l00035">fs.cpp:35</a></div></div>
<div class="ttc" id="anamespacewallet_html"><div class="ttname"><a href="namespacewallet.html">wallet</a></div><div class="ttdef"><b>Definition:</b> <a href="wallet_2interfaces_8cpp_source.html#l00050">interfaces.cpp:50</a></div></div>
<div class="ttc" id="anode_2context_8h_html"><div class="ttname"><a href="node_2context_8h.html">context.h</a></div></div>
<div class="ttc" id="aoutputtype_8cpp_html_a705d5e2a23104621d2a2f3ca85eda8da"><div class="ttname"><a href="outputtype_8cpp.html#a705d5e2a23104621d2a2f3ca85eda8da">ParseOutputType</a></div><div class="ttdeci">std::optional&lt; OutputType &gt; ParseOutputType(const std::string &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="outputtype_8cpp_source.html#l00024">outputtype.cpp:24</a></div></div>
<div class="ttc" id="aoutputtype_8h_html"><div class="ttname"><a href="outputtype_8h.html">outputtype.h</a></div></div>
<div class="ttc" id="aoutputtype_8h_html_a4e0517338e6c4a31a2addafc06d4f3a3"><div class="ttname"><a href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3">OutputType</a></div><div class="ttdeci">OutputType</div><div class="ttdef"><b>Definition:</b> <a href="outputtype_8h_source.html#l00018">outputtype.h:18</a></div></div>
<div class="ttc" id="aoutputtype_8h_html_a4e0517338e6c4a31a2addafc06d4f3a3ae5747421d490e83aa21f61eae1ae3778"><div class="ttname"><a href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3ae5747421d490e83aa21f61eae1ae3778">OutputType::BECH32M</a></div><div class="ttdeci">@ BECH32M</div></div>
<div class="ttc" id="apolicy_2fees_8h_html"><div class="ttname"><a href="policy_2fees_8h.html">fees.h</a></div></div>
<div class="ttc" id="apolicy_2rbf_8h_html"><div class="ttname"><a href="policy_2rbf_8h.html">rbf.h</a></div></div>
<div class="ttc" id="apolicy_2rbf_8h_html_a8a266cb2957aad5d08cc4c382ef6d32e"><div class="ttname"><a href="policy_2rbf_8h.html#a8a266cb2957aad5d08cc4c382ef6d32e">RBFTransactionState</a></div><div class="ttdeci">RBFTransactionState</div><div class="ttdoc">The rbf state of unconfirmed transactions.</div><div class="ttdef"><b>Definition:</b> <a href="policy_2rbf_8h_source.html#l00020">rbf.h:20</a></div></div>
<div class="ttc" id="apolicy_2rbf_8h_html_a8a266cb2957aad5d08cc4c382ef6d32ea696b031073e74bf2cb98e5ef201d4aa3"><div class="ttname"><a href="policy_2rbf_8h.html#a8a266cb2957aad5d08cc4c382ef6d32ea696b031073e74bf2cb98e5ef201d4aa3">RBFTransactionState::UNKNOWN</a></div><div class="ttdeci">@ UNKNOWN</div><div class="ttdoc">Unconfirmed tx that does not signal rbf and is not in the mempool.</div></div>
<div class="ttc" id="apolicy_2rbf_8h_html_a8a266cb2957aad5d08cc4c382ef6d32eaac738feff3a12c7dfab95461d55faf95"><div class="ttname"><a href="policy_2rbf_8h.html#a8a266cb2957aad5d08cc4c382ef6d32eaac738feff3a12c7dfab95461d55faf95">RBFTransactionState::REPLACEABLE_BIP125</a></div><div class="ttdeci">@ REPLACEABLE_BIP125</div><div class="ttdoc">Either this tx or a mempool ancestor signals rbf.</div></div>
<div class="ttc" id="apolicy_8h_html"><div class="ttname"><a href="policy_8h.html">policy.h</a></div></div>
<div class="ttc" id="apolicy_8h_html_ac79356a89c909ccb0674c1577e2ec81b"><div class="ttname"><a href="policy_8h.html#ac79356a89c909ccb0674c1577e2ec81b">DEFAULT_INCREMENTAL_RELAY_FEE</a></div><div class="ttdeci">static const unsigned int DEFAULT_INCREMENTAL_RELAY_FEE</div><div class="ttdoc">Default for -incrementalrelayfee, which sets the minimum feerate increase for mempool limiting or BIP...</div><div class="ttdef"><b>Definition:</b> <a href="policy_8h_source.html#l00034">policy.h:34</a></div></div>
<div class="ttc" id="aprimitives_2transaction_8h_html_aca31166567483fee6deca52ac53569e1"><div class="ttname"><a href="primitives_2transaction_8h.html#aca31166567483fee6deca52ac53569e1">MakeTransactionRef</a></div><div class="ttdeci">static CTransactionRef MakeTransactionRef(Tx &amp;&amp;txIn)</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00387">transaction.h:387</a></div></div>
<div class="ttc" id="aprimitives_2transaction_8h_html_ae462b4b8f07705a82bf11cf361959b97"><div class="ttname"><a href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a></div><div class="ttdeci">std::shared_ptr&lt; const CTransaction &gt; CTransactionRef</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00386">transaction.h:386</a></div></div>
<div class="ttc" id="apsbt_8cpp_html_a17e0c0d158233f8a584b3c209399ac95"><div class="ttname"><a href="psbt_8cpp.html#a17e0c0d158233f8a584b3c209399ac95">DecodeBase64PSBT</a></div><div class="ttdeci">bool DecodeBase64PSBT(PartiallySignedTransaction &amp;psbt, const std::string &amp;base64_tx, std::string &amp;error)</div><div class="ttdoc">Decode a base64ed PSBT into a PartiallySignedTransaction.</div><div class="ttdef"><b>Definition:</b> <a href="psbt_8cpp_source.html#l00374">psbt.cpp:374</a></div></div>
<div class="ttc" id="apsbt_8cpp_html_aab3ec9bcf6f951016a077dcfcbb3da0a"><div class="ttname"><a href="psbt_8cpp.html#aab3ec9bcf6f951016a077dcfcbb3da0a">FinalizeAndExtractPSBT</a></div><div class="ttdeci">bool FinalizeAndExtractPSBT(PartiallySignedTransaction &amp;psbtx, CMutableTransaction &amp;result)</div><div class="ttdoc">Finalizes a PSBT if possible, and extracts it to a CMutableTransaction if it could be finalized.</div><div class="ttdef"><b>Definition:</b> <a href="psbt_8cpp_source.html#l00333">psbt.cpp:333</a></div></div>
<div class="ttc" id="arawtransaction__util_8cpp_html_a02a20b5fe1e810461108a969bd3c5f2d"><div class="ttname"><a href="rawtransaction__util_8cpp.html#a02a20b5fe1e810461108a969bd3c5f2d">SignTransactionResultToJSON</a></div><div class="ttdeci">void SignTransactionResultToJSON(CMutableTransaction &amp;mtx, bool complete, const std::map&lt; COutPoint, Coin &gt; &amp;coins, const std::map&lt; int, bilingual_str &gt; &amp;input_errors, UniValue &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="rawtransaction__util_8cpp_source.html#l00291">rawtransaction_util.cpp:291</a></div></div>
<div class="ttc" id="arawtransaction__util_8cpp_html_a71903528afea17b236b3d96699275c44"><div class="ttname"><a href="rawtransaction__util_8cpp.html#a71903528afea17b236b3d96699275c44">ConstructTransaction</a></div><div class="ttdeci">CMutableTransaction ConstructTransaction(const UniValue &amp;inputs_in, const UniValue &amp;outputs_in, const UniValue &amp;locktime, bool rbf)</div><div class="ttdoc">Create a transaction from univalue parameters.</div><div class="ttdef"><b>Definition:</b> <a href="rawtransaction__util_8cpp_source.html#l00024">rawtransaction_util.cpp:24</a></div></div>
<div class="ttc" id="arawtransaction__util_8cpp_html_aa9f088469d8d228d5718f8a17062c98a"><div class="ttname"><a href="rawtransaction__util_8cpp.html#aa9f088469d8d228d5718f8a17062c98a">ParsePrevouts</a></div><div class="ttdeci">void ParsePrevouts(const UniValue &amp;prevTxsUnival, FillableSigningProvider *keystore, std::map&lt; COutPoint, Coin &gt; &amp;coins)</div><div class="ttdoc">Parse a prevtxs UniValue array and get the map of coins from it.</div><div class="ttdef"><b>Definition:</b> <a href="rawtransaction__util_8cpp_source.html#l00159">rawtransaction_util.cpp:159</a></div></div>
<div class="ttc" id="arawtransaction__util_8h_html"><div class="ttname"><a href="rawtransaction__util_8h.html">rawtransaction_util.h</a></div></div>
<div class="ttc" id="areceive_8cpp_html_a0d8dfc02306ecf6c9ef066e6c9948a41"><div class="ttname"><a href="receive_8cpp.html#a0d8dfc02306ecf6c9ef066e6c9948a41">CachedTxIsFromMe</a></div><div class="ttdeci">bool CachedTxIsFromMe(const CWallet &amp;wallet, const CWalletTx &amp;wtx, const isminefilter &amp;filter)</div><div class="ttdef"><b>Definition:</b> <a href="receive_8cpp_source.html#l00273">receive.cpp:273</a></div></div>
<div class="ttc" id="areceive_8cpp_html_a13b4267a5b8a64f78841c3e7f481ddbc"><div class="ttname"><a href="receive_8cpp.html#a13b4267a5b8a64f78841c3e7f481ddbc">GetAddressGroupings</a></div><div class="ttdeci">std::set&lt; std::set&lt; CTxDestination &gt; &gt; GetAddressGroupings(const CWallet &amp;wallet)</div><div class="ttdef"><b>Definition:</b> <a href="receive_8cpp_source.html#l00384">receive.cpp:384</a></div></div>
<div class="ttc" id="areceive_8cpp_html_a2fcd92e95673fc169acdedd294467723"><div class="ttname"><a href="receive_8cpp.html#a2fcd92e95673fc169acdedd294467723">GetAddressBalances</a></div><div class="ttdeci">std::map&lt; CTxDestination, CAmount &gt; GetAddressBalances(const CWallet &amp;wallet)</div><div class="ttdef"><b>Definition:</b> <a href="receive_8cpp_source.html#l00346">receive.cpp:346</a></div></div>
<div class="ttc" id="areceive_8cpp_html_a3b7c8673a1df2b7f12f43b53d872a7d6"><div class="ttname"><a href="receive_8cpp.html#a3b7c8673a1df2b7f12f43b53d872a7d6">ScriptIsChange</a></div><div class="ttdeci">bool ScriptIsChange(const CWallet &amp;wallet, const CScript &amp;script)</div><div class="ttdef"><b>Definition:</b> <a href="receive_8cpp_source.html#l00065">receive.cpp:65</a></div></div>
<div class="ttc" id="areceive_8cpp_html_a4941e02485cf7c24b8d85cf046325247"><div class="ttname"><a href="receive_8cpp.html#a4941e02485cf7c24b8d85cf046325247">CachedTxGetAmounts</a></div><div class="ttdeci">void CachedTxGetAmounts(const CWallet &amp;wallet, const CWalletTx &amp;wtx, std::list&lt; COutputEntry &gt; &amp;listReceived, std::list&lt; COutputEntry &gt; &amp;listSent, CAmount &amp;nFee, const isminefilter &amp;filter)</div><div class="ttdef"><b>Definition:</b> <a href="receive_8cpp_source.html#l00216">receive.cpp:216</a></div></div>
<div class="ttc" id="areceive_8cpp_html_abfb505bccc01a47840fa88332d242819"><div class="ttname"><a href="receive_8cpp.html#abfb505bccc01a47840fa88332d242819">CachedTxGetDebit</a></div><div class="ttdeci">CAmount CachedTxGetDebit(const CWallet &amp;wallet, const CWalletTx &amp;wtx, const isminefilter &amp;filter)</div><div class="ttdoc">filter decides which addresses will count towards the debit</div><div class="ttdef"><b>Definition:</b> <a href="receive_8cpp_source.html#l00140">receive.cpp:140</a></div></div>
<div class="ttc" id="areceive_8cpp_html_ac964a83b21374d6d8a94bdc36c4b83d4"><div class="ttname"><a href="receive_8cpp.html#ac964a83b21374d6d8a94bdc36c4b83d4">CachedTxGetCredit</a></div><div class="ttdeci">CAmount CachedTxGetCredit(const CWallet &amp;wallet, const CWalletTx &amp;wtx, const isminefilter &amp;filter)</div><div class="ttdef"><b>Definition:</b> <a href="receive_8cpp_source.html#l00123">receive.cpp:123</a></div></div>
<div class="ttc" id="areceive_8cpp_html_ae63a6c2dcc2042cb682e19c26b25b6d2"><div class="ttname"><a href="receive_8cpp.html#ae63a6c2dcc2042cb682e19c26b25b6d2">GetBalance</a></div><div class="ttdeci">Balance GetBalance(const CWallet &amp;wallet, const int min_depth, bool avoid_reuse)</div><div class="ttdef"><b>Definition:</b> <a href="receive_8cpp_source.html#l00317">receive.cpp:317</a></div></div>
<div class="ttc" id="areceive_8cpp_html_ae8f3a2eaebe2ad5a0bfee70444175de3"><div class="ttname"><a href="receive_8cpp.html#ae8f3a2eaebe2ad5a0bfee70444175de3">CachedTxIsTrusted</a></div><div class="ttdeci">bool CachedTxIsTrusted(const CWallet &amp;wallet, const CWalletTx &amp;wtx, std::set&lt; uint256 &gt; &amp;trusted_parents)</div><div class="ttdef"><b>Definition:</b> <a href="receive_8cpp_source.html#l00278">receive.cpp:278</a></div></div>
<div class="ttc" id="areceive_8h_html"><div class="ttname"><a href="receive_8h.html">receive.h</a></div></div>
<div class="ttc" id="arequest_8cpp_html_a40b75d3d265c4a2e1d5fe3e129743884"><div class="ttname"><a href="request_8cpp.html#a40b75d3d265c4a2e1d5fe3e129743884">JSONRPCError</a></div><div class="ttdeci">UniValue JSONRPCError(int code, const std::string &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="request_8cpp_source.html#l00051">request.cpp:51</a></div></div>
<div class="ttc" id="arest_8cpp_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="rest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="rest_8cpp_source.html#l00043">rest.cpp:43</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85dead"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85dead">RPCErrorCode</a></div><div class="ttdeci">RPCErrorCode</div><div class="ttdoc">Bitcoin RPC error codes.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00023">protocol.h:24</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deada053141bfebf379deffd2131efc5db19e"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada053141bfebf379deffd2131efc5db19e">RPC_WALLET_NOT_SPECIFIED</a></div><div class="ttdeci">@ RPC_WALLET_NOT_SPECIFIED</div><div class="ttdoc">No wallet specified (error when there are multiple wallets loaded)</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00081">protocol.h:81</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deada0870b7c922cb7437cf22222763bcade8"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada0870b7c922cb7437cf22222763bcade8">RPC_WALLET_INVALID_LABEL_NAME</a></div><div class="ttdeci">@ RPC_WALLET_INVALID_LABEL_NAME</div><div class="ttdoc">Invalid label name.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00073">protocol.h:73</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deada0c1fbdf17d83da9f5124f2dbf0ba4765"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada0c1fbdf17d83da9f5124f2dbf0ba4765">RPC_WALLET_UNLOCK_NEEDED</a></div><div class="ttdeci">@ RPC_WALLET_UNLOCK_NEEDED</div><div class="ttdoc">Enter the wallet passphrase with walletpassphrase first.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00075">protocol.h:75</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deada5aa884a9e263e1fad4ad13ec564d33d5"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada5aa884a9e263e1fad4ad13ec564d33d5">RPC_MISC_ERROR</a></div><div class="ttdeci">@ RPC_MISC_ERROR</div><div class="ttdoc">General application defined errors.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00039">protocol.h:39</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deada5e46fc2ff7c51b8423b6eaf5b33ebfb9"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada5e46fc2ff7c51b8423b6eaf5b33ebfb9">RPC_WALLET_INSUFFICIENT_FUNDS</a></div><div class="ttdeci">@ RPC_WALLET_INSUFFICIENT_FUNDS</div><div class="ttdoc">Not enough funds in wallet or account.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00072">protocol.h:72</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deada6aa5da515d4b7230dfeb65017b9fd38d"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada6aa5da515d4b7230dfeb65017b9fd38d">RPC_WALLET_WRONG_ENC_STATE</a></div><div class="ttdeci">@ RPC_WALLET_WRONG_ENC_STATE</div><div class="ttdoc">Command given in wrong wallet encryption state (encrypting an encrypted wallet etc....</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00077">protocol.h:77</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deada796c728d5ec3fc308609494e1d608940"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada796c728d5ec3fc308609494e1d608940">RPC_WALLET_ENCRYPTION_FAILED</a></div><div class="ttdeci">@ RPC_WALLET_ENCRYPTION_FAILED</div><div class="ttdoc">Failed to encrypt the wallet.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00078">protocol.h:78</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deada7c63246a7c7bc5912d499fb117358506"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deada7c63246a7c7bc5912d499fb117358506">RPC_TYPE_ERROR</a></div><div class="ttdeci">@ RPC_TYPE_ERROR</div><div class="ttdoc">Unexpected type was passed as parameter.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00040">protocol.h:40</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deadaa6700abd71966b878b5a383ef9f43fda"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaa6700abd71966b878b5a383ef9f43fda">RPC_METHOD_DEPRECATED</a></div><div class="ttdeci">@ RPC_METHOD_DEPRECATED</div><div class="ttdoc">RPC method is deprecated.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00050">protocol.h:50</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc">RPC_INVALID_PARAMETER</a></div><div class="ttdeci">@ RPC_INVALID_PARAMETER</div><div class="ttdoc">Invalid, missing or duplicate parameter.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00043">protocol.h:43</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaba6f8682002fa223d3a405b743b5a540">RPC_WALLET_ERROR</a></div><div class="ttdeci">@ RPC_WALLET_ERROR</div><div class="ttdoc">Wallet errors.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00071">protocol.h:71</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deadabd275584a91f211672076c181a4ec3de"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadabd275584a91f211672076c181a4ec3de">RPC_WALLET_ALREADY_LOADED</a></div><div class="ttdeci">@ RPC_WALLET_ALREADY_LOADED</div><div class="ttdoc">This same wallet is already loaded.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00082">protocol.h:82</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deadad386a2420e15dbbe0a3405141f2b84de"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadad386a2420e15dbbe0a3405141f2b84de">RPC_WALLET_NOT_FOUND</a></div><div class="ttdeci">@ RPC_WALLET_NOT_FOUND</div><div class="ttdoc">Invalid wallet specified.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00080">protocol.h:80</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deadad4f5ea69465f2a32fda9b9bf5e698803"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadad4f5ea69465f2a32fda9b9bf5e698803">RPC_INTERNAL_ERROR</a></div><div class="ttdeci">@ RPC_INTERNAL_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00035">protocol.h:35</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deadadacb2152d14607886f90ed134c94e21d"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadadacb2152d14607886f90ed134c94e21d">RPC_WALLET_KEYPOOL_RAN_OUT</a></div><div class="ttdeci">@ RPC_WALLET_KEYPOOL_RAN_OUT</div><div class="ttdoc">Keypool ran out, call keypoolrefill first.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00074">protocol.h:74</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272">RPC_DESERIALIZATION_ERROR</a></div><div class="ttdeci">@ RPC_DESERIALIZATION_ERROR</div><div class="ttdoc">Error parsing or validating structure in raw format.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00045">protocol.h:45</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deadae7f578c2ec4458c79250e204505dedcc"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadae7f578c2ec4458c79250e204505dedcc">RPC_WALLET_PASSPHRASE_INCORRECT</a></div><div class="ttdeci">@ RPC_WALLET_PASSPHRASE_INCORRECT</div><div class="ttdoc">The wallet passphrase entered was incorrect.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00076">protocol.h:76</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deadaf8310a778a7a84d76adde337d695fd0d"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadaf8310a778a7a84d76adde337d695fd0d">RPC_INVALID_REQUEST</a></div><div class="ttdeci">@ RPC_INVALID_REQUEST</div><div class="ttdoc">Standard JSON-RPC 2.0 errors.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00028">protocol.h:28</a></div></div>
<div class="ttc" id="arpc_2protocol_8h_html_af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576"><div class="ttname"><a href="rpc_2protocol_8h.html#af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576">RPC_INVALID_ADDRESS_OR_KEY</a></div><div class="ttdeci">@ RPC_INVALID_ADDRESS_OR_KEY</div><div class="ttdoc">Invalid address or key.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2protocol_8h_source.html#l00041">protocol.h:41</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_a1d3e3ccc5d3ba3ee1314be41a2039e0f"><div class="ttname"><a href="rpc_2util_8cpp.html#a1d3e3ccc5d3ba3ee1314be41a2039e0f">RPCTypeCheck</a></div><div class="ttdeci">void RPCTypeCheck(const UniValue &amp;params, const std::list&lt; UniValueType &gt; &amp;typesExpected, bool fAllowNull)</div><div class="ttdoc">Type-check arguments; throws JSONRPCError if wrong type given.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00024">util.cpp:24</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_a26bafe3d526ee8cbc84b3c0b0dc3a43b"><div class="ttname"><a href="rpc_2util_8cpp.html#a26bafe3d526ee8cbc84b3c0b0dc3a43b">HelpExampleCli</a></div><div class="ttdeci">std::string HelpExampleCli(const std::string &amp;methodname, const std::string &amp;args)</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00156">util.cpp:156</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_a2d8c4646d61f74ed875717d360d71791"><div class="ttname"><a href="rpc_2util_8cpp.html#a2d8c4646d61f74ed875717d360d71791">AddAndGetMultisigDestination</a></div><div class="ttdeci">CTxDestination AddAndGetMultisigDestination(const int required, const std::vector&lt; CPubKey &gt; &amp;pubkeys, OutputType type, FillableSigningProvider &amp;keystore, CScript &amp;script_out)</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00226">util.cpp:226</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_a33f1f1f1de6d60ce9bb6c96da2fe0314"><div class="ttname"><a href="rpc_2util_8cpp.html#a33f1f1f1de6d60ce9bb6c96da2fe0314">HelpExampleRpcNamed</a></div><div class="ttdeci">std::string HelpExampleRpcNamed(const std::string &amp;methodname, const RPCArgList &amp;args)</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00180">util.cpp:180</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_a34ca526f05cc7f2281e634a5be48c121"><div class="ttname"><a href="rpc_2util_8cpp.html#a34ca526f05cc7f2281e634a5be48c121">RPCTypeCheckArgument</a></div><div class="ttdeci">void RPCTypeCheckArgument(const UniValue &amp;value, const UniValueType &amp;typeExpected)</div><div class="ttdoc">Type-check one argument; throws JSONRPCError if wrong type given.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00041">util.cpp:41</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_a55991d82dc38be9b1c4e5673b8570c2d"><div class="ttname"><a href="rpc_2util_8cpp.html#a55991d82dc38be9b1c4e5673b8570c2d">JSONRPCTransactionError</a></div><div class="ttdeci">UniValue JSONRPCTransactionError(TransactionError terr, const std::string &amp;err_string)</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00359">util.cpp:359</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_a9ef4f8fb114508ceb861a0e8c3e0d26e"><div class="ttname"><a href="rpc_2util_8cpp.html#a9ef4f8fb114508ceb861a0e8c3e0d26e">HelpExampleRpc</a></div><div class="ttdeci">std::string HelpExampleRpc(const std::string &amp;methodname, const std::string &amp;args)</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00174">util.cpp:174</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_aad676cc5fc482fffa78911b8d7d9d32d"><div class="ttname"><a href="rpc_2util_8cpp.html#aad676cc5fc482fffa78911b8d7d9d32d">UNIX_EPOCH_TIME</a></div><div class="ttdeci">const std::string UNIX_EPOCH_TIME</div><div class="ttdoc">String used to describe UNIX epoch time in documentation, factored out to a constant for consistency.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00021">util.cpp:21</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_ac18ea86a874bf7841b716eca2b467746"><div class="ttname"><a href="rpc_2util_8cpp.html#ac18ea86a874bf7841b716eca2b467746">HexToPubKey</a></div><div class="ttdeci">CPubKey HexToPubKey(const std::string &amp;hex_in)</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00192">util.cpp:192</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_ad4549aceb751d2ed900b3235d5342815"><div class="ttname"><a href="rpc_2util_8cpp.html#ad4549aceb751d2ed900b3235d5342815">ParseHashO</a></div><div class="ttdeci">uint256 ParseHashO(const UniValue &amp;o, std::string strKey)</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00099">util.cpp:99</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_adb231eaeb57d26011655ee8aaa5315e2"><div class="ttname"><a href="rpc_2util_8cpp.html#adb231eaeb57d26011655ee8aaa5315e2">ParseHashV</a></div><div class="ttdeci">uint256 ParseHashV(const UniValue &amp;v, std::string strName)</div><div class="ttdoc">Utilities: convert hex-encoded Values (throws error if not hex).</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00090">util.cpp:90</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_adbb21c6828f59f3df79b3d25c0821635"><div class="ttname"><a href="rpc_2util_8cpp.html#adbb21c6828f59f3df79b3d25c0821635">EXAMPLE_ADDRESS</a></div><div class="ttdeci">const std::string EXAMPLE_ADDRESS[2]</div><div class="ttdoc">Example bech32 addresses for the RPCExamples help documentation.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00022">util.cpp:22</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_ae928fea7d8ddf182a6ccc24e2156b065"><div class="ttname"><a href="rpc_2util_8cpp.html#ae928fea7d8ddf182a6ccc24e2156b065">ParseConfirmTarget</a></div><div class="ttdeci">unsigned int ParseConfirmTarget(const UniValue &amp;value, unsigned int max_target)</div><div class="ttdoc">Parse a confirm target option and raise an RPC error if it is invalid.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00330">util.cpp:330</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_aec45a2addcbf2231658dce8bbfbb792c"><div class="ttname"><a href="rpc_2util_8cpp.html#aec45a2addcbf2231658dce8bbfbb792c">RPCTypeCheckObj</a></div><div class="ttdeci">void RPCTypeCheckObj(const UniValue &amp;o, const std::map&lt; std::string, UniValueType &gt; &amp;typesExpected, bool fAllowNull, bool fStrict)</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00048">util.cpp:48</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_aef68e5e578187453853ef0db399ee5f9"><div class="ttname"><a href="rpc_2util_8cpp.html#aef68e5e578187453853ef0db399ee5f9">HelpExampleCliNamed</a></div><div class="ttdeci">std::string HelpExampleCliNamed(const std::string &amp;methodname, const RPCArgList &amp;args)</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00161">util.cpp:161</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_af86da2c2b86724988da653824124c798"><div class="ttname"><a href="rpc_2util_8cpp.html#af86da2c2b86724988da653824124c798">AddrToPubKey</a></div><div class="ttdeci">CPubKey AddrToPubKey(const FillableSigningProvider &amp;keystore, const std::string &amp;addr_in)</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00205">util.cpp:205</a></div></div>
<div class="ttc" id="arpc_2util_8cpp_html_af91efe7877ce4e77064e04d13888ae4f"><div class="ttname"><a href="rpc_2util_8cpp.html#af91efe7877ce4e77064e04d13888ae4f">DescribeAddress</a></div><div class="ttdeci">UniValue DescribeAddress(const CTxDestination &amp;dest)</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8cpp_source.html#l00325">util.cpp:325</a></div></div>
<div class="ttc" id="arpc_2util_8h_html"><div class="ttname"><a href="rpc_2util_8h.html">util.h</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a014c0939fbe930a1471953cff82e3413"><div class="ttname"><a href="rpcwallet_8cpp.html#a014c0939fbe930a1471953cff82e3413">createwallet</a></div><div class="ttdeci">static RPCHelpMan createwallet()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02763">rpcwallet.cpp:2763</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a055940ffe686cdb3c840ccb8d9726099"><div class="ttname"><a href="rpcwallet_8cpp.html#a055940ffe686cdb3c840ccb8d9726099">getnewaddress</a></div><div class="ttdeci">static RPCHelpMan getnewaddress()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00240">rpcwallet.cpp:240</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a07378078c8f1febcfecf348dd2b5d56c"><div class="ttname"><a href="rpcwallet_8cpp.html#a07378078c8f1febcfecf348dd2b5d56c">sethdseed</a></div><div class="ttdeci">static RPCHelpMan sethdseed()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l04456">rpcwallet.cpp:4456</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a079025162488e32994615b92b76e458d"><div class="ttname"><a href="rpcwallet_8cpp.html#a079025162488e32994615b92b76e458d">importprivkey</a></div><div class="ttdeci">RPCHelpMan importprivkey()</div><div class="ttdef"><b>Definition:</b> <a href="rpcdump_8cpp_source.html#l00094">rpcdump.cpp:94</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a08543a00801ff701888ea204c1fba857"><div class="ttname"><a href="rpcwallet_8cpp.html#a08543a00801ff701888ea204c1fba857">walletlock</a></div><div class="ttdeci">static RPCHelpMan walletlock()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02068">rpcwallet.cpp:2068</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a09d4fde10c059f903bc22986003ebc35"><div class="ttname"><a href="rpcwallet_8cpp.html#a09d4fde10c059f903bc22986003ebc35">bumpfee_helper</a></div><div class="ttdeci">static RPCHelpMan bumpfee_helper(std::string method_name)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03633">rpcwallet.cpp:3633</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a0b5b3cbd55189f29e10995f3c486a5f0"><div class="ttname"><a href="rpcwallet_8cpp.html#a0b5b3cbd55189f29e10995f3c486a5f0">psbtbumpfee</a></div><div class="ttdeci">static RPCHelpMan psbtbumpfee()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03808">rpcwallet.cpp:3808</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a0b79e6f82c610a55d39c5e7b951201c0"><div class="ttname"><a href="rpcwallet_8cpp.html#a0b79e6f82c610a55d39c5e7b951201c0">listreceivedbylabel</a></div><div class="ttdeci">static RPCHelpMan listreceivedbylabel()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01251">rpcwallet.cpp:1251</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a0bb19f5cd785f6f02d0169af7396c06b"><div class="ttname"><a href="rpcwallet_8cpp.html#a0bb19f5cd785f6f02d0169af7396c06b">SetFeeEstimateMode</a></div><div class="ttdeci">static void SetFeeEstimateMode(const CWallet &amp;wallet, CCoinControl &amp;cc, const UniValue &amp;conf_target, const UniValue &amp;estimate_mode, const UniValue &amp;fee_rate, bool override_min_fee)</div><div class="ttdoc">Update coin control with fee estimation based on the given parameters.</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00216">rpcwallet.cpp:216</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a0c4c4cfa68641156f1ddf4368da643e0"><div class="ttname"><a href="rpcwallet_8cpp.html#a0c4c4cfa68641156f1ddf4368da643e0">LabelFromValue</a></div><div class="ttdeci">static std::string LabelFromValue(const UniValue &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00195">rpcwallet.cpp:195</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a0e0701384140dbce448902b6b43f80e6"><div class="ttname"><a href="rpcwallet_8cpp.html#a0e0701384140dbce448902b6b43f80e6">sendtoaddress</a></div><div class="ttdeci">static RPCHelpMan sendtoaddress()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00444">rpcwallet.cpp:444</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a0f1fb991b53dfc0965c1652a3a032941"><div class="ttname"><a href="rpcwallet_8cpp.html#a0f1fb991b53dfc0965c1652a3a032941">GetWalletRPCCommands</a></div><div class="ttdeci">Span&lt; const CRPCCommand &gt; GetWalletRPCCommands()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l04855">rpcwallet.cpp:4855</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a0fee713c50d14fbe47f52ea142a09544"><div class="ttname"><a href="rpcwallet_8cpp.html#a0fee713c50d14fbe47f52ea142a09544">listunspent</a></div><div class="ttdeci">static RPCHelpMan listunspent()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02971">rpcwallet.cpp:2971</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a1147f77ce3f1e3a3d6bdddccb9c91a88"><div class="ttname"><a href="rpcwallet_8cpp.html#a1147f77ce3f1e3a3d6bdddccb9c91a88">getrawchangeaddress</a></div><div class="ttdeci">static RPCHelpMan getrawchangeaddress()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00295">rpcwallet.cpp:295</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a1bdff293e51d01f82039a8e72f9b237d"><div class="ttname"><a href="rpcwallet_8cpp.html#a1bdff293e51d01f82039a8e72f9b237d">TransactionDescriptionString</a></div><div class="ttdeci">static const std::vector&lt; RPCResult &gt; TransactionDescriptionString()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01388">rpcwallet.cpp:1388</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a1c730e31d4eaf40b10aa41ab58c77c4f"><div class="ttname"><a href="rpcwallet_8cpp.html#a1c730e31d4eaf40b10aa41ab58c77c4f">rescanblockchain</a></div><div class="ttdeci">static RPCHelpMan rescanblockchain()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03810">rpcwallet.cpp:3810</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a2284f3460f3b1ca6cdab55f8a0a83721"><div class="ttname"><a href="rpcwallet_8cpp.html#a2284f3460f3b1ca6cdab55f8a0a83721">walletprocesspsbt</a></div><div class="ttdeci">static RPCHelpMan walletprocesspsbt()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l04527">rpcwallet.cpp:4527</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a2510c86f5b21c948a6e3510a4f089656"><div class="ttname"><a href="rpcwallet_8cpp.html#a2510c86f5b21c948a6e3510a4f089656">importdescriptors</a></div><div class="ttdeci">RPCHelpMan importdescriptors()</div><div class="ttdef"><b>Definition:</b> <a href="rpcdump_8cpp_source.html#l01608">rpcdump.cpp:1608</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a2705bd35dae304cc30f6b4057363c22e"><div class="ttname"><a href="rpcwallet_8cpp.html#a2705bd35dae304cc30f6b4057363c22e">WALLET_ENDPOINT_BASE</a></div><div class="ttdeci">static const std::string WALLET_ENDPOINT_BASE</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00050">rpcwallet.cpp:50</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a272a12e6509a7d5c88d2591829b48a62"><div class="ttname"><a href="rpcwallet_8cpp.html#a272a12e6509a7d5c88d2591829b48a62">fundrawtransaction</a></div><div class="ttdeci">static RPCHelpMan fundrawtransaction()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03434">rpcwallet.cpp:3434</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a296deec16f9285e7b2f3676506f8a991"><div class="ttname"><a href="rpcwallet_8cpp.html#a296deec16f9285e7b2f3676506f8a991">gettransaction</a></div><div class="ttdeci">static RPCHelpMan gettransaction()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01665">rpcwallet.cpp:1665</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a29a9bcd4af38e2facac86c4f69c58caa"><div class="ttname"><a href="rpcwallet_8cpp.html#a29a9bcd4af38e2facac86c4f69c58caa">listdescriptors</a></div><div class="ttdeci">RPCHelpMan listdescriptors()</div><div class="ttdef"><b>Definition:</b> <a href="rpcdump_8cpp_source.html#l01760">rpcdump.cpp:1760</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a29cefbe7aa7060f3612ac16ed89b18a8"><div class="ttname"><a href="rpcwallet_8cpp.html#a29cefbe7aa7060f3612ac16ed89b18a8">restorewallet</a></div><div class="ttdeci">static RPCHelpMan restorewallet()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02858">rpcwallet.cpp:2858</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a2e43caa364ea103595feab0c7d1a18e8"><div class="ttname"><a href="rpcwallet_8cpp.html#a2e43caa364ea103595feab0c7d1a18e8">AddressBookDataToJSON</a></div><div class="ttdeci">static UniValue AddressBookDataToJSON(const CAddressBookData &amp;data, const bool verbose)</div><div class="ttdoc">Convert CAddressBookData to JSON record.</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03995">rpcwallet.cpp:3995</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a2f83a9c837f4adfad9333e169df1d1f0"><div class="ttname"><a href="rpcwallet_8cpp.html#a2f83a9c837f4adfad9333e169df1d1f0">importmulti</a></div><div class="ttdeci">RPCHelpMan importmulti()</div><div class="ttdef"><b>Definition:</b> <a href="rpcdump_8cpp_source.html#l01269">rpcdump.cpp:1269</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a314b0a7963015eb247269350a6a2e9c9"><div class="ttname"><a href="rpcwallet_8cpp.html#a314b0a7963015eb247269350a6a2e9c9">importaddress</a></div><div class="ttdeci">RPCHelpMan importaddress()</div><div class="ttdef"><b>Definition:</b> <a href="rpcdump_8cpp_source.html#l00223">rpcdump.cpp:223</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a3176a0e8760dda40a6bffdae6ad369e8"><div class="ttname"><a href="rpcwallet_8cpp.html#a3176a0e8760dda40a6bffdae6ad369e8">FundTransaction</a></div><div class="ttdeci">void FundTransaction(CWallet &amp;wallet, CMutableTransaction &amp;tx, CAmount &amp;fee_out, int &amp;change_position, const UniValue &amp;options, CCoinControl &amp;coinControl, bool override_min_fee)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03235">rpcwallet.cpp:3235</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a32a99f2cf745e72ae55dbb9187a5f88f"><div class="ttname"><a href="rpcwallet_8cpp.html#a32a99f2cf745e72ae55dbb9187a5f88f">listaddressgroupings</a></div><div class="ttdeci">static RPCHelpMan listaddressgroupings()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00546">rpcwallet.cpp:546</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a34f3709fc7047fcf2cb356fe583b83a9"><div class="ttname"><a href="rpcwallet_8cpp.html#a34f3709fc7047fcf2cb356fe583b83a9">importwallet</a></div><div class="ttdeci">RPCHelpMan importwallet()</div><div class="ttdef"><b>Definition:</b> <a href="rpcdump_8cpp_source.html#l00509">rpcdump.cpp:509</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a3976c86f0965ecb3f9087b5b736db19a"><div class="ttname"><a href="rpcwallet_8cpp.html#a3976c86f0965ecb3f9087b5b736db19a">addmultisigaddress</a></div><div class="ttdeci">static RPCHelpMan addmultisigaddress()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00958">rpcwallet.cpp:958</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a399bdbe036a73ec4817b46cc2b741218"><div class="ttname"><a href="rpcwallet_8cpp.html#a399bdbe036a73ec4817b46cc2b741218">walletdisplayaddress</a></div><div class="ttdeci">static RPCHelpMan walletdisplayaddress()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l04800">rpcwallet.cpp:4800</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a40a4438a7a21fe2b62f41ca59c87c52a"><div class="ttname"><a href="rpcwallet_8cpp.html#a40a4438a7a21fe2b62f41ca59c87c52a">GetWalletForJSONRPCRequest</a></div><div class="ttdeci">std::shared_ptr&lt; CWallet &gt; GetWalletForJSONRPCRequest(const JSONRPCRequest &amp;request)</div><div class="ttdoc">Figures out what wallet, if any, to use for a JSONRPCRequest.</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00099">rpcwallet.cpp:99</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a459e9be27fdb9b1353b555484f3321a7"><div class="ttname"><a href="rpcwallet_8cpp.html#a459e9be27fdb9b1353b555484f3321a7">walletpassphrasechange</a></div><div class="ttdeci">static RPCHelpMan walletpassphrasechange()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02020">rpcwallet.cpp:2020</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a45bbc4037ab95c8b18a8ecbd116d63d5"><div class="ttname"><a href="rpcwallet_8cpp.html#a45bbc4037ab95c8b18a8ecbd116d63d5">getaddressesbylabel</a></div><div class="ttdeci">static RPCHelpMan getaddressesbylabel()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l04146">rpcwallet.cpp:4146</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a491a9b1ea641869dad52fe793d1c6fba"><div class="ttname"><a href="rpcwallet_8cpp.html#a491a9b1ea641869dad52fe793d1c6fba">listtransactions</a></div><div class="ttdeci">static RPCHelpMan listtransactions()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01415">rpcwallet.cpp:1415</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a4e8abcedebad44886b61315839b04082"><div class="ttname"><a href="rpcwallet_8cpp.html#a4e8abcedebad44886b61315839b04082">LoadWalletHelper</a></div><div class="ttdeci">static std::tuple&lt; std::shared_ptr&lt; CWallet &gt;, std::vector&lt; bilingual_str &gt; &gt; LoadWalletHelper(WalletContext &amp;context, UniValue load_on_start_param, const std::string wallet_name)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02628">rpcwallet.cpp:2628</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a5162280ace84bb5ea7da7cbeaa5beb8b"><div class="ttname"><a href="rpcwallet_8cpp.html#a5162280ace84bb5ea7da7cbeaa5beb8b">listlockunspent</a></div><div class="ttdeci">static RPCHelpMan listlockunspent()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02304">rpcwallet.cpp:2304</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a51cdb564dc4951891a377203ea110cde"><div class="ttname"><a href="rpcwallet_8cpp.html#a51cdb564dc4951891a377203ea110cde">SendMoney</a></div><div class="ttdeci">UniValue SendMoney(CWallet &amp;wallet, const CCoinControl &amp;coin_control, std::vector&lt; CRecipient &gt; &amp;recipients, mapValue_t map_value, bool verbose)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00411">rpcwallet.cpp:411</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a52980bfe3ce43e0507e9ecdecefa2230"><div class="ttname"><a href="rpcwallet_8cpp.html#a52980bfe3ce43e0507e9ecdecefa2230">send</a></div><div class="ttdeci">static RPCHelpMan send()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l04258">rpcwallet.cpp:4258</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a56614fc8dd41157efdfa54f694071309"><div class="ttname"><a href="rpcwallet_8cpp.html#a56614fc8dd41157efdfa54f694071309">getunconfirmedbalance</a></div><div class="ttdeci">static RPCHelpMan getunconfirmedbalance()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00840">rpcwallet.cpp:840</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a5e0e8a39d9dd61d74fa4b97ccb541bb9"><div class="ttname"><a href="rpcwallet_8cpp.html#a5e0e8a39d9dd61d74fa4b97ccb541bb9">dumpwallet</a></div><div class="ttdeci">RPCHelpMan dumpwallet()</div><div class="ttdef"><b>Definition:</b> <a href="rpcdump_8cpp_source.html#l00712">rpcdump.cpp:712</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a5e4c4ac5223a6385a2fa270cb466ab39"><div class="ttname"><a href="rpcwallet_8cpp.html#a5e4c4ac5223a6385a2fa270cb466ab39">listwallets</a></div><div class="ttdeci">static RPCHelpMan listwallets()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02597">rpcwallet.cpp:2597</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a613c2662cc032e9f2f1d34e88c90637e"><div class="ttname"><a href="rpcwallet_8cpp.html#a613c2662cc032e9f2f1d34e88c90637e">upgradewallet</a></div><div class="ttdeci">static RPCHelpMan upgradewallet()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l04735">rpcwallet.cpp:4735</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a61a17e52edbfc339d0380b00169dbae7"><div class="ttname"><a href="rpcwallet_8cpp.html#a61a17e52edbfc339d0380b00169dbae7">unloadwallet</a></div><div class="ttdeci">static RPCHelpMan unloadwallet()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02920">rpcwallet.cpp:2920</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a6272e8ec945c32ab0d3e27cb0eab078b"><div class="ttname"><a href="rpcwallet_8cpp.html#a6272e8ec945c32ab0d3e27cb0eab078b">EnsureWalletIsUnlocked</a></div><div class="ttdeci">void EnsureWalletIsUnlocked(const CWallet &amp;wallet)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00124">rpcwallet.cpp:124</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a63d9e42ef2249a002456b3b1c0123a75"><div class="ttname"><a href="rpcwallet_8cpp.html#a63d9e42ef2249a002456b3b1c0123a75">importpubkey</a></div><div class="ttdeci">RPCHelpMan importpubkey()</div><div class="ttdef"><b>Definition:</b> <a href="rpcdump_8cpp_source.html#l00423">rpcdump.cpp:423</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a65e98e958efafb052757d356d77800ec"><div class="ttname"><a href="rpcwallet_8cpp.html#a65e98e958efafb052757d356d77800ec">walletcreatefundedpsbt</a></div><div class="ttdeci">static RPCHelpMan walletcreatefundedpsbt()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l04601">rpcwallet.cpp:4601</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a6adff0544f801c37e53785b00d827fa8"><div class="ttname"><a href="rpcwallet_8cpp.html#a6adff0544f801c37e53785b00d827fa8">EnsureLegacyScriptPubKeyMan</a></div><div class="ttdeci">LegacyScriptPubKeyMan &amp; EnsureLegacyScriptPubKeyMan(CWallet &amp;wallet, bool also_create)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00141">rpcwallet.cpp:141</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a6d0ffd39214c1235368a33af1b085b81"><div class="ttname"><a href="rpcwallet_8cpp.html#a6d0ffd39214c1235368a33af1b085b81">getbalances</a></div><div class="ttdeci">static RPCHelpMan getbalances()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02398">rpcwallet.cpp:2398</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a71aef22a7f3f537e48b2fdc2f4ccfd99"><div class="ttname"><a href="rpcwallet_8cpp.html#a71aef22a7f3f537e48b2fdc2f4ccfd99">listwalletdir</a></div><div class="ttdeci">static RPCHelpMan listwalletdir()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02560">rpcwallet.cpp:2560</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a7288922c50760f2fd2e73e6ae486975e"><div class="ttname"><a href="rpcwallet_8cpp.html#a7288922c50760f2fd2e73e6ae486975e">keypoolrefill</a></div><div class="ttdeci">static RPCHelpMan keypoolrefill()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01852">rpcwallet.cpp:1852</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a750ef446820a1d94f687cac4cea04011"><div class="ttname"><a href="rpcwallet_8cpp.html#a750ef446820a1d94f687cac4cea04011">HaveKey</a></div><div class="ttdeci">bool HaveKey(const SigningProvider &amp;wallet, const CKey &amp;key)</div><div class="ttdoc">Checks if a CKey is in the given CWallet compressed or otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00082">rpcwallet.cpp:82</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a75783878b11d2e1d25249a0ac5461c7c"><div class="ttname"><a href="rpcwallet_8cpp.html#a75783878b11d2e1d25249a0ac5461c7c">DescribeWalletAddress</a></div><div class="ttdeci">static UniValue DescribeWalletAddress(const CWallet &amp;wallet, const CTxDestination &amp;dest)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03982">rpcwallet.cpp:3982</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a75b7b7e52a7e30bf1ef59caa98919a9c"><div class="ttname"><a href="rpcwallet_8cpp.html#a75b7b7e52a7e30bf1ef59caa98919a9c">ListTransactions</a></div><div class="ttdeci">static void ListTransactions(const CWallet &amp;wallet, const CWalletTx &amp;wtx, int nMinDepth, bool fLong, UniValue &amp;ret, const isminefilter &amp;filter_ismine, const std::string *filter_label) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet)</div><div class="ttdoc">List transactions based on the given criteria.</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01311">rpcwallet.cpp:1311</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a7696abbf4e16991be606575b872fdbbe"><div class="ttname"><a href="rpcwallet_8cpp.html#a7696abbf4e16991be606575b872fdbbe">signmessage</a></div><div class="ttdeci">static RPCHelpMan signmessage()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00606">rpcwallet.cpp:606</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a7733413a3ac3eed56889bde5ed0d1009"><div class="ttname"><a href="rpcwallet_8cpp.html#a7733413a3ac3eed56889bde5ed0d1009">ParseIncludeWatchonly</a></div><div class="ttdeci">static bool ParseIncludeWatchonly(const UniValue &amp;include_watchonly, const CWallet &amp;wallet)</div><div class="ttdoc">Used by RPC commands that have an include_watchonly parameter.</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00069">rpcwallet.cpp:69</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a7746f416e0554c4665dc59cd747459bb"><div class="ttname"><a href="rpcwallet_8cpp.html#a7746f416e0554c4665dc59cd747459bb">getaddressinfo</a></div><div class="ttdeci">RPCHelpMan getaddressinfo()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l04005">rpcwallet.cpp:4005</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a79c0af8881e05475fa73ee8836c50adb"><div class="ttname"><a href="rpcwallet_8cpp.html#a79c0af8881e05475fa73ee8836c50adb">GetReceived</a></div><div class="ttdeci">static CAmount GetReceived(const CWallet &amp;wallet, const UniValue &amp;params, bool by_label) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00663">rpcwallet.cpp:663</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a81c1515dbbc177811c2b32d87927a158"><div class="ttname"><a href="rpcwallet_8cpp.html#a81c1515dbbc177811c2b32d87927a158">getwalletinfo</a></div><div class="ttdeci">static RPCHelpMan getwalletinfo()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02465">rpcwallet.cpp:2465</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a85381e7fa5317b50dc86a2dd87766c2f"><div class="ttname"><a href="rpcwallet_8cpp.html#a85381e7fa5317b50dc86a2dd87766c2f">lockunspent</a></div><div class="ttdeci">static RPCHelpMan lockunspent()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02164">rpcwallet.cpp:2164</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a868afa329dc53333edea17c7c06623ba"><div class="ttname"><a href="rpcwallet_8cpp.html#a868afa329dc53333edea17c7c06623ba">listlabels</a></div><div class="ttdeci">static RPCHelpMan listlabels()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l04204">rpcwallet.cpp:4204</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a883076b42f0757bb8a7ed8197f8ce668"><div class="ttname"><a href="rpcwallet_8cpp.html#a883076b42f0757bb8a7ed8197f8ce668">importprunedfunds</a></div><div class="ttdeci">RPCHelpMan importprunedfunds()</div><div class="ttdef"><b>Definition:</b> <a href="rpcdump_8cpp_source.html#l00327">rpcdump.cpp:327</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a8be115100bcca52490ac228973a5af70"><div class="ttname"><a href="rpcwallet_8cpp.html#a8be115100bcca52490ac228973a5af70">setwalletflag</a></div><div class="ttdeci">static RPCHelpMan setwalletflag()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02696">rpcwallet.cpp:2696</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a8e03bdc2be04101c151cc25d2c3611d6"><div class="ttname"><a href="rpcwallet_8cpp.html#a8e03bdc2be04101c151cc25d2c3611d6">FundTxDoc</a></div><div class="ttdeci">static std::vector&lt; RPCArg &gt; FundTxDoc()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03208">rpcwallet.cpp:3208</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a8f5ea5a592a2e4b5bb1e09d708ca1de3"><div class="ttname"><a href="rpcwallet_8cpp.html#a8f5ea5a592a2e4b5bb1e09d708ca1de3">signrawtransactionwithwallet</a></div><div class="ttdeci">RPCHelpMan signrawtransactionwithwallet()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03536">rpcwallet.cpp:3536</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a949642f3907278d8e6f9834dbb815f92"><div class="ttname"><a href="rpcwallet_8cpp.html#a949642f3907278d8e6f9834dbb815f92">abortrescan</a></div><div class="ttdeci">RPCHelpMan abortrescan()</div><div class="ttdef"><b>Definition:</b> <a href="rpcdump_8cpp_source.html#l00196">rpcdump.cpp:196</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_a96ffd73d54a0c6a3936ac3d5fbcd82e2"><div class="ttname"><a href="rpcwallet_8cpp.html#a96ffd73d54a0c6a3936ac3d5fbcd82e2">newkeypool</a></div><div class="ttdeci">static RPCHelpMan newkeypool()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01897">rpcwallet.cpp:1897</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_aa5f125c40e6e0f61afab798f62ea5770"><div class="ttname"><a href="rpcwallet_8cpp.html#aa5f125c40e6e0f61afab798f62ea5770">setlabel</a></div><div class="ttdeci">static RPCHelpMan setlabel()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00343">rpcwallet.cpp:343</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_aa8ed1845d693eabd2eac752dc369b239"><div class="ttname"><a href="rpcwallet_8cpp.html#aa8ed1845d693eabd2eac752dc369b239">ListReceived</a></div><div class="ttdeci">static UniValue ListReceived(const CWallet &amp;wallet, const UniValue &amp;params, bool by_label) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01055">rpcwallet.cpp:1055</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_aab912e8d8ca42ed5bc8b1015efb546c5"><div class="ttname"><a href="rpcwallet_8cpp.html#aab912e8d8ca42ed5bc8b1015efb546c5">getreceivedbyaddress</a></div><div class="ttdeci">static RPCHelpMan getreceivedbyaddress()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00709">rpcwallet.cpp:709</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_aac8d45f29c7be98149f954cf17f0a62e"><div class="ttname"><a href="rpcwallet_8cpp.html#aac8d45f29c7be98149f954cf17f0a62e">getreceivedbylabel</a></div><div class="ttdeci">static RPCHelpMan getreceivedbylabel()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00747">rpcwallet.cpp:747</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_ab0d26ca921b4d95334b156b3bbedd21d"><div class="ttname"><a href="rpcwallet_8cpp.html#ab0d26ca921b4d95334b156b3bbedd21d">encryptwallet</a></div><div class="ttdeci">static RPCHelpMan encryptwallet()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02106">rpcwallet.cpp:2106</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_ab2100b77e178132587a7b08aa8e728d4"><div class="ttname"><a href="rpcwallet_8cpp.html#ab2100b77e178132587a7b08aa8e728d4">backupwallet</a></div><div class="ttdeci">static RPCHelpMan backupwallet()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01818">rpcwallet.cpp:1818</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_ab230f4e7aebaea97da05183bc3bcfa03"><div class="ttname"><a href="rpcwallet_8cpp.html#ab230f4e7aebaea97da05183bc3bcfa03">WalletTxToJSON</a></div><div class="ttdeci">static void WalletTxToJSON(const CWallet &amp;wallet, const CWalletTx &amp;wtx, UniValue &amp;entry)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00153">rpcwallet.cpp:153</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_ab482096dc1977bd9963a6010d329a382"><div class="ttname"><a href="rpcwallet_8cpp.html#ab482096dc1977bd9963a6010d329a382">MaybePushAddress</a></div><div class="ttdeci">static void MaybePushAddress(UniValue &amp;entry, const CTxDestination &amp;dest)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01293">rpcwallet.cpp:1293</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_ab9f378c9970704dec9d24d5532ceb1b3"><div class="ttname"><a href="rpcwallet_8cpp.html#ab9f378c9970704dec9d24d5532ceb1b3">ParseRecipients</a></div><div class="ttdeci">void ParseRecipients(const UniValue &amp;address_amounts, const UniValue &amp;subtract_fee_outputs, std::vector&lt; CRecipient &gt; &amp;recipients)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00381">rpcwallet.cpp:381</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_abc913300d07bc7b7573126048a1d3b60"><div class="ttname"><a href="rpcwallet_8cpp.html#abc913300d07bc7b7573126048a1d3b60">dumpprivkey</a></div><div class="ttdeci">RPCHelpMan dumpprivkey()</div><div class="ttdef"><b>Definition:</b> <a href="rpcdump_8cpp_source.html#l00666">rpcdump.cpp:666</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_ac0a3d609eb5441015b886f8740498d8e"><div class="ttname"><a href="rpcwallet_8cpp.html#ac0a3d609eb5441015b886f8740498d8e">getbalance</a></div><div class="ttdeci">static RPCHelpMan getbalance()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00785">rpcwallet.cpp:785</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_ac48d96e27ba9d1b7e9be6d7e05959338"><div class="ttname"><a href="rpcwallet_8cpp.html#ac48d96e27ba9d1b7e9be6d7e05959338">loadwallet</a></div><div class="ttdeci">static RPCHelpMan loadwallet()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02659">rpcwallet.cpp:2659</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_ac77133fd3d7323c1982036503b630a0c"><div class="ttname"><a href="rpcwallet_8cpp.html#ac77133fd3d7323c1982036503b630a0c">GetAvoidReuseFlag</a></div><div class="ttdeci">static bool GetAvoidReuseFlag(const CWallet &amp;wallet, const UniValue &amp;param)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00053">rpcwallet.cpp:53</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_ac9f38435a9ae9c1de873a411a232b509"><div class="ttname"><a href="rpcwallet_8cpp.html#ac9f38435a9ae9c1de873a411a232b509">listsinceblock</a></div><div class="ttdeci">static RPCHelpMan listsinceblock()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01526">rpcwallet.cpp:1526</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_acfc7a4149ac8f2c7dca4d1cda9f99bf8"><div class="ttname"><a href="rpcwallet_8cpp.html#acfc7a4149ac8f2c7dca4d1cda9f99bf8">settxfee</a></div><div class="ttdeci">static RPCHelpMan settxfee()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l02357">rpcwallet.cpp:2357</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_ad6132b2012fc4e05c04fbee6ca80bb0c"><div class="ttname"><a href="rpcwallet_8cpp.html#ad6132b2012fc4e05c04fbee6ca80bb0c">removeprunedfunds</a></div><div class="ttdeci">RPCHelpMan removeprunedfunds()</div><div class="ttdef"><b>Definition:</b> <a href="rpcdump_8cpp_source.html#l00385">rpcdump.cpp:385</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_ad79e92d508ffcbe6b0aff45ce7716077"><div class="ttname"><a href="rpcwallet_8cpp.html#ad79e92d508ffcbe6b0aff45ce7716077">listreceivedbyaddress</a></div><div class="ttdeci">static RPCHelpMan listreceivedbyaddress()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01202">rpcwallet.cpp:1202</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_ada16fd07921b4b76e58fe09850196ce5"><div class="ttname"><a href="rpcwallet_8cpp.html#ada16fd07921b4b76e58fe09850196ce5">sendmany</a></div><div class="ttdeci">static RPCHelpMan sendmany()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00864">rpcwallet.cpp:864</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_adfcbdc968355be9c0ea292e1ad2239df"><div class="ttname"><a href="rpcwallet_8cpp.html#adfcbdc968355be9c0ea292e1ad2239df">EnsureWalletContext</a></div><div class="ttdeci">WalletContext &amp; EnsureWalletContext(const std::any &amp;context)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00131">rpcwallet.cpp:131</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_aee52b8f06c4fa095a5652d8cbabe4faf"><div class="ttname"><a href="rpcwallet_8cpp.html#aee52b8f06c4fa095a5652d8cbabe4faf">walletpassphrase</a></div><div class="ttdeci">static RPCHelpMan walletpassphrase()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01924">rpcwallet.cpp:1924</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_af08a537f0066c7b2a89413c51d0a3a6e"><div class="ttname"><a href="rpcwallet_8cpp.html#af08a537f0066c7b2a89413c51d0a3a6e">bumpfee</a></div><div class="ttdeci">static RPCHelpMan bumpfee()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l03807">rpcwallet.cpp:3807</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_af12e66dd08ab50e9dc1af62592a73f8f"><div class="ttname"><a href="rpcwallet_8cpp.html#af12e66dd08ab50e9dc1af62592a73f8f">HELP_REQUIRING_PASSPHRASE</a></div><div class="ttdeci">static const std::string HELP_REQUIRING_PASSPHRASE</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00051">rpcwallet.cpp:51</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_af704ea42262521346e3be551cfbc5a7f"><div class="ttname"><a href="rpcwallet_8cpp.html#af704ea42262521346e3be551cfbc5a7f">GetWalletNameFromJSONRPCRequest</a></div><div class="ttdeci">bool GetWalletNameFromJSONRPCRequest(const JSONRPCRequest &amp;request, std::string &amp;wallet_name)</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l00089">rpcwallet.cpp:89</a></div></div>
<div class="ttc" id="arpcwallet_8cpp_html_afdf1c02be806780e987dc291f421a173"><div class="ttname"><a href="rpcwallet_8cpp.html#afdf1c02be806780e987dc291f421a173">abandontransaction</a></div><div class="ttdeci">static RPCHelpMan abandontransaction()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01776">rpcwallet.cpp:1776</a></div></div>
<div class="ttc" id="arpcwallet_8h_html"><div class="ttname"><a href="rpcwallet_8h.html">rpcwallet.h</a></div></div>
<div class="ttc" id="ascriptpubkeyman_8h_html_a63da8d3877972e02968c9d7f7156cf44"><div class="ttname"><a href="scriptpubkeyman_8h.html#a63da8d3877972e02968c9d7f7156cf44">DEFAULT_KEYPOOL_SIZE</a></div><div class="ttdeci">static const unsigned int DEFAULT_KEYPOOL_SIZE</div><div class="ttdoc">Default for -keypool.</div><div class="ttdef"><b>Definition:</b> <a href="scriptpubkeyman_8h_source.html#l00048">scriptpubkeyman.h:48</a></div></div>
<div class="ttc" id="asecure_8h_html_a396ed773a5ac24aec28c8f7dc413c7ac"><div class="ttname"><a href="secure_8h.html#a396ed773a5ac24aec28c8f7dc413c7ac">SecureString</a></div><div class="ttdeci">std::basic_string&lt; char, std::char_traits&lt; char &gt;, secure_allocator&lt; char &gt; &gt; SecureString</div><div class="ttdef"><b>Definition:</b> <a href="secure_8h_source.html#l00059">secure.h:59</a></div></div>
<div class="ttc" id="aserialize_8h_html_a16af7b253440dadd46a80a4b9fddba4da652754eeaf79fba4fcf4c18597a6961c"><div class="ttname"><a href="serialize_8h.html#a16af7b253440dadd46a80a4b9fddba4da652754eeaf79fba4fcf4c18597a6961c">SER_NETWORK</a></div><div class="ttdeci">@ SER_NETWORK</div><div class="ttdef"><b>Definition:</b> <a href="serialize_8h_source.html#l00138">serialize.h:138</a></div></div>
<div class="ttc" id="aserver_8h_html"><div class="ttname"><a href="server_8h.html">server.h</a></div></div>
<div class="ttc" id="asign_8cpp_html_a88a309e2fcf97929f223e03eaba88bd6"><div class="ttname"><a href="sign_8cpp.html#a88a309e2fcf97929f223e03eaba88bd6">IsSolvable</a></div><div class="ttdeci">bool IsSolvable(const SigningProvider &amp;provider, const CScript &amp;script)</div><div class="ttdef"><b>Definition:</b> <a href="sign_8cpp_source.html#l00581">sign.cpp:581</a></div></div>
<div class="ttc" id="asign_8h_html"><div class="ttname"><a href="sign_8h.html">sign.h</a></div></div>
<div class="ttc" id="asigningprovider_8cpp_html_a41a956a97c71469163d8be3a63ff0fb1"><div class="ttname"><a href="signingprovider_8cpp.html#a41a956a97c71469163d8be3a63ff0fb1">Merge</a></div><div class="ttdeci">FlatSigningProvider Merge(const FlatSigningProvider &amp;a, const FlatSigningProvider &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="signingprovider_8cpp_source.html#l00067">signingprovider.cpp:67</a></div></div>
<div class="ttc" id="aspan_8h_html_ae0ff71ebba0ddb89220884bee4dec029"><div class="ttname"><a href="span_8h.html#ae0ff71ebba0ddb89220884bee4dec029">MakeSpan</a></div><div class="ttdeci">constexpr Span&lt; A &gt; MakeSpan(A(&amp;a)[N])</div><div class="ttdoc">MakeSpan for arrays:</div><div class="ttdef"><b>Definition:</b> <a href="span_8h_source.html#l00222">span.h:222</a></div></div>
<div class="ttc" id="aspend_8cpp_html_a538184fbefca13667dac0d8fbbec2d34"><div class="ttname"><a href="spend_8cpp.html#a538184fbefca13667dac0d8fbbec2d34">AvailableCoins</a></div><div class="ttdeci">void AvailableCoins(const CWallet &amp;wallet, std::vector&lt; COutput &gt; &amp;vCoins, const CCoinControl *coinControl, const CAmount &amp;nMinimumAmount, const CAmount &amp;nMaximumAmount, const CAmount &amp;nMinimumSumAmount, const uint64_t nMaximumCount)</div><div class="ttdoc">populate vCoins with vector of available COutputs.</div><div class="ttdef"><b>Definition:</b> <a href="spend_8cpp_source.html#l00088">spend.cpp:88</a></div></div>
<div class="ttc" id="aspend_8cpp_html_a9e6b5239975f542c3b1ef3d8a89c59c1"><div class="ttname"><a href="spend_8cpp.html#a9e6b5239975f542c3b1ef3d8a89c59c1">CreateTransaction</a></div><div class="ttdeci">bool CreateTransaction(CWallet &amp;wallet, const std::vector&lt; CRecipient &gt; &amp;vecSend, CTransactionRef &amp;tx, CAmount &amp;nFeeRet, int &amp;nChangePosInOut, bilingual_str &amp;error, const CCoinControl &amp;coin_control, FeeCalculation &amp;fee_calc_out, bool sign)</div><div class="ttdoc">Create a new transaction paying the recipients with a set of coins selected by SelectCoins(); Also cr...</div><div class="ttdef"><b>Definition:</b> <a href="spend_8cpp_source.html#l00941">spend.cpp:941</a></div></div>
<div class="ttc" id="aspend_8h_html"><div class="ttname"><a href="spend_8h.html">spend.h</a></div></div>
<div class="ttc" id="astandard_8cpp_html_a0664b19198e4496f7cc0365a46a25020"><div class="ttname"><a href="standard_8cpp.html#a0664b19198e4496f7cc0365a46a25020">Solver</a></div><div class="ttdeci">TxoutType Solver(const CScript &amp;scriptPubKey, std::vector&lt; std::vector&lt; unsigned char &gt; &gt; &amp;vSolutionsRet)</div><div class="ttdoc">Parse a scriptPubKey and identify script type for standard scripts.</div><div class="ttdef"><b>Definition:</b> <a href="standard_8cpp_source.html#l00144">standard.cpp:144</a></div></div>
<div class="ttc" id="astandard_8cpp_html_a951f7e601746ae076afdf3169ecca2fc"><div class="ttname"><a href="standard_8cpp.html#a951f7e601746ae076afdf3169ecca2fc">ExtractDestination</a></div><div class="ttdeci">bool ExtractDestination(const CScript &amp;scriptPubKey, CTxDestination &amp;addressRet)</div><div class="ttdoc">Parse a standard scriptPubKey for the destination address.</div><div class="ttdef"><b>Definition:</b> <a href="standard_8cpp_source.html#l00213">standard.cpp:213</a></div></div>
<div class="ttc" id="astandard_8cpp_html_a9f2b93de157eeaad761764eeee39a8b9"><div class="ttname"><a href="standard_8cpp.html#a9f2b93de157eeaad761764eeee39a8b9">GetTxnOutputType</a></div><div class="ttdeci">std::string GetTxnOutputType(TxoutType t)</div><div class="ttdoc">Get the name of a TxoutType as a string.</div><div class="ttdef"><b>Definition:</b> <a href="standard_8cpp_source.html#l00049">standard.cpp:49</a></div></div>
<div class="ttc" id="astandard_8cpp_html_adb3a21e4afe9c672720b182ddc7cad7c"><div class="ttname"><a href="standard_8cpp.html#adb3a21e4afe9c672720b182ddc7cad7c">IsValidDestination</a></div><div class="ttdeci">bool IsValidDestination(const CTxDestination &amp;dest)</div><div class="ttdoc">Check whether a CTxDestination is a CNoDestination.</div><div class="ttdef"><b>Definition:</b> <a href="standard_8cpp_source.html#l00332">standard.cpp:332</a></div></div>
<div class="ttc" id="astandard_8cpp_html_ae40f28d3b46c21033f6ee1f1200d0321"><div class="ttname"><a href="standard_8cpp.html#ae40f28d3b46c21033f6ee1f1200d0321">GetScriptForDestination</a></div><div class="ttdeci">CScript GetScriptForDestination(const CTxDestination &amp;dest)</div><div class="ttdoc">Generate a Bitcoin scriptPubKey for the given CTxDestination.</div><div class="ttdef"><b>Definition:</b> <a href="standard_8cpp_source.html#l00310">standard.cpp:310</a></div></div>
<div class="ttc" id="astandard_8cpp_html_aed536902a866e88fd7e99d00019d94c3"><div class="ttname"><a href="standard_8cpp.html#aed536902a866e88fd7e99d00019d94c3">ToKeyID</a></div><div class="ttdeci">CKeyID ToKeyID(const PKHash &amp;key_hash)</div><div class="ttdef"><b>Definition:</b> <a href="standard_8cpp_source.html#l00034">standard.cpp:34</a></div></div>
<div class="ttc" id="astandard_8h_html_ac908d0e5a62eac70931dae97c6fd3c8f"><div class="ttname"><a href="standard_8h.html#ac908d0e5a62eac70931dae97c6fd3c8f">TxoutType</a></div><div class="ttdeci">TxoutType</div><div class="ttdef"><b>Definition:</b> <a href="standard_8h_source.html#l00059">standard.h:59</a></div></div>
<div class="ttc" id="astandard_8h_html_ac908d0e5a62eac70931dae97c6fd3c8fae50f553ee62b9fcbec1b8c8120c29050"><div class="ttname"><a href="standard_8h.html#ac908d0e5a62eac70931dae97c6fd3c8fae50f553ee62b9fcbec1b8c8120c29050">TxoutType::MULTISIG</a></div><div class="ttdeci">@ MULTISIG</div></div>
<div class="ttc" id="astandard_8h_html_acdb5aa66f9529c1b71d21a99b62e0a7f"><div class="ttname"><a href="standard_8h.html#acdb5aa66f9529c1b71d21a99b62e0a7f">CTxDestination</a></div><div class="ttdeci">std::variant&lt; CNoDestination, PKHash, ScriptHash, WitnessV0ScriptHash, WitnessV0KeyHash, WitnessV1Taproot, WitnessUnknown &gt; CTxDestination</div><div class="ttdoc">A txout script template with a specific destination.</div><div class="ttdef"><b>Definition:</b> <a href="standard_8h_source.html#l00157">standard.h:157</a></div></div>
<div class="ttc" id="astrencodings_8cpp_html_a16ace928e6a675ba31e23458c9149432"><div class="ttname"><a href="strencodings_8cpp.html#a16ace928e6a675ba31e23458c9149432">HexStr</a></div><div class="ttdeci">std::string HexStr(const Span&lt; const uint8_t &gt; s)</div><div class="ttdoc">Convert a span of bytes to a lower-case hexadecimal string.</div><div class="ttdef"><b>Definition:</b> <a href="strencodings_8cpp_source.html#l00516">strencodings.cpp:516</a></div></div>
<div class="ttc" id="astrencodings_8cpp_html_a5319d20c493fa005757afa8c77c739ee"><div class="ttname"><a href="strencodings_8cpp.html#a5319d20c493fa005757afa8c77c739ee">EncodeBase64</a></div><div class="ttdeci">std::string EncodeBase64(Span&lt; const unsigned char &gt; input)</div><div class="ttdef"><b>Definition:</b> <a href="strencodings_8cpp_source.html#l00130">strencodings.cpp:130</a></div></div>
<div class="ttc" id="astrencodings_8cpp_html_a715a7fc85da1c585babfb1bd6d3f9043"><div class="ttname"><a href="strencodings_8cpp.html#a715a7fc85da1c585babfb1bd6d3f9043">ParseHex</a></div><div class="ttdeci">std::vector&lt; unsigned char &gt; ParseHex(const char *psz)</div><div class="ttdef"><b>Definition:</b> <a href="strencodings_8cpp_source.html#l00083">strencodings.cpp:83</a></div></div>
<div class="ttc" id="astrencodings_8cpp_html_a9f23401f4b871ed693f7a96a9ba40c58"><div class="ttname"><a href="strencodings_8cpp.html#a9f23401f4b871ed693f7a96a9ba40c58">IsHex</a></div><div class="ttdeci">bool IsHex(const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="strencodings_8cpp_source.html#l00060">strencodings.cpp:60</a></div></div>
<div class="ttc" id="astring_8h_html"><div class="ttname"><a href="string_8h.html">string.h</a></div></div>
<div class="ttc" id="astring_8h_html_a2d2fed244106143037218040e400b8ee"><div class="ttname"><a href="string_8h.html#a2d2fed244106143037218040e400b8ee">Join</a></div><div class="ttdeci">auto Join(const std::vector&lt; T &gt; &amp;list, const BaseType &amp;separator, UnaryOp unary_op) -&gt; decltype(unary_op(list.at(0)))</div><div class="ttdoc">Join a list of items.</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00044">string.h:44</a></div></div>
<div class="ttc" id="astruct_balance_html_afa09569931321b140df98f3130d40ec7"><div class="ttname"><a href="struct_balance.html#afa09569931321b140df98f3130d40ec7">Balance::m_mine_untrusted_pending</a></div><div class="ttdeci">CAmount m_mine_untrusted_pending</div><div class="ttdoc">Untrusted, but in mempool (pending)</div><div class="ttdef"><b>Definition:</b> <a href="receive_8h_source.html#l00053">receive.h:53</a></div></div>
<div class="ttc" id="astruct_c_mutable_transaction_html"><div class="ttname"><a href="struct_c_mutable_transaction.html">CMutableTransaction</a></div><div class="ttdoc">A mutable version of CTransaction.</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00344">transaction.h:345</a></div></div>
<div class="ttc" id="astruct_c_mutable_transaction_html_aca14a252c78e4af2dfe68d7ea67a77dc"><div class="ttname"><a href="struct_c_mutable_transaction.html#aca14a252c78e4af2dfe68d7ea67a77dc">CMutableTransaction::vout</a></div><div class="ttdeci">std::vector&lt; CTxOut &gt; vout</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00347">transaction.h:347</a></div></div>
<div class="ttc" id="astruct_c_mutable_transaction_html_ad6b1a0a773293fd153a1d384923631da"><div class="ttname"><a href="struct_c_mutable_transaction.html#ad6b1a0a773293fd153a1d384923631da">CMutableTransaction::vin</a></div><div class="ttdeci">std::vector&lt; CTxIn &gt; vin</div><div class="ttdef"><b>Definition:</b> <a href="primitives_2transaction_8h_source.html#l00346">transaction.h:346</a></div></div>
<div class="ttc" id="astruct_c_output_entry_html"><div class="ttname"><a href="struct_c_output_entry.html">COutputEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="receive_8h_source.html#l00037">receive.h:38</a></div></div>
<div class="ttc" id="astruct_c_recipient_html"><div class="ttname"><a href="struct_c_recipient.html">CRecipient</a></div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00217">wallet.h:218</a></div></div>
<div class="ttc" id="astruct_c_wallet_1_1_scan_result_html"><div class="ttname"><a href="struct_c_wallet_1_1_scan_result.html">CWallet::ScanResult</a></div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00515">wallet.h:515</a></div></div>
<div class="ttc" id="astruct_c_wallet_1_1_scan_result_html_a120957d0e7c8f75628aa3c5cc621d754"><div class="ttname"><a href="struct_c_wallet_1_1_scan_result.html#a120957d0e7c8f75628aa3c5cc621d754">CWallet::ScanResult::last_scanned_height</a></div><div class="ttdeci">std::optional&lt; int &gt; last_scanned_height</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00522">wallet.h:522</a></div></div>
<div class="ttc" id="astruct_c_wallet_1_1_scan_result_html_a92c47dc121716f5b1e9dece57d13706f"><div class="ttname"><a href="struct_c_wallet_1_1_scan_result.html#a92c47dc121716f5b1e9dece57d13706f">CWallet::ScanResult::status</a></div><div class="ttdeci">enum CWallet::ScanResult::@17 status</div></div>
<div class="ttc" id="astruct_c_wallet_1_1_scan_result_html_af3f85288acbca69e4142463cdd696a1ba0a5b9d078d3f900cd70513f965efcfcd"><div class="ttname"><a href="struct_c_wallet_1_1_scan_result.html#af3f85288acbca69e4142463cdd696a1ba0a5b9d078d3f900cd70513f965efcfcd">CWallet::ScanResult::FAILURE</a></div><div class="ttdeci">@ FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00516">wallet.h:516</a></div></div>
<div class="ttc" id="astruct_c_wallet_1_1_scan_result_html_af3f85288acbca69e4142463cdd696a1ba27cb2d330834d01126ec092545e5d83b"><div class="ttname"><a href="struct_c_wallet_1_1_scan_result.html#af3f85288acbca69e4142463cdd696a1ba27cb2d330834d01126ec092545e5d83b">CWallet::ScanResult::SUCCESS</a></div><div class="ttdeci">@ SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00516">wallet.h:516</a></div></div>
<div class="ttc" id="astruct_c_wallet_1_1_scan_result_html_af3f85288acbca69e4142463cdd696a1ba4a48ed5c75b98a6621b9458a3ebcc521"><div class="ttname"><a href="struct_c_wallet_1_1_scan_result.html#af3f85288acbca69e4142463cdd696a1ba4a48ed5c75b98a6621b9458a3ebcc521">CWallet::ScanResult::USER_ABORT</a></div><div class="ttdeci">@ USER_ABORT</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00516">wallet.h:516</a></div></div>
<div class="ttc" id="astruct_c_wallet_tx_1_1_confirmation_html_a4a0d59083d09d3d4082c8c5b707dcec6"><div class="ttname"><a href="struct_c_wallet_tx_1_1_confirmation.html#a4a0d59083d09d3d4082c8c5b707dcec6">CWalletTx::Confirmation::block_height</a></div><div class="ttdeci">int block_height</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2transaction_8h_source.html#l00162">transaction.h:162</a></div></div>
<div class="ttc" id="astruct_c_wallet_tx_1_1_confirmation_html_a94e6dff1e8e11f32e9da497ffaae55a9"><div class="ttname"><a href="struct_c_wallet_tx_1_1_confirmation.html#a94e6dff1e8e11f32e9da497ffaae55a9">CWalletTx::Confirmation::hashBlock</a></div><div class="ttdeci">uint256 hashBlock</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2transaction_8h_source.html#l00163">transaction.h:163</a></div></div>
<div class="ttc" id="astruct_c_wallet_tx_1_1_confirmation_html_ae69cc07da4bc58ab4341b49e4ec3271b"><div class="ttname"><a href="struct_c_wallet_tx_1_1_confirmation.html#ae69cc07da4bc58ab4341b49e4ec3271b">CWalletTx::Confirmation::nIndex</a></div><div class="ttdeci">int nIndex</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2transaction_8h_source.html#l00164">transaction.h:164</a></div></div>
<div class="ttc" id="astruct_database_options_html"><div class="ttname"><a href="struct_database_options.html">DatabaseOptions</a></div><div class="ttdef"><b>Definition:</b> <a href="db_8h_source.html#l00203">db.h:203</a></div></div>
<div class="ttc" id="astruct_database_options_html_a250413e3e2c7a33b91647c002de65e7b"><div class="ttname"><a href="struct_database_options.html#a250413e3e2c7a33b91647c002de65e7b">DatabaseOptions::require_create</a></div><div class="ttdeci">bool require_create</div><div class="ttdef"><b>Definition:</b> <a href="db_8h_source.html#l00205">db.h:205</a></div></div>
<div class="ttc" id="astruct_database_options_html_a64d2c770c1443c181dc5a7fbb2d637c8"><div class="ttname"><a href="struct_database_options.html#a64d2c770c1443c181dc5a7fbb2d637c8">DatabaseOptions::create_flags</a></div><div class="ttdeci">uint64_t create_flags</div><div class="ttdef"><b>Definition:</b> <a href="db_8h_source.html#l00207">db.h:207</a></div></div>
<div class="ttc" id="astruct_database_options_html_ad0f4a01b1d6eb108250d353abf4ce500"><div class="ttname"><a href="struct_database_options.html#ad0f4a01b1d6eb108250d353abf4ce500">DatabaseOptions::require_existing</a></div><div class="ttdeci">bool require_existing</div><div class="ttdef"><b>Definition:</b> <a href="db_8h_source.html#l00204">db.h:204</a></div></div>
<div class="ttc" id="astruct_database_options_html_af6a4dd79a3e065096b7cea3e188bb7d3"><div class="ttname"><a href="struct_database_options.html#af6a4dd79a3e065096b7cea3e188bb7d3">DatabaseOptions::create_passphrase</a></div><div class="ttdeci">SecureString create_passphrase</div><div class="ttdef"><b>Definition:</b> <a href="db_8h_source.html#l00208">db.h:208</a></div></div>
<div class="ttc" id="astruct_fee_calculation_html"><div class="ttname"><a href="struct_fee_calculation.html">FeeCalculation</a></div><div class="ttdef"><b>Definition:</b> <a href="policy_2fees_8h_source.html#l00075">fees.h:76</a></div></div>
<div class="ttc" id="astruct_fee_calculation_html_a890ee01083d216d5986e6301ab5b61aa"><div class="ttname"><a href="struct_fee_calculation.html#a890ee01083d216d5986e6301ab5b61aa">FeeCalculation::reason</a></div><div class="ttdeci">FeeReason reason</div><div class="ttdef"><b>Definition:</b> <a href="policy_2fees_8h_source.html#l00078">fees.h:78</a></div></div>
<div class="ttc" id="astruct_flat_signing_provider_html"><div class="ttname"><a href="struct_flat_signing_provider.html">FlatSigningProvider</a></div><div class="ttdef"><b>Definition:</b> <a href="signingprovider_8h_source.html#l00073">signingprovider.h:74</a></div></div>
<div class="ttc" id="astruct_flat_signing_provider_html_a7a40935ffd498d33557a4963a6d9e4e4"><div class="ttname"><a href="struct_flat_signing_provider.html#a7a40935ffd498d33557a4963a6d9e4e4">FlatSigningProvider::pubkeys</a></div><div class="ttdeci">std::map&lt; CKeyID, CPubKey &gt; pubkeys</div><div class="ttdef"><b>Definition:</b> <a href="signingprovider_8h_source.html#l00076">signingprovider.h:76</a></div></div>
<div class="ttc" id="astruct_flat_signing_provider_html_abedabab95e715afefa36983261cb76ae"><div class="ttname"><a href="struct_flat_signing_provider.html#abedabab95e715afefa36983261cb76ae">FlatSigningProvider::scripts</a></div><div class="ttdeci">std::map&lt; CScriptID, CScript &gt; scripts</div><div class="ttdef"><b>Definition:</b> <a href="signingprovider_8h_source.html#l00075">signingprovider.h:75</a></div></div>
<div class="ttc" id="astruct_p_k_hash_html"><div class="ttname"><a href="struct_p_k_hash.html">PKHash</a></div><div class="ttdef"><b>Definition:</b> <a href="standard_8h_source.html#l00079">standard.h:80</a></div></div>
<div class="ttc" id="astruct_partially_signed_transaction_html"><div class="ttname"><a href="struct_partially_signed_transaction.html">PartiallySignedTransaction</a></div><div class="ttdoc">A version of CTransaction with the PSBT format.</div><div class="ttdef"><b>Definition:</b> <a href="psbt_8h_source.html#l00391">psbt.h:392</a></div></div>
<div class="ttc" id="astruct_r_p_c_arg_html_a0ce667013a0bcfc34bf4bc5dd8e4aad2a39fad5e2aa21550787e1e716ecc4829b"><div class="ttname"><a href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a39fad5e2aa21550787e1e716ecc4829b">RPCArg::Type::OBJ_USER_KEYS</a></div><div class="ttdeci">@ OBJ_USER_KEYS</div><div class="ttdoc">Special type where the user must set the keys e.g. to define multiple addresses; as opposed to e....</div></div>
<div class="ttc" id="astruct_r_p_c_arg_html_a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d"><div class="ttname"><a href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a3fe0dfff438296bb525e0e8642586c2d">RPCArg::Type::STR</a></div><div class="ttdeci">@ STR</div></div>
<div class="ttc" id="astruct_r_p_c_arg_html_a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac"><div class="ttname"><a href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2a44119bf3bae5d40a8d0766b91c304aac">RPCArg::Type::NUM</a></div><div class="ttdeci">@ NUM</div></div>
<div class="ttc" id="astruct_r_p_c_arg_html_a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5"><div class="ttname"><a href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2aa97b2c144243b2b9d2c593ec268b62f5">RPCArg::Type::BOOL</a></div><div class="ttdeci">@ BOOL</div></div>
<div class="ttc" id="astruct_r_p_c_arg_html_a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b"><div class="ttname"><a href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac703eb65f968f2a9c9145fd07132f72b">RPCArg::Type::ARR</a></div><div class="ttdeci">@ ARR</div></div>
<div class="ttc" id="astruct_r_p_c_arg_html_a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b"><div class="ttname"><a href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ac8153c681ece4c8442a32867b9aef86b">RPCArg::Type::STR_HEX</a></div><div class="ttdeci">@ STR_HEX</div><div class="ttdoc">Special type that is a STR with only hex chars.</div></div>
<div class="ttc" id="astruct_r_p_c_arg_html_a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08"><div class="ttname"><a href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2ad01105a464390b87eab3d6c69be43a08">RPCArg::Type::AMOUNT</a></div><div class="ttdeci">@ AMOUNT</div><div class="ttdoc">Special type representing a floating point amount (can be either NUM or STR)</div></div>
<div class="ttc" id="astruct_r_p_c_arg_html_a0ce667013a0bcfc34bf4bc5dd8e4aad2af34d534adfb78a9e6432be4621a93eec"><div class="ttname"><a href="struct_r_p_c_arg.html#a0ce667013a0bcfc34bf4bc5dd8e4aad2af34d534adfb78a9e6432be4621a93eec">RPCArg::Type::OBJ</a></div><div class="ttdeci">@ OBJ</div></div>
<div class="ttc" id="astruct_r_p_c_arg_html_a6d0f6c32f6eaf51f0f14e75cbac71f3c"><div class="ttname"><a href="struct_r_p_c_arg.html#a6d0f6c32f6eaf51f0f14e75cbac71f3c">RPCArg::DefaultHint</a></div><div class="ttdeci">std::string DefaultHint</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8h_source.html#l00155">util.h:155</a></div></div>
<div class="ttc" id="astruct_r_p_c_arg_html_ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9"><div class="ttname"><a href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a0ea08898e41ad6eda1dffb0b2cf94bb9">RPCArg::Optional::OMITTED_NAMED_ARG</a></div><div class="ttdeci">@ OMITTED_NAMED_ARG</div><div class="ttdoc">Optional arg that is a named argument and has a default value of null.</div></div>
<div class="ttc" id="astruct_r_p_c_arg_html_ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4"><div class="ttname"><a href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927a3b1c7263d9d59d86114f90b1f57c91c4">RPCArg::Optional::OMITTED</a></div><div class="ttdeci">@ OMITTED</div><div class="ttdoc">Optional argument with default value omitted because they are implicitly clear.</div></div>
<div class="ttc" id="astruct_r_p_c_arg_html_ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251"><div class="ttname"><a href="struct_r_p_c_arg.html#ae3b97706e3215f0b484d2597108bf927ac2f3f489a00553e7a01d369c103c7251">RPCArg::Optional::NO</a></div><div class="ttdeci">@ NO</div><div class="ttdoc">Required arg.</div></div>
<div class="ttc" id="astruct_r_p_c_examples_html"><div class="ttname"><a href="struct_r_p_c_examples.html">RPCExamples</a></div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8h_source.html#l00335">util.h:335</a></div></div>
<div class="ttc" id="astruct_r_p_c_result_html"><div class="ttname"><a href="struct_r_p_c_result.html">RPCResult</a></div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8h_source.html#l00231">util.h:231</a></div></div>
<div class="ttc" id="astruct_r_p_c_result_html_a4f6938ba34db907f5e45685f9f5002c8a04fe69265c8043766766d58e5d14d8cc"><div class="ttname"><a href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a04fe69265c8043766766d58e5d14d8cc">RPCResult::Type::ELISION</a></div><div class="ttdeci">@ ELISION</div><div class="ttdoc">Special type to denote elision (...)</div></div>
<div class="ttc" id="astruct_r_p_c_result_html_a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d"><div class="ttname"><a href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a3fe0dfff438296bb525e0e8642586c2d">RPCResult::Type::STR</a></div><div class="ttdeci">@ STR</div></div>
<div class="ttc" id="astruct_r_p_c_result_html_a4f6938ba34db907f5e45685f9f5002c8a420373841df076014d27fd869eab98dd"><div class="ttname"><a href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a420373841df076014d27fd869eab98dd">RPCResult::Type::NUM_TIME</a></div><div class="ttdeci">@ NUM_TIME</div><div class="ttdoc">Special numeric to denote unix epoch time.</div></div>
<div class="ttc" id="astruct_r_p_c_result_html_a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac"><div class="ttname"><a href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a44119bf3bae5d40a8d0766b91c304aac">RPCResult::Type::NUM</a></div><div class="ttdeci">@ NUM</div></div>
<div class="ttc" id="astruct_r_p_c_result_html_a4f6938ba34db907f5e45685f9f5002c8a9eed531a64c62698c293e18f174346ff"><div class="ttname"><a href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8a9eed531a64c62698c293e18f174346ff">RPCResult::Type::ARR_FIXED</a></div><div class="ttdeci">@ ARR_FIXED</div><div class="ttdoc">Special array that has a fixed number of entries.</div></div>
<div class="ttc" id="astruct_r_p_c_result_html_a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5"><div class="ttname"><a href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8aa97b2c144243b2b9d2c593ec268b62f5">RPCResult::Type::BOOL</a></div><div class="ttdeci">@ BOOL</div></div>
<div class="ttc" id="astruct_r_p_c_result_html_a4f6938ba34db907f5e45685f9f5002c8ab4b63e5ec006164d0155693ddc174f20"><div class="ttname"><a href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ab4b63e5ec006164d0155693ddc174f20">RPCResult::Type::OBJ_DYN</a></div><div class="ttdeci">@ OBJ_DYN</div><div class="ttdoc">Special dictionary with keys that are not literals.</div></div>
<div class="ttc" id="astruct_r_p_c_result_html_a4f6938ba34db907f5e45685f9f5002c8ab50339a10e1de285ac99d4c3990b8693"><div class="ttname"><a href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ab50339a10e1de285ac99d4c3990b8693">RPCResult::Type::NONE</a></div><div class="ttdeci">@ NONE</div></div>
<div class="ttc" id="astruct_r_p_c_result_html_a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b"><div class="ttname"><a href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac703eb65f968f2a9c9145fd07132f72b">RPCResult::Type::ARR</a></div><div class="ttdeci">@ ARR</div></div>
<div class="ttc" id="astruct_r_p_c_result_html_a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b"><div class="ttname"><a href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8ac8153c681ece4c8442a32867b9aef86b">RPCResult::Type::STR_HEX</a></div><div class="ttdeci">@ STR_HEX</div><div class="ttdoc">Special string with only hex chars.</div></div>
<div class="ttc" id="astruct_r_p_c_result_html_a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b"><div class="ttname"><a href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af26f5abf4ac56f987a4bff6e88059e9b">RPCResult::Type::STR_AMOUNT</a></div><div class="ttdeci">@ STR_AMOUNT</div><div class="ttdoc">Special string to represent a floating point amount.</div></div>
<div class="ttc" id="astruct_r_p_c_result_html_a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec"><div class="ttname"><a href="struct_r_p_c_result.html#a4f6938ba34db907f5e45685f9f5002c8af34d534adfb78a9e6432be4621a93eec">RPCResult::Type::OBJ</a></div><div class="ttdeci">@ OBJ</div></div>
<div class="ttc" id="astruct_script_hash_html"><div class="ttname"><a href="struct_script_hash.html">ScriptHash</a></div><div class="ttdef"><b>Definition:</b> <a href="standard_8h_source.html#l00089">standard.h:90</a></div></div>
<div class="ttc" id="astruct_uni_value_type_html"><div class="ttname"><a href="struct_uni_value_type.html">UniValueType</a></div><div class="ttdoc">Wrapper for UniValue::VType, which includes typeAny: Used to denote don't care type.</div><div class="ttdef"><b>Definition:</b> <a href="rpc_2util_8h_source.html#l00044">util.h:44</a></div></div>
<div class="ttc" id="astruct_wallet_context_html"><div class="ttname"><a href="struct_wallet_context.html">WalletContext</a></div><div class="ttdoc">WalletContext struct containing references to state shared between CWallet instances,...</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2context_8h_source.html#l00034">context.h:34</a></div></div>
<div class="ttc" id="astruct_witness_unknown_html"><div class="ttname"><a href="struct_witness_unknown.html">WitnessUnknown</a></div><div class="ttdoc">CTxDestination subtype to encode any future Witness version.</div><div class="ttdef"><b>Definition:</b> <a href="standard_8h_source.html#l00125">standard.h:126</a></div></div>
<div class="ttc" id="astruct_witness_v0_key_hash_html"><div class="ttname"><a href="struct_witness_v0_key_hash.html">WitnessV0KeyHash</a></div><div class="ttdef"><b>Definition:</b> <a href="standard_8h_source.html#l00109">standard.h:110</a></div></div>
<div class="ttc" id="astruct_witness_v0_script_hash_html"><div class="ttname"><a href="struct_witness_v0_script_hash.html">WitnessV0ScriptHash</a></div><div class="ttdef"><b>Definition:</b> <a href="standard_8h_source.html#l00102">standard.h:103</a></div></div>
<div class="ttc" id="astruct_witness_v1_taproot_html"><div class="ttname"><a href="struct_witness_v1_taproot.html">WitnessV1Taproot</a></div><div class="ttdef"><b>Definition:</b> <a href="standard_8h_source.html#l00118">standard.h:119</a></div></div>
<div class="ttc" id="astructbilingual__str_html"><div class="ttname"><a href="structbilingual__str.html">bilingual_str</a></div><div class="ttdoc">Bilingual messages:</div><div class="ttdef"><b>Definition:</b> <a href="translation_8h_source.html#l00016">translation.h:16</a></div></div>
<div class="ttc" id="astructtallyitem_html"><div class="ttname"><a href="structtallyitem.html">tallyitem</a></div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01044">rpcwallet.cpp:1045</a></div></div>
<div class="ttc" id="astructtallyitem_html_a3b2facf2b1290561c5eabb22bc26c22d"><div class="ttname"><a href="structtallyitem.html#a3b2facf2b1290561c5eabb22bc26c22d">tallyitem::nConf</a></div><div class="ttdeci">int nConf</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01047">rpcwallet.cpp:1047</a></div></div>
<div class="ttc" id="astructtallyitem_html_a7193026721459b81fbef87b00dcc8390"><div class="ttname"><a href="structtallyitem.html#a7193026721459b81fbef87b00dcc8390">tallyitem::txids</a></div><div class="ttdeci">std::vector&lt; uint256 &gt; txids</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01048">rpcwallet.cpp:1048</a></div></div>
<div class="ttc" id="astructtallyitem_html_a9e7a70ef944206ebb0f3a394eba92673"><div class="ttname"><a href="structtallyitem.html#a9e7a70ef944206ebb0f3a394eba92673">tallyitem::fIsWatchonly</a></div><div class="ttdeci">bool fIsWatchonly</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01049">rpcwallet.cpp:1049</a></div></div>
<div class="ttc" id="astructtallyitem_html_acc553807f036face8ef10eac9f277d79"><div class="ttname"><a href="structtallyitem.html#acc553807f036face8ef10eac9f277d79">tallyitem::nAmount</a></div><div class="ttdeci">CAmount nAmount</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01046">rpcwallet.cpp:1046</a></div></div>
<div class="ttc" id="astructtallyitem_html_ae5422f8bac6178b3e7dd634d6bfc454c"><div class="ttname"><a href="structtallyitem.html#ae5422f8bac6178b3e7dd634d6bfc454c">tallyitem::tallyitem</a></div><div class="ttdeci">tallyitem()</div><div class="ttdef"><b>Definition:</b> <a href="rpcwallet_8cpp_source.html#l01050">rpcwallet.cpp:1050</a></div></div>
<div class="ttc" id="async_8h_html_a2bc429e4b3e667009b3aea3a6fab8e97"><div class="ttname"><a href="sync_8h.html#a2bc429e4b3e667009b3aea3a6fab8e97">AssertLockNotHeld</a></div><div class="ttdeci">#define AssertLockNotHeld(cs)</div><div class="ttdef"><b>Definition:</b> <a href="sync_8h_source.html#l00084">sync.h:84</a></div></div>
<div class="ttc" id="async_8h_html_a35644e2b75a93da0cb0f6c768f34efa8"><div class="ttname"><a href="sync_8h.html#a35644e2b75a93da0cb0f6c768f34efa8">LOCK2</a></div><div class="ttdeci">#define LOCK2(cs1, cs2)</div><div class="ttdef"><b>Definition:</b> <a href="sync_8h_source.html#l00227">sync.h:227</a></div></div>
<div class="ttc" id="async_8h_html_a911fe23f057c2fe5aad629162d6c99d0"><div class="ttname"><a href="sync_8h.html#a911fe23f057c2fe5aad629162d6c99d0">LOCK</a></div><div class="ttdeci">#define LOCK(cs)</div><div class="ttdef"><b>Definition:</b> <a href="sync_8h_source.html#l00226">sync.h:226</a></div></div>
<div class="ttc" id="asystem_8h_html"><div class="ttname"><a href="system_8h.html">system.h</a></div></div>
<div class="ttc" id="asystem_8h_html_a96c5fc7111f69f7dcaba992d95d13e03"><div class="ttname"><a href="system_8h.html#a96c5fc7111f69f7dcaba992d95d13e03">error</a></div><div class="ttdeci">bool error(const char *fmt, const Args &amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00049">system.h:49</a></div></div>
<div class="ttc" id="athreadsafety_8h_html_a0e2e86b0f11d9778240b0a0b263047b1"><div class="ttname"><a href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a></div><div class="ttdeci">#define EXCLUSIVE_LOCKS_REQUIRED(...)</div><div class="ttdef"><b>Definition:</b> <a href="threadsafety_8h_source.html#l00049">threadsafety.h:49</a></div></div>
<div class="ttc" id="atime_8cpp_html_ad11e03a8d791f8cafff278a2c7de8c9a"><div class="ttname"><a href="time_8cpp.html#ad11e03a8d791f8cafff278a2c7de8c9a">GetTime</a></div><div class="ttdeci">int64_t GetTime()</div><div class="ttdoc">DEPRECATED Use either GetTimeSeconds (not mockable) or GetTime&lt;T&gt; (mockable)</div><div class="ttdef"><b>Definition:</b> <a href="time_8cpp_source.html#l00026">time.cpp:26</a></div></div>
<div class="ttc" id="atinyformat_8h_html_a56c674871a61baaad36ad52238c08857"><div class="ttname"><a href="tinyformat_8h.html#a56c674871a61baaad36ad52238c08857">strprintf</a></div><div class="ttdeci">#define strprintf</div><div class="ttdoc">Format arguments and return the string or write to given std::ostream (see tinyformat::format doc for...</div><div class="ttdef"><b>Definition:</b> <a href="tinyformat_8h_source.html#l01164">tinyformat.h:1164</a></div></div>
<div class="ttc" id="atranslation_8h_html"><div class="ttname"><a href="translation_8h.html">translation.h</a></div></div>
<div class="ttc" id="atranslation_8h_html_adff31aba0266455557bf721860f481b8"><div class="ttname"><a href="translation_8h.html#adff31aba0266455557bf721860f481b8">Untranslated</a></div><div class="ttdeci">bilingual_str Untranslated(std::string original)</div><div class="ttdoc">Mark a bilingual_str as untranslated.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8h_source.html#l00046">translation.h:46</a></div></div>
<div class="ttc" id="aunivalue_8h_html"><div class="ttname"><a href="univalue_8h.html">univalue.h</a></div></div>
<div class="ttc" id="aunivalue_8h_html_ab1cbd3b775dba07c37095e995b57e91e"><div class="ttname"><a href="univalue_8h.html#ab1cbd3b775dba07c37095e995b57e91e">NullUniValue</a></div><div class="ttdeci">const UniValue NullUniValue</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8cpp_source.html#l00013">univalue.cpp:13</a></div></div>
<div class="ttc" id="aunivalue_8h_html_ae351ab7e558baa27e42ccbcc2455cc67"><div class="ttname"><a href="univalue_8h.html#ae351ab7e558baa27e42ccbcc2455cc67">find_value</a></div><div class="ttdeci">const UniValue &amp; find_value(const UniValue &amp;obj, const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="univalue_8cpp_source.html#l00236">univalue.cpp:236</a></div></div>
<div class="ttc" id="aurl_8h_html"><div class="ttname"><a href="url_8h.html">url.h</a></div></div>
<div class="ttc" id="autil_2fees_8cpp_html_a32fab8b174c9dcbab0d46d5ea4608a6b"><div class="ttname"><a href="util_2fees_8cpp.html#a32fab8b174c9dcbab0d46d5ea4608a6b">FeeModes</a></div><div class="ttdeci">std::string FeeModes(const std::string &amp;delimiter)</div><div class="ttdef"><b>Definition:</b> <a href="util_2fees_8cpp_source.html#l00047">fees.cpp:47</a></div></div>
<div class="ttc" id="autil_2fees_8cpp_html_a792d01095df2d205c4a33d8d3ab2471d"><div class="ttname"><a href="util_2fees_8cpp.html#a792d01095df2d205c4a33d8d3ab2471d">FeeModeFromString</a></div><div class="ttdeci">bool FeeModeFromString(const std::string &amp;mode_string, FeeEstimateMode &amp;fee_estimate_mode)</div><div class="ttdef"><b>Definition:</b> <a href="util_2fees_8cpp_source.html#l00057">fees.cpp:57</a></div></div>
<div class="ttc" id="autil_2fees_8cpp_html_abc483954c40f7d4102f9d42a9da152ed"><div class="ttname"><a href="util_2fees_8cpp.html#abc483954c40f7d4102f9d42a9da152ed">InvalidEstimateModeErrorMessage</a></div><div class="ttdeci">const std::string InvalidEstimateModeErrorMessage()</div><div class="ttdef"><b>Definition:</b> <a href="util_2fees_8cpp_source.html#l00052">fees.cpp:52</a></div></div>
<div class="ttc" id="autil_2fees_8cpp_html_ac829072b1bc64aaba8cb1b3a912c557c"><div class="ttname"><a href="util_2fees_8cpp.html#ac829072b1bc64aaba8cb1b3a912c557c">StringForFeeReason</a></div><div class="ttdeci">std::string StringForFeeReason(FeeReason reason)</div><div class="ttdef"><b>Definition:</b> <a href="util_2fees_8cpp_source.html#l00017">fees.cpp:17</a></div></div>
<div class="ttc" id="autil_2fees_8h_html"><div class="ttname"><a href="util_2fees_8h.html">fees.h</a></div></div>
<div class="ttc" id="autil_2message_8cpp_html_ab31473fff0976e80fcd67166175c0c16"><div class="ttname"><a href="util_2message_8cpp.html#ab31473fff0976e80fcd67166175c0c16">SigningResultString</a></div><div class="ttdeci">std::string SigningResultString(const SigningResult res)</div><div class="ttdef"><b>Definition:</b> <a href="util_2message_8cpp_source.html#l00080">message.cpp:80</a></div></div>
<div class="ttc" id="autil_2system_8cpp_html_a9042a919d837da9d97311a0c460c597c"><div class="ttname"><a href="util_2system_8cpp.html#a9042a919d837da9d97311a0c460c597c">TryCreateDirectories</a></div><div class="ttdeci">bool TryCreateDirectories(const fs::path &amp;p)</div><div class="ttdoc">Ignores exceptions thrown by Boost's create_directories if the requested directory exists.</div><div class="ttdef"><b>Definition:</b> <a href="util_2system_8cpp_source.html#l01081">system.cpp:1081</a></div></div>
<div class="ttc" id="avector_8h_html"><div class="ttname"><a href="vector_8h.html">vector.h</a></div></div>
<div class="ttc" id="avector_8h_html_a56f3051110695bb710625b2f90f09eb3"><div class="ttname"><a href="vector_8h.html#a56f3051110695bb710625b2f90f09eb3">Cat</a></div><div class="ttdeci">V Cat(V v1, V &amp;&amp;v2)</div><div class="ttdoc">Concatenate two vectors, moving elements.</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00031">vector.h:31</a></div></div>
<div class="ttc" id="aversion_8h_html_a4e2497f7c9c4319adcaf945159ec63f4"><div class="ttname"><a href="version_8h.html#a4e2497f7c9c4319adcaf945159ec63f4">PROTOCOL_VERSION</a></div><div class="ttdeci">static const int PROTOCOL_VERSION</div><div class="ttdoc">network protocol versioning</div><div class="ttdef"><b>Definition:</b> <a href="version_8h_source.html#l00012">version.h:12</a></div></div>
<div class="ttc" id="awallet_2context_8h_html"><div class="ttname"><a href="wallet_2context_8h.html">context.h</a></div></div>
<div class="ttc" id="awallet_2transaction_8h_html_aaf509cb8d82c13c57426420ef68ced6a"><div class="ttname"><a href="wallet_2transaction_8h.html#aaf509cb8d82c13c57426420ef68ced6a">mapValue_t</a></div><div class="ttdeci">std::map&lt; std::string, std::string &gt; mapValue_t</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2transaction_8h_source.html#l00020">transaction.h:20</a></div></div>
<div class="ttc" id="awallet_2wallet_8cpp_html_a37411e66636f2a9cda4697b08fe557b7"><div class="ttname"><a href="wallet_2wallet_8cpp.html#a37411e66636f2a9cda4697b08fe557b7">WALLET_FLAG_CAVEATS</a></div><div class="ttdeci">const std::map&lt; uint64_t, std::string &gt; WALLET_FLAG_CAVEATS</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8cpp_source.html#l00051">wallet.cpp:51</a></div></div>
<div class="ttc" id="awallet_2wallet_8cpp_html_a4e4fc890fe3a1ac51f2cc31ee7b5fd37"><div class="ttname"><a href="wallet_2wallet_8cpp.html#a4e4fc890fe3a1ac51f2cc31ee7b5fd37">RemoveWallet</a></div><div class="ttdeci">bool RemoveWallet(WalletContext &amp;context, const std::shared_ptr&lt; CWallet &gt; &amp;wallet, std::optional&lt; bool &gt; load_on_start, std::vector&lt; bilingual_str &gt; &amp;warnings)</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8cpp_source.html#l00117">wallet.cpp:117</a></div></div>
<div class="ttc" id="awallet_2wallet_8cpp_html_a5c2a7725ff8796f03471f844ecded3d9"><div class="ttname"><a href="wallet_2wallet_8cpp.html#a5c2a7725ff8796f03471f844ecded3d9">UnloadWallet</a></div><div class="ttdeci">void UnloadWallet(std::shared_ptr&lt; CWallet &gt; &amp;&amp;wallet)</div><div class="ttdoc">Explicitly unload and delete the wallet.</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8cpp_source.html#l00189">wallet.cpp:189</a></div></div>
<div class="ttc" id="awallet_2wallet_8cpp_html_a8e3280b9a934262e94003e33190a96db"><div class="ttname"><a href="wallet_2wallet_8cpp.html#a8e3280b9a934262e94003e33190a96db">GetWallets</a></div><div class="ttdeci">std::vector&lt; std::shared_ptr&lt; CWallet &gt; &gt; GetWallets(WalletContext &amp;context)</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8cpp_source.html#l00143">wallet.cpp:143</a></div></div>
<div class="ttc" id="awallet_2wallet_8cpp_html_aa28273281d0319a08708afcd3a4d118e"><div class="ttname"><a href="wallet_2wallet_8cpp.html#aa28273281d0319a08708afcd3a4d118e">GetWallet</a></div><div class="ttdeci">std::shared_ptr&lt; CWallet &gt; GetWallet(WalletContext &amp;context, const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8cpp_source.html#l00149">wallet.cpp:149</a></div></div>
<div class="ttc" id="awallet_2wallet_8cpp_html_aa94303ef9bec8e17ae19a208af7c0b7d"><div class="ttname"><a href="wallet_2wallet_8cpp.html#aa94303ef9bec8e17ae19a208af7c0b7d">CreateWallet</a></div><div class="ttdeci">std::shared_ptr&lt; CWallet &gt; CreateWallet(WalletContext &amp;context, const std::string &amp;name, std::optional&lt; bool &gt; load_on_start, DatabaseOptions &amp;options, DatabaseStatus &amp;status, bilingual_str &amp;error, std::vector&lt; bilingual_str &gt; &amp;warnings)</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8cpp_source.html#l00258">wallet.cpp:258</a></div></div>
<div class="ttc" id="awallet_2wallet_8cpp_html_ab97ef9725d459847d284d27b3b52805c"><div class="ttname"><a href="wallet_2wallet_8cpp.html#ab97ef9725d459847d284d27b3b52805c">LoadWallet</a></div><div class="ttdeci">std::shared_ptr&lt; CWallet &gt; LoadWallet(WalletContext &amp;context, const std::string &amp;name, std::optional&lt; bool &gt; load_on_start, const DatabaseOptions &amp;options, DatabaseStatus &amp;status, bilingual_str &amp;error, std::vector&lt; bilingual_str &gt; &amp;warnings)</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8cpp_source.html#l00245">wallet.cpp:245</a></div></div>
<div class="ttc" id="awallet_2wallet_8h_html"><div class="ttname"><a href="wallet_2wallet_8h.html">wallet.h</a></div></div>
<div class="ttc" id="awallet_2wallet_8h_html_a1fef6c0986249a94601e238225c94e6d"><div class="ttname"><a href="wallet_2wallet_8h.html#a1fef6c0986249a94601e238225c94e6d">MUTABLE_WALLET_FLAGS</a></div><div class="ttdeci">static constexpr uint64_t MUTABLE_WALLET_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00127">wallet.h:127</a></div></div>
<div class="ttc" id="awallet_2wallet_8h_html_a567f7a075600e62276c056dcac081838"><div class="ttname"><a href="wallet_2wallet_8h.html#a567f7a075600e62276c056dcac081838">WALLET_FLAG_MAP</a></div><div class="ttdeci">static const std::map&lt; std::string, WalletFlags &gt; WALLET_FLAG_MAP</div><div class="ttdef"><b>Definition:</b> <a href="wallet_2wallet_8h_source.html#l00130">wallet.h:130</a></div></div>
<div class="ttc" id="awalletdb_8h_html"><div class="ttname"><a href="walletdb_8h.html">walletdb.h</a></div></div>
<div class="ttc" id="awalletutil_8cpp_html_aa4cddcdbe214eef41ac6e1f6666a8048"><div class="ttname"><a href="walletutil_8cpp.html#aa4cddcdbe214eef41ac6e1f6666a8048">GetWalletDir</a></div><div class="ttdeci">fs::path GetWalletDir()</div><div class="ttdoc">Get the path of the wallet directory.</div><div class="ttdef"><b>Definition:</b> <a href="walletutil_8cpp_source.html#l00010">walletutil.cpp:10</a></div></div>
<div class="ttc" id="awalletutil_8h_html"><div class="ttname"><a href="walletutil_8h.html">walletutil.h</a></div></div>
<div class="ttc" id="awalletutil_8h_html_a399ea1efa219e50cce4be2b4bbf703f8a3e7090cdbc60a5ff6f3c4cdb9b02019c"><div class="ttname"><a href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a3e7090cdbc60a5ff6f3c4cdb9b02019c">WALLET_FLAG_EXTERNAL_SIGNER</a></div><div class="ttdeci">@ WALLET_FLAG_EXTERNAL_SIGNER</div><div class="ttdoc">Indicates that the wallet needs an external signer.</div><div class="ttdef"><b>Definition:</b> <a href="walletutil_8h_source.html#l00068">walletutil.h:68</a></div></div>
<div class="ttc" id="awalletutil_8h_html_a399ea1efa219e50cce4be2b4bbf703f8a47b6a219e3ca6733b2a251be3e5def86"><div class="ttname"><a href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a47b6a219e3ca6733b2a251be3e5def86">WALLET_FLAG_DISABLE_PRIVATE_KEYS</a></div><div class="ttdeci">@ WALLET_FLAG_DISABLE_PRIVATE_KEYS</div><div class="ttdef"><b>Definition:</b> <a href="walletutil_8h_source.html#l00050">walletutil.h:50</a></div></div>
<div class="ttc" id="awalletutil_8h_html_a399ea1efa219e50cce4be2b4bbf703f8a4e9b88a014a2fa4a31f3698fef9f5ce2"><div class="ttname"><a href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8a4e9b88a014a2fa4a31f3698fef9f5ce2">WALLET_FLAG_AVOID_REUSE</a></div><div class="ttdeci">@ WALLET_FLAG_AVOID_REUSE</div><div class="ttdef"><b>Definition:</b> <a href="walletutil_8h_source.html#l00041">walletutil.h:41</a></div></div>
<div class="ttc" id="awalletutil_8h_html_a399ea1efa219e50cce4be2b4bbf703f8aa07cadd2d20ca06dbd3f0498c4d6fd3f"><div class="ttname"><a href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8aa07cadd2d20ca06dbd3f0498c4d6fd3f">WALLET_FLAG_DESCRIPTORS</a></div><div class="ttdeci">@ WALLET_FLAG_DESCRIPTORS</div><div class="ttdoc">Indicate that this wallet supports DescriptorScriptPubKeyMan.</div><div class="ttdef"><b>Definition:</b> <a href="walletutil_8h_source.html#l00065">walletutil.h:65</a></div></div>
<div class="ttc" id="awalletutil_8h_html_a399ea1efa219e50cce4be2b4bbf703f8ae89353a8ab93640fdd04106570ba8660"><div class="ttname"><a href="walletutil_8h.html#a399ea1efa219e50cce4be2b4bbf703f8ae89353a8ab93640fdd04106570ba8660">WALLET_FLAG_BLANK_WALLET</a></div><div class="ttdeci">@ WALLET_FLAG_BLANK_WALLET</div><div class="ttdoc">Flag set when a wallet contains no HD seed and no private keys, scripts, addresses,...</div><div class="ttdef"><b>Definition:</b> <a href="walletutil_8h_source.html#l00062">walletutil.h:62</a></div></div>
<div class="ttc" id="awalletutil_8h_html_a39a6b71da3eb95cddc0836d3b27ac7c9a15347b1d0d62759fc6370d9311391b4b"><div class="ttname"><a href="walletutil_8h.html#a39a6b71da3eb95cddc0836d3b27ac7c9a15347b1d0d62759fc6370d9311391b4b">FEATURE_HD_SPLIT</a></div><div class="ttdeci">@ FEATURE_HD_SPLIT</div><div class="ttdef"><b>Definition:</b> <a href="walletutil_8h_source.html#l00023">walletutil.h:23</a></div></div>
<div class="ttc" id="awalletutil_8h_html_a39a6b71da3eb95cddc0836d3b27ac7c9a83645d3028014b0d90d1157063a3083d"><div class="ttname"><a href="walletutil_8h.html#a39a6b71da3eb95cddc0836d3b27ac7c9a83645d3028014b0d90d1157063a3083d">FEATURE_HD</a></div><div class="ttdeci">@ FEATURE_HD</div><div class="ttdef"><b>Definition:</b> <a href="walletutil_8h_source.html#l00021">walletutil.h:21</a></div></div>
<div class="ttc" id="awalletutil_8h_html_a39a6b71da3eb95cddc0836d3b27ac7c9a867e17547f858859f558244dc96ac2f3"><div class="ttname"><a href="walletutil_8h.html#a39a6b71da3eb95cddc0836d3b27ac7c9a867e17547f858859f558244dc96ac2f3">FEATURE_LATEST</a></div><div class="ttdeci">@ FEATURE_LATEST</div><div class="ttdef"><b>Definition:</b> <a href="walletutil_8h_source.html#l00030">walletutil.h:29</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Nov 8 2021 14:20:08 for Bitcoin Core by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
