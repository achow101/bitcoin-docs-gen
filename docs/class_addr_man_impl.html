<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bitcoin Core: AddrManImpl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bitcoin_logo_doxygen.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bitcoin Core<span id="projectnumber">&#160;22.99.0</span>
   </div>
   <div id="projectbrief">P2P Digital Currency</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_addr_man_impl-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">AddrManImpl Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for AddrManImpl:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl__coll__graph.svg" width="328" height="218"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab0d363fc2c5931539918715e88f6896c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#ab0d363fc2c5931539918715e88f6896c">AddrManImpl</a> (std::vector&lt; bool &gt; &amp;&amp;asmap, bool deterministic, int32_t consistency_check_ratio)</td></tr>
<tr class="separator:ab0d363fc2c5931539918715e88f6896c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4722e63958ab4bc49085d018da5cc0b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a4722e63958ab4bc49085d018da5cc0b9">~AddrManImpl</a> ()</td></tr>
<tr class="separator:a4722e63958ab4bc49085d018da5cc0b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293aa258c5d9725d8efbd87d90e705f0"><td class="memTemplParams" colspan="2">template&lt;typename Stream &gt; </td></tr>
<tr class="memitem:a293aa258c5d9725d8efbd87d90e705f0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a293aa258c5d9725d8efbd87d90e705f0">Serialize</a> (Stream &amp;s_) const <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:a293aa258c5d9725d8efbd87d90e705f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad93fed23ea2712ea0b12ebf9241ab29a"><td class="memTemplParams" colspan="2">template&lt;typename Stream &gt; </td></tr>
<tr class="memitem:ad93fed23ea2712ea0b12ebf9241ab29a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#ad93fed23ea2712ea0b12ebf9241ab29a">Unserialize</a> (Stream &amp;s_) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:ad93fed23ea2712ea0b12ebf9241ab29a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ade7a30f9078cedf1980305d7675b7b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a3ade7a30f9078cedf1980305d7675b7b">size</a> () const <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:a3ade7a30f9078cedf1980305d7675b7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c0b69669bdb2589ca30430462766f05"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a4c0b69669bdb2589ca30430462766f05">Add</a> (const std::vector&lt; <a class="el" href="class_c_address.html">CAddress</a> &gt; &amp;vAddr, const <a class="el" href="class_c_net_addr.html">CNetAddr</a> &amp;<a class="el" href="rpcconsole_8cpp.html#af2ed45b90afa2ef4ec6e09625335a082">source</a>, int64_t nTimePenalty) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:a4c0b69669bdb2589ca30430462766f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1281f433c377475e87668474c7444bb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a1281f433c377475e87668474c7444bb9">Good</a> (const <a class="el" href="class_c_service.html">CService</a> &amp;addr, int64_t nTime) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:a1281f433c377475e87668474c7444bb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5407d6bf3eb16b5611b4b509ffdec4a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a5407d6bf3eb16b5611b4b509ffdec4a8">Attempt</a> (const <a class="el" href="class_c_service.html">CService</a> &amp;addr, bool fCountFailure, int64_t nTime) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:a5407d6bf3eb16b5611b4b509ffdec4a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefefcfec9e8e128b5946d309056f526f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#aefefcfec9e8e128b5946d309056f526f">ResolveCollisions</a> () <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:aefefcfec9e8e128b5946d309056f526f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2190ab867146a3ff30b7e7f8f59b082"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="class_c_address.html">CAddress</a>, int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#af2190ab867146a3ff30b7e7f8f59b082">SelectTriedCollision</a> () <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:af2190ab867146a3ff30b7e7f8f59b082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a717b8cf90d1698e297ca55bcf6803d37"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="class_c_address.html">CAddress</a>, int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a717b8cf90d1698e297ca55bcf6803d37">Select</a> (bool newOnly) const <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:a717b8cf90d1698e297ca55bcf6803d37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36f366f885a623b0d596cbb5e8299ce2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_c_address.html">CAddress</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a36f366f885a623b0d596cbb5e8299ce2">GetAddr</a> (size_t max_addresses, size_t max_pct, std::optional&lt; <a class="el" href="netaddress_8h.html#acc9a38c714afe79b5035cb36f560dac3">Network</a> &gt; network) const <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:a36f366f885a623b0d596cbb5e8299ce2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b9ad67db787ef03e9255167f6716d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a57b9ad67db787ef03e9255167f6716d9">Connected</a> (const <a class="el" href="class_c_service.html">CService</a> &amp;addr, int64_t nTime) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:a57b9ad67db787ef03e9255167f6716d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43f98ac4f64f4539a22c22fdbe33c3b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a43f98ac4f64f4539a22c22fdbe33c3b0">SetServices</a> (const <a class="el" href="class_c_service.html">CService</a> &amp;addr, <a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a> nServices) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:a43f98ac4f64f4539a22c22fdbe33c3b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b5cef558d734c7f91e411fdc82c1f03"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; bool &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a6b5cef558d734c7f91e411fdc82c1f03">GetAsmap</a> () const</td></tr>
<tr class="separator:a6b5cef558d734c7f91e411fdc82c1f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a26cdb5f8744aa0263cd046e83a7fa999"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a26cdb5f8744aa0263cd046e83a7fa999">Format</a> : uint8_t { <br />
&#160;&#160;<a class="el" href="class_addr_man_impl.html#a26cdb5f8744aa0263cd046e83a7fa999a477649884ad95fd0a2eeae05a5cf7bb2">V0_HISTORICAL</a> = 0
, <a class="el" href="class_addr_man_impl.html#a26cdb5f8744aa0263cd046e83a7fa999ac0cd3e1d9675d522d2c9a2324ebc2ed4">V1_DETERMINISTIC</a> = 1
, <a class="el" href="class_addr_man_impl.html#a26cdb5f8744aa0263cd046e83a7fa999a93d0cb591e751d60e74a363ab2d80880">V2_ASMAP</a> = 2
, <a class="el" href="class_addr_man_impl.html#a26cdb5f8744aa0263cd046e83a7fa999a7fbf574dc7b1609bee4f43b5c0888145">V3_BIP155</a> = 3
, <br />
&#160;&#160;<a class="el" href="class_addr_man_impl.html#a26cdb5f8744aa0263cd046e83a7fa999a20dd878570fe10761dc28a240a7bd40a">V4_MULTIPORT</a> = 4
<br />
 }</td></tr>
<tr class="memdesc:a26cdb5f8744aa0263cd046e83a7fa999"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serialization versions.  <a href="class_addr_man_impl.html#a26cdb5f8744aa0263cd046e83a7fa999">More...</a><br /></td></tr>
<tr class="separator:a26cdb5f8744aa0263cd046e83a7fa999"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a3fb286c080a855441e6933280e341308"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_fast_random_context.html">FastRandomContext</a> insecure_rand&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a3fb286c080a855441e6933280e341308">GUARDED_BY</a> (<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:a3fb286c080a855441e6933280e341308"><td class="mdescLeft">&#160;</td><td class="mdescRight">Source of random numbers for randomization in inner loops.  <a href="class_addr_man_impl.html#a3fb286c080a855441e6933280e341308">More...</a><br /></td></tr>
<tr class="separator:a3fb286c080a855441e6933280e341308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae45af90b57346c53ec1e6146ce125174"><td class="memItemLeft" align="right" valign="top">int nIdCount&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#ae45af90b57346c53ec1e6146ce125174">GUARDED_BY</a> (<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:ae45af90b57346c53ec1e6146ce125174"><td class="mdescLeft">&#160;</td><td class="mdescRight">last used nId  <a href="class_addr_man_impl.html#ae45af90b57346c53ec1e6146ce125174">More...</a><br /></td></tr>
<tr class="separator:ae45af90b57346c53ec1e6146ce125174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70d45920dd15800a2e7e99b7ec18b3b8"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, <a class="el" href="class_addr_info.html">AddrInfo</a> &gt; mapInfo&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a70d45920dd15800a2e7e99b7ec18b3b8">GUARDED_BY</a> (<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:a70d45920dd15800a2e7e99b7ec18b3b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">table with information about all nIds  <a href="class_addr_man_impl.html#a70d45920dd15800a2e7e99b7ec18b3b8">More...</a><br /></td></tr>
<tr class="separator:a70d45920dd15800a2e7e99b7ec18b3b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05b02776e5876d1558c3a0e2707a81d0"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; <a class="el" href="class_c_service.html">CService</a>, int, <a class="el" href="class_c_service_hash.html">CServiceHash</a> &gt; mapAddr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a05b02776e5876d1558c3a0e2707a81d0">GUARDED_BY</a> (<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:a05b02776e5876d1558c3a0e2707a81d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">find an nId based on its network address and port.  <a href="class_addr_man_impl.html#a05b02776e5876d1558c3a0e2707a81d0">More...</a><br /></td></tr>
<tr class="separator:a05b02776e5876d1558c3a0e2707a81d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af076f95fdf7bd46b2f704baa1c043709"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt; vRandom&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#af076f95fdf7bd46b2f704baa1c043709">GUARDED_BY</a> (<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:af076f95fdf7bd46b2f704baa1c043709"><td class="mdescLeft">&#160;</td><td class="mdescRight">randomly-ordered vector of all nIds This is mutable because it is unobservable outside the class, so any changes to it (even in const methods) are also unobservable.  <a href="class_addr_man_impl.html#af076f95fdf7bd46b2f704baa1c043709">More...</a><br /></td></tr>
<tr class="separator:af076f95fdf7bd46b2f704baa1c043709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ddb15f8a62c941c005907e700f4cba1"><td class="memItemLeft" align="right" valign="top">int nTried&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a5ddb15f8a62c941c005907e700f4cba1">GUARDED_BY</a> (<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:a5ddb15f8a62c941c005907e700f4cba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39df9ade17ac76b7c5b7304a876aec17"><td class="memItemLeft" align="right" valign="top">int vvTried[<a class="el" href="addrman__impl_8h.html#a85386879c71e404dedd53fa37bbd3740">ADDRMAN_TRIED_BUCKET_COUNT</a>][<a class="el" href="addrman__impl_8h.html#a97565c250060fa2141e9e471b4d200d1">ADDRMAN_BUCKET_SIZE</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a39df9ade17ac76b7c5b7304a876aec17">GUARDED_BY</a> (<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:a39df9ade17ac76b7c5b7304a876aec17"><td class="mdescLeft">&#160;</td><td class="mdescRight">list of "tried" buckets  <a href="class_addr_man_impl.html#a39df9ade17ac76b7c5b7304a876aec17">More...</a><br /></td></tr>
<tr class="separator:a39df9ade17ac76b7c5b7304a876aec17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20082d33e41526b5345c6dabfc1fd5e7"><td class="memItemLeft" align="right" valign="top">int nNew&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a20082d33e41526b5345c6dabfc1fd5e7">GUARDED_BY</a> (<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:a20082d33e41526b5345c6dabfc1fd5e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of (unique) "new" entries  <a href="class_addr_man_impl.html#a20082d33e41526b5345c6dabfc1fd5e7">More...</a><br /></td></tr>
<tr class="separator:a20082d33e41526b5345c6dabfc1fd5e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38492608e8379b2489c5e0ebc79bd8a9"><td class="memItemLeft" align="right" valign="top">int vvNew[<a class="el" href="addrman__impl_8h.html#aebeb28a030ad8dbee7c09a697d4a5afc">ADDRMAN_NEW_BUCKET_COUNT</a>][<a class="el" href="addrman__impl_8h.html#a97565c250060fa2141e9e471b4d200d1">ADDRMAN_BUCKET_SIZE</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a38492608e8379b2489c5e0ebc79bd8a9">GUARDED_BY</a> (<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:a38492608e8379b2489c5e0ebc79bd8a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">list of "new" buckets  <a href="class_addr_man_impl.html#a38492608e8379b2489c5e0ebc79bd8a9">More...</a><br /></td></tr>
<tr class="separator:a38492608e8379b2489c5e0ebc79bd8a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8acc937247b88ea50509f77a8e06e526"><td class="memItemLeft" align="right" valign="top">int64_t nLastGood&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a8acc937247b88ea50509f77a8e06e526">GUARDED_BY</a> (<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:a8acc937247b88ea50509f77a8e06e526"><td class="mdescLeft">&#160;</td><td class="mdescRight">last time Good was called (memory only). Initially set to 1 so that "never" is strictly worse.  <a href="class_addr_man_impl.html#a8acc937247b88ea50509f77a8e06e526">More...</a><br /></td></tr>
<tr class="separator:a8acc937247b88ea50509f77a8e06e526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a851d604f69056ba60787735f23a5b7f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_addr_info.html">AddrInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a851d604f69056ba60787735f23a5b7f9">Find</a> (const <a class="el" href="class_c_service.html">CService</a> &amp;addr, int *pnId=nullptr) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:a851d604f69056ba60787735f23a5b7f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find an entry.  <a href="class_addr_man_impl.html#a851d604f69056ba60787735f23a5b7f9">More...</a><br /></td></tr>
<tr class="separator:a851d604f69056ba60787735f23a5b7f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af04d743b7a25b032b3f2aefaf92bab11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_addr_info.html">AddrInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#af04d743b7a25b032b3f2aefaf92bab11">Create</a> (const <a class="el" href="class_c_address.html">CAddress</a> &amp;addr, const <a class="el" href="class_c_net_addr.html">CNetAddr</a> &amp;addrSource, int *pnId=nullptr) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:af04d743b7a25b032b3f2aefaf92bab11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new entry and add it to the internal data structures mapInfo, mapAddr and vRandom.  <a href="class_addr_man_impl.html#af04d743b7a25b032b3f2aefaf92bab11">More...</a><br /></td></tr>
<tr class="separator:af04d743b7a25b032b3f2aefaf92bab11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac59128f186fa8602887781307f5b73cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#ac59128f186fa8602887781307f5b73cf">SwapRandom</a> (unsigned int nRandomPos1, unsigned int nRandomPos2) const <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:ac59128f186fa8602887781307f5b73cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Swap two elements in vRandom.  <a href="class_addr_man_impl.html#ac59128f186fa8602887781307f5b73cf">More...</a><br /></td></tr>
<tr class="separator:ac59128f186fa8602887781307f5b73cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abecb55817a46614400ec8ead033c3997"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#abecb55817a46614400ec8ead033c3997">Delete</a> (int nId) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:abecb55817a46614400ec8ead033c3997"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete an entry. It must not be in tried, and have refcount 0.  <a href="class_addr_man_impl.html#abecb55817a46614400ec8ead033c3997">More...</a><br /></td></tr>
<tr class="separator:abecb55817a46614400ec8ead033c3997"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a022d1fd74b9292141a577545c221c541"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a022d1fd74b9292141a577545c221c541">ClearNew</a> (int nUBucket, int nUBucketPos) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:a022d1fd74b9292141a577545c221c541"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear a position in a "new" table. This is the only place where entries are actually deleted.  <a href="class_addr_man_impl.html#a022d1fd74b9292141a577545c221c541">More...</a><br /></td></tr>
<tr class="separator:a022d1fd74b9292141a577545c221c541"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41e6e6a7690604e645ad2d614b16dd11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a41e6e6a7690604e645ad2d614b16dd11">MakeTried</a> (<a class="el" href="class_addr_info.html">AddrInfo</a> &amp;info, int nId) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:a41e6e6a7690604e645ad2d614b16dd11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move an entry from the "new" table(s) to the "tried" table.  <a href="class_addr_man_impl.html#a41e6e6a7690604e645ad2d614b16dd11">More...</a><br /></td></tr>
<tr class="separator:a41e6e6a7690604e645ad2d614b16dd11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3e33b5635182361d0bd536deb9212c5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#ad3e33b5635182361d0bd536deb9212c5">AddSingle</a> (const <a class="el" href="class_c_address.html">CAddress</a> &amp;addr, const <a class="el" href="class_c_net_addr.html">CNetAddr</a> &amp;<a class="el" href="rpcconsole_8cpp.html#af2ed45b90afa2ef4ec6e09625335a082">source</a>, int64_t nTimePenalty) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:ad3e33b5635182361d0bd536deb9212c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to add a single address to addrman's new table.  <a href="class_addr_man_impl.html#ad3e33b5635182361d0bd536deb9212c5">More...</a><br /></td></tr>
<tr class="separator:ad3e33b5635182361d0bd536deb9212c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9505b30d3581c10c1a27ed3df47dea9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a9505b30d3581c10c1a27ed3df47dea9d">Good_</a> (const <a class="el" href="class_c_service.html">CService</a> &amp;addr, bool test_before_evict, int64_t time) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:a9505b30d3581c10c1a27ed3df47dea9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2c7ca4380fd6ae1a22bf15e54c990ae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#af2c7ca4380fd6ae1a22bf15e54c990ae">Add_</a> (const std::vector&lt; <a class="el" href="class_c_address.html">CAddress</a> &gt; &amp;vAddr, const <a class="el" href="class_c_net_addr.html">CNetAddr</a> &amp;<a class="el" href="rpcconsole_8cpp.html#af2ed45b90afa2ef4ec6e09625335a082">source</a>, int64_t nTimePenalty) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:af2c7ca4380fd6ae1a22bf15e54c990ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9d9ac8181c8e33f16a746d326bb2764"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#af9d9ac8181c8e33f16a746d326bb2764">Attempt_</a> (const <a class="el" href="class_c_service.html">CService</a> &amp;addr, bool fCountFailure, int64_t nTime) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:af9d9ac8181c8e33f16a746d326bb2764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a990b8b373f8748e7e270548527d12aed"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="class_c_address.html">CAddress</a>, int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a990b8b373f8748e7e270548527d12aed">Select_</a> (bool newOnly) const <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:a990b8b373f8748e7e270548527d12aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5ce10673efaa50e34541dcd6947c831"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_c_address.html">CAddress</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#af5ce10673efaa50e34541dcd6947c831">GetAddr_</a> (size_t max_addresses, size_t max_pct, std::optional&lt; <a class="el" href="netaddress_8h.html#acc9a38c714afe79b5035cb36f560dac3">Network</a> &gt; network) const <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:af5ce10673efaa50e34541dcd6947c831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25ce3b4f3697e7f1d60a8a7fea46a75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#ad25ce3b4f3697e7f1d60a8a7fea46a75">Connected_</a> (const <a class="el" href="class_c_service.html">CService</a> &amp;addr, int64_t nTime) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:ad25ce3b4f3697e7f1d60a8a7fea46a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5592c1a24f5238f65d1cc451e609ad56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a5592c1a24f5238f65d1cc451e609ad56">SetServices_</a> (const <a class="el" href="class_c_service.html">CService</a> &amp;addr, <a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a> nServices) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:a5592c1a24f5238f65d1cc451e609ad56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fd64af7a761d81c686313d3591ff222"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a1fd64af7a761d81c686313d3591ff222">ResolveCollisions_</a> () <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:a1fd64af7a761d81c686313d3591ff222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bb4364ad981451a75285ddf98e4630f"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="class_c_address.html">CAddress</a>, int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a8bb4364ad981451a75285ddf98e4630f">SelectTriedCollision_</a> () <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="separator:a8bb4364ad981451a75285ddf98e4630f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750d850b55151c4ca563ab76c1bfa94e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a750d850b55151c4ca563ab76c1bfa94e">Check</a> () const <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:a750d850b55151c4ca563ab76c1bfa94e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consistency check, taking into account m_consistency_check_ratio. Will std::abort if an inconsistency is detected.  <a href="class_addr_man_impl.html#a750d850b55151c4ca563ab76c1bfa94e">More...</a><br /></td></tr>
<tr class="separator:a750d850b55151c4ca563ab76c1bfa94e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0707028e4187a83ad7fdc2f959a374c8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a0707028e4187a83ad7fdc2f959a374c8">ForceCheckAddrman</a> () const <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>)</td></tr>
<tr class="memdesc:a0707028e4187a83ad7fdc2f959a374c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform consistency check, regardless of m_consistency_check_ratio.  <a href="class_addr_man_impl.html#a0707028e4187a83ad7fdc2f959a374c8">More...</a><br /></td></tr>
<tr class="separator:a0707028e4187a83ad7fdc2f959a374c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a908994d45d2b8be1a18c0d29b7c0ea82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sync_8h.html#a9c9c99acb9d093cae8cc54aeef3248f9">Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a></td></tr>
<tr class="memdesc:a908994d45d2b8be1a18c0d29b7c0ea82"><td class="mdescLeft">&#160;</td><td class="mdescRight">A mutex to protect the inner data structures.  <a href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">More...</a><br /></td></tr>
<tr class="separator:a908994d45d2b8be1a18c0d29b7c0ea82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebf7ea6d326bda67d9b811cdb87013e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classuint256.html">uint256</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#aebf7ea6d326bda67d9b811cdb87013e8">nKey</a></td></tr>
<tr class="memdesc:aebf7ea6d326bda67d9b811cdb87013e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">secret key to randomize bucket select with  <a href="class_addr_man_impl.html#aebf7ea6d326bda67d9b811cdb87013e8">More...</a><br /></td></tr>
<tr class="separator:aebf7ea6d326bda67d9b811cdb87013e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2768d4a0feb4ee54647e42f90afc562"><td class="memItemLeft" align="right" valign="top">std::set&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#ae2768d4a0feb4ee54647e42f90afc562">m_tried_collisions</a></td></tr>
<tr class="memdesc:ae2768d4a0feb4ee54647e42f90afc562"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds addrs inserted into tried table that collide with existing entries. Test-before-evict discipline used to resolve these collisions.  <a href="class_addr_man_impl.html#ae2768d4a0feb4ee54647e42f90afc562">More...</a><br /></td></tr>
<tr class="separator:ae2768d4a0feb4ee54647e42f90afc562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6afda0ad55356011f548768e7b2bf270"><td class="memItemLeft" align="right" valign="top">const int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a6afda0ad55356011f548768e7b2bf270">m_consistency_check_ratio</a></td></tr>
<tr class="memdesc:a6afda0ad55356011f548768e7b2bf270"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform consistency checks every m_consistency_check_ratio operations (if non-zero).  <a href="class_addr_man_impl.html#a6afda0ad55356011f548768e7b2bf270">More...</a><br /></td></tr>
<tr class="separator:a6afda0ad55356011f548768e7b2bf270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb6761c9397d0bf9bf1d48e48b995891"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#aeb6761c9397d0bf9bf1d48e48b995891">m_asmap</a></td></tr>
<tr class="separator:aeb6761c9397d0bf9bf1d48e48b995891"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a1b89896fb2e3ecdf120c5c720de8452b"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="class_addr_man_impl.html#a26cdb5f8744aa0263cd046e83a7fa999">Format</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a1b89896fb2e3ecdf120c5c720de8452b">FILE_FORMAT</a> = Format::V4_MULTIPORT</td></tr>
<tr class="memdesc:a1b89896fb2e3ecdf120c5c720de8452b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum format this software knows it can unserialize.  <a href="class_addr_man_impl.html#a1b89896fb2e3ecdf120c5c720de8452b">More...</a><br /></td></tr>
<tr class="separator:a1b89896fb2e3ecdf120c5c720de8452b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abea6fdb40062773a7a66739636435606"><td class="memItemLeft" align="right" valign="top">static constexpr uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#abea6fdb40062773a7a66739636435606">INCOMPATIBILITY_BASE</a> = 32</td></tr>
<tr class="memdesc:abea6fdb40062773a7a66739636435606"><td class="mdescLeft">&#160;</td><td class="mdescRight">The initial value of a field that is incremented every time an incompatible format change is made (such that old software versions would not be able to parse and understand the new file format).  <a href="class_addr_man_impl.html#abea6fdb40062773a7a66739636435606">More...</a><br /></td></tr>
<tr class="separator:abea6fdb40062773a7a66739636435606"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ab012825e08cd95f15433e244cef35c84"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#ab012825e08cd95f15433e244cef35c84">AddrManTest</a></td></tr>
<tr class="separator:ab012825e08cd95f15433e244cef35c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c4ab126dd4e8c67ff43bf333d6b1228"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_addr_man_impl.html#a6c4ab126dd4e8c67ff43bf333d6b1228">AddrManDeterministic</a></td></tr>
<tr class="separator:a6c4ab126dd4e8c67ff43bf333d6b1228"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="addrman__impl_8h_source.html#l00099">99</a> of file <a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a26cdb5f8744aa0263cd046e83a7fa999" name="a26cdb5f8744aa0263cd046e83a7fa999"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26cdb5f8744aa0263cd046e83a7fa999">&#9670;&nbsp;</a></span>Format</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_addr_man_impl.html#a26cdb5f8744aa0263cd046e83a7fa999">AddrManImpl::Format</a> : uint8_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Serialization versions. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a26cdb5f8744aa0263cd046e83a7fa999a477649884ad95fd0a2eeae05a5cf7bb2" name="a26cdb5f8744aa0263cd046e83a7fa999a477649884ad95fd0a2eeae05a5cf7bb2"></a>V0_HISTORICAL&#160;</td><td class="fielddoc"><p >historic format, before commit e6b343d88 </p>
</td></tr>
<tr><td class="fieldname"><a id="a26cdb5f8744aa0263cd046e83a7fa999ac0cd3e1d9675d522d2c9a2324ebc2ed4" name="a26cdb5f8744aa0263cd046e83a7fa999ac0cd3e1d9675d522d2c9a2324ebc2ed4"></a>V1_DETERMINISTIC&#160;</td><td class="fielddoc"><p >for pre-asmap files </p>
</td></tr>
<tr><td class="fieldname"><a id="a26cdb5f8744aa0263cd046e83a7fa999a93d0cb591e751d60e74a363ab2d80880" name="a26cdb5f8744aa0263cd046e83a7fa999a93d0cb591e751d60e74a363ab2d80880"></a>V2_ASMAP&#160;</td><td class="fielddoc"><p >for files including asmap version </p>
</td></tr>
<tr><td class="fieldname"><a id="a26cdb5f8744aa0263cd046e83a7fa999a7fbf574dc7b1609bee4f43b5c0888145" name="a26cdb5f8744aa0263cd046e83a7fa999a7fbf574dc7b1609bee4f43b5c0888145"></a>V3_BIP155&#160;</td><td class="fielddoc"><p >same as V2_ASMAP plus addresses are in BIP155 format </p>
</td></tr>
<tr><td class="fieldname"><a id="a26cdb5f8744aa0263cd046e83a7fa999a20dd878570fe10761dc28a240a7bd40a" name="a26cdb5f8744aa0263cd046e83a7fa999a20dd878570fe10761dc28a240a7bd40a"></a>V4_MULTIPORT&#160;</td><td class="fielddoc"><p >adds support for multiple ports per IP </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="addrman__impl_8h_source.html#l00155">155</a> of file <a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab0d363fc2c5931539918715e88f6896c" name="ab0d363fc2c5931539918715e88f6896c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0d363fc2c5931539918715e88f6896c">&#9670;&nbsp;</a></span>AddrManImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AddrManImpl::AddrManImpl </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; bool &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>asmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>deterministic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>consistency_check_ratio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00100">100</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>

</div>
</div>
<a id="a4722e63958ab4bc49085d018da5cc0b9" name="a4722e63958ab4bc49085d018da5cc0b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4722e63958ab4bc49085d018da5cc0b9">&#9670;&nbsp;</a></span>~AddrManImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AddrManImpl::~AddrManImpl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00118">118</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a4722e63958ab4bc49085d018da5cc0b9_cgraph.svg" width="416" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4c0b69669bdb2589ca30430462766f05" name="a4c0b69669bdb2589ca30430462766f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c0b69669bdb2589ca30430462766f05">&#9670;&nbsp;</a></span>Add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AddrManImpl::Add </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_c_address.html">CAddress</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_net_addr.html">CNetAddr</a> &amp;&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>nTimePenalty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l01041">1041</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a4c0b69669bdb2589ca30430462766f05_cgraph.svg" width="2444" height="1634"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af2c7ca4380fd6ae1a22bf15e54c990ae" name="af2c7ca4380fd6ae1a22bf15e54c990ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2c7ca4380fd6ae1a22bf15e54c990ae">&#9670;&nbsp;</a></span>Add_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AddrManImpl::Add_ </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_c_address.html">CAddress</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_net_addr.html">CNetAddr</a> &amp;&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>nTimePenalty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00670">670</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_af2c7ca4380fd6ae1a22bf15e54c990ae_cgraph.svg" width="2210" height="1704"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_af2c7ca4380fd6ae1a22bf15e54c990ae_icgraph.svg" width="351" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad3e33b5635182361d0bd536deb9212c5" name="ad3e33b5635182361d0bd536deb9212c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3e33b5635182361d0bd536deb9212c5">&#9670;&nbsp;</a></span>AddSingle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AddrManImpl::AddSingle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_address.html">CAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_net_addr.html">CNetAddr</a> &amp;&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>nTimePenalty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempt to add a single address to addrman's new table. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_addr_man.html#a8b0b9ca2b83e5fecc764cc9985e2296a" title="Attempt to add one or more addresses to addrman&#39;s new table.">AddrMan::Add()</a> <a class="el" href="validation_8cpp.html#ab7c9794093e95d5e2d9c5942d2fb4d15">for</a> parameters. </dd></dl>

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00540">540</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_ad3e33b5635182361d0bd536deb9212c5_cgraph.svg" width="2012" height="1768"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_ad3e33b5635182361d0bd536deb9212c5_icgraph.svg" width="582" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a5407d6bf3eb16b5611b4b509ffdec4a8" name="a5407d6bf3eb16b5611b4b509ffdec4a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5407d6bf3eb16b5611b4b509ffdec4a8">&#9670;&nbsp;</a></span>Attempt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::Attempt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_service.html">CService</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fCountFailure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>nTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l01058">1058</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a5407d6bf3eb16b5611b4b509ffdec4a8_cgraph.svg" width="887" height="214"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af9d9ac8181c8e33f16a746d326bb2764" name="af9d9ac8181c8e33f16a746d326bb2764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9d9ac8181c8e33f16a746d326bb2764">&#9670;&nbsp;</a></span>Attempt_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::Attempt_ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_service.html">CService</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fCountFailure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>nTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00682">682</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_af9d9ac8181c8e33f16a746d326bb2764_cgraph.svg" width="551" height="63"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_af9d9ac8181c8e33f16a746d326bb2764_icgraph.svg" width="407" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a750d850b55151c4ca563ab76c1bfa94e" name="a750d850b55151c4ca563ab76c1bfa94e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a750d850b55151c4ca563ab76c1bfa94e">&#9670;&nbsp;</a></span>Check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::Check </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Consistency check, taking into account m_consistency_check_ratio. Will std::abort if an inconsistency is detected. </p>

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00932">932</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a750d850b55151c4ca563ab76c1bfa94e_cgraph.svg" width="648" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a750d850b55151c4ca563ab76c1bfa94e_icgraph.svg" width="448" height="459"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a022d1fd74b9292141a577545c221c541" name="a022d1fd74b9292141a577545c221c541"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a022d1fd74b9292141a577545c221c541">&#9670;&nbsp;</a></span>ClearNew()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::ClearNew </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nUBucket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nUBucketPos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear a position in a "new" table. This is the only place where entries are actually deleted. </p>

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00467">467</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a022d1fd74b9292141a577545c221c541_cgraph.svg" width="1836" height="767"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a022d1fd74b9292141a577545c221c541_icgraph.svg" width="1195" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a57b9ad67db787ef03e9255167f6716d9" name="a57b9ad67db787ef03e9255167f6716d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57b9ad67db787ef03e9255167f6716d9">&#9670;&nbsp;</a></span>Connected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::Connected </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_service.html">CService</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>nTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l01101">1101</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a57b9ad67db787ef03e9255167f6716d9_cgraph.svg" width="919" height="240"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad25ce3b4f3697e7f1d60a8a7fea46a75" name="ad25ce3b4f3697e7f1d60a8a7fea46a75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad25ce3b4f3697e7f1d60a8a7fea46a75">&#9670;&nbsp;</a></span>Connected_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::Connected_ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_service.html">CService</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>nTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00809">809</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_ad25ce3b4f3697e7f1d60a8a7fea46a75_cgraph.svg" width="567" height="63"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_ad25ce3b4f3697e7f1d60a8a7fea46a75_icgraph.svg" width="439" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af04d743b7a25b032b3f2aefaf92bab11" name="af04d743b7a25b032b3f2aefaf92bab11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af04d743b7a25b032b3f2aefaf92bab11">&#9670;&nbsp;</a></span>Create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_addr_info.html">AddrInfo</a> * AddrManImpl::Create </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_address.html">CAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_net_addr.html">CNetAddr</a> &amp;&#160;</td>
          <td class="paramname"><em>addrSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pnId</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new entry and add it to the internal data structures mapInfo, mapAddr and vRandom. </p>

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00413">413</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_af04d743b7a25b032b3f2aefaf92bab11_cgraph.svg" width="342" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_af04d743b7a25b032b3f2aefaf92bab11_icgraph.svg" width="790" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="abecb55817a46614400ec8ead033c3997" name="abecb55817a46614400ec8ead033c3997"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abecb55817a46614400ec8ead033c3997">&#9670;&nbsp;</a></span>Delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::Delete </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete an entry. It must not be in tried, and have refcount 0. </p>

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00451">451</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_abecb55817a46614400ec8ead033c3997_cgraph.svg" width="596" height="100"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_abecb55817a46614400ec8ead033c3997_icgraph.svg" width="1414" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a851d604f69056ba60787735f23a5b7f9" name="a851d604f69056ba60787735f23a5b7f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a851d604f69056ba60787735f23a5b7f9">&#9670;&nbsp;</a></span>Find()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_addr_info.html">AddrInfo</a> * AddrManImpl::Find </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_service.html">CService</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pnId</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find an entry. </p>

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00398">398</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a851d604f69056ba60787735f23a5b7f9_cgraph.svg" width="326" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a851d604f69056ba60787735f23a5b7f9_icgraph.svg" width="970" height="291"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a0707028e4187a83ad7fdc2f959a374c8" name="a0707028e4187a83ad7fdc2f959a374c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0707028e4187a83ad7fdc2f959a374c8">&#9670;&nbsp;</a></span>ForceCheckAddrman()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int AddrManImpl::ForceCheckAddrman </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform consistency check, regardless of m_consistency_check_ratio. </p>
<dl class="section return"><dt>Returns</dt><dd>an error code or zero. </dd></dl>

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00947">947</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a0707028e4187a83ad7fdc2f959a374c8_cgraph.svg" width="443" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a0707028e4187a83ad7fdc2f959a374c8_icgraph.svg" width="780" height="459"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a36f366f885a623b0d596cbb5e8299ce2" name="a36f366f885a623b0d596cbb5e8299ce2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36f366f885a623b0d596cbb5e8299ce2">&#9670;&nbsp;</a></span>GetAddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="class_c_address.html">CAddress</a> &gt; AddrManImpl::GetAddr </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_addresses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_pct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; <a class="el" href="netaddress_8h.html#acc9a38c714afe79b5035cb36f560dac3">Network</a> &gt;&#160;</td>
          <td class="paramname"><em>network</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l01092">1092</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a36f366f885a623b0d596cbb5e8299ce2_cgraph.svg" width="1034" height="403"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af5ce10673efaa50e34541dcd6947c831" name="af5ce10673efaa50e34541dcd6947c831"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5ce10673efaa50e34541dcd6947c831">&#9670;&nbsp;</a></span>GetAddr_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="class_c_address.html">CAddress</a> &gt; AddrManImpl::GetAddr_ </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_addresses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_pct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; <a class="el" href="netaddress_8h.html#acc9a38c714afe79b5035cb36f560dac3">Network</a> &gt;&#160;</td>
          <td class="paramname"><em>network</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00771">771</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_af5ce10673efaa50e34541dcd6947c831_cgraph.svg" width="760" height="218"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_af5ce10673efaa50e34541dcd6947c831_icgraph.svg" width="407" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6b5cef558d734c7f91e411fdc82c1f03" name="a6b5cef558d734c7f91e411fdc82c1f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b5cef558d734c7f91e411fdc82c1f03">&#9670;&nbsp;</a></span>GetAsmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; bool &gt; &amp; AddrManImpl::GetAsmap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l01117">1117</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>

</div>
</div>
<a id="a1281f433c377475e87668474c7444bb9" name="a1281f433c377475e87668474c7444bb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1281f433c377475e87668474c7444bb9">&#9670;&nbsp;</a></span>Good()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::Good </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_service.html">CService</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>nTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l01050">1050</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a1281f433c377475e87668474c7444bb9_cgraph.svg" width="2487" height="1543"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9505b30d3581c10c1a27ed3df47dea9d" name="a9505b30d3581c10c1a27ed3df47dea9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9505b30d3581c10c1a27ed3df47dea9d">&#9670;&nbsp;</a></span>Good_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::Good_ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_service.html">CService</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>test_before_evict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00615">615</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a9505b30d3581c10c1a27ed3df47dea9d_cgraph.svg" width="2198" height="1574"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a9505b30d3581c10c1a27ed3df47dea9d_icgraph.svg" width="736" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3fb286c080a855441e6933280e341308" name="a3fb286c080a855441e6933280e341308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fb286c080a855441e6933280e341308">&#9670;&nbsp;</a></span>GUARDED_BY() <span class="overload">[1/10]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_fast_random_context.html">FastRandomContext</a> insecure_rand AddrManImpl::GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Source of random numbers for randomization in inner loops. </p>

</div>
</div>
<a id="ae45af90b57346c53ec1e6146ce125174" name="ae45af90b57346c53ec1e6146ce125174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae45af90b57346c53ec1e6146ce125174">&#9670;&nbsp;</a></span>GUARDED_BY() <span class="overload">[2/10]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nIdCount AddrManImpl::GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>last used nId </p>

<p class="definition">Definition at line <a class="el" href="addrman__impl_8h_source.html#l00178">178</a> of file <a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>.</p>

</div>
</div>
<a id="a70d45920dd15800a2e7e99b7ec18b3b8" name="a70d45920dd15800a2e7e99b7ec18b3b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70d45920dd15800a2e7e99b7ec18b3b8">&#9670;&nbsp;</a></span>GUARDED_BY() <span class="overload">[3/10]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int, <a class="el" href="class_addr_info.html">AddrInfo</a> &gt; mapInfo AddrManImpl::GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>table with information about all nIds </p>

</div>
</div>
<a id="a05b02776e5876d1558c3a0e2707a81d0" name="a05b02776e5876d1558c3a0e2707a81d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05b02776e5876d1558c3a0e2707a81d0">&#9670;&nbsp;</a></span>GUARDED_BY() <span class="overload">[4/10]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; <a class="el" href="class_c_service.html">CService</a>, int, <a class="el" href="class_c_service_hash.html">CServiceHash</a> &gt; mapAddr AddrManImpl::GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>find an nId based on its network address and port. </p>

</div>
</div>
<a id="af076f95fdf7bd46b2f704baa1c043709" name="af076f95fdf7bd46b2f704baa1c043709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af076f95fdf7bd46b2f704baa1c043709">&#9670;&nbsp;</a></span>GUARDED_BY() <span class="overload">[5/10]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; int &gt; vRandom AddrManImpl::GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>randomly-ordered vector of all nIds This is mutable because it is unobservable outside the class, so any changes to it (even in const methods) are also unobservable. </p>

</div>
</div>
<a id="a5ddb15f8a62c941c005907e700f4cba1" name="a5ddb15f8a62c941c005907e700f4cba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ddb15f8a62c941c005907e700f4cba1">&#9670;&nbsp;</a></span>GUARDED_BY() <span class="overload">[6/10]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nTried AddrManImpl::GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman__impl_8h_source.html#l00192">192</a> of file <a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>.</p>

</div>
</div>
<a id="a39df9ade17ac76b7c5b7304a876aec17" name="a39df9ade17ac76b7c5b7304a876aec17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39df9ade17ac76b7c5b7304a876aec17">&#9670;&nbsp;</a></span>GUARDED_BY() <span class="overload">[7/10]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int vvTried[<a class="el" href="addrman__impl_8h.html#a85386879c71e404dedd53fa37bbd3740">ADDRMAN_TRIED_BUCKET_COUNT</a>][<a class="el" href="addrman__impl_8h.html#a97565c250060fa2141e9e471b4d200d1">ADDRMAN_BUCKET_SIZE</a>] AddrManImpl::GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>list of "tried" buckets </p>

</div>
</div>
<a id="a20082d33e41526b5345c6dabfc1fd5e7" name="a20082d33e41526b5345c6dabfc1fd5e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20082d33e41526b5345c6dabfc1fd5e7">&#9670;&nbsp;</a></span>GUARDED_BY() <span class="overload">[8/10]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nNew AddrManImpl::GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>number of (unique) "new" entries </p>

<p class="definition">Definition at line <a class="el" href="addrman__impl_8h_source.html#l00198">198</a> of file <a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>.</p>

</div>
</div>
<a id="a38492608e8379b2489c5e0ebc79bd8a9" name="a38492608e8379b2489c5e0ebc79bd8a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38492608e8379b2489c5e0ebc79bd8a9">&#9670;&nbsp;</a></span>GUARDED_BY() <span class="overload">[9/10]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int vvNew[<a class="el" href="addrman__impl_8h.html#aebeb28a030ad8dbee7c09a697d4a5afc">ADDRMAN_NEW_BUCKET_COUNT</a>][<a class="el" href="addrman__impl_8h.html#a97565c250060fa2141e9e471b4d200d1">ADDRMAN_BUCKET_SIZE</a>] AddrManImpl::GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>list of "new" buckets </p>

</div>
</div>
<a id="a8acc937247b88ea50509f77a8e06e526" name="a8acc937247b88ea50509f77a8e06e526"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8acc937247b88ea50509f77a8e06e526">&#9670;&nbsp;</a></span>GUARDED_BY() <span class="overload">[10/10]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t nLastGood AddrManImpl::GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_addr_man_impl.html#a908994d45d2b8be1a18c0d29b7c0ea82">cs</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>last time Good was called (memory only). Initially set to 1 so that "never" is strictly worse. </p>

<p class="definition">Definition at line <a class="el" href="addrman__impl_8h_source.html#l00204">204</a> of file <a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>.</p>

</div>
</div>
<a id="a41e6e6a7690604e645ad2d614b16dd11" name="a41e6e6a7690604e645ad2d614b16dd11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41e6e6a7690604e645ad2d614b16dd11">&#9670;&nbsp;</a></span>MakeTried()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::MakeTried </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_addr_info.html">AddrInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Move an entry from the "new" table(s) to the "tried" table. </p>

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00485">485</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a41e6e6a7690604e645ad2d614b16dd11_cgraph.svg" width="2036" height="1772"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a41e6e6a7690604e645ad2d614b16dd11_icgraph.svg" width="967" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aefefcfec9e8e128b5946d309056f526f" name="aefefcfec9e8e128b5946d309056f526f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefefcfec9e8e128b5946d309056f526f">&#9670;&nbsp;</a></span>ResolveCollisions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::ResolveCollisions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l01066">1066</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_aefefcfec9e8e128b5946d309056f526f_cgraph.svg" width="3015" height="1496"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1fd64af7a761d81c686313d3591ff222" name="a1fd64af7a761d81c686313d3591ff222"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fd64af7a761d81c686313d3591ff222">&#9670;&nbsp;</a></span>ResolveCollisions_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::ResolveCollisions_ </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00843">843</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a1fd64af7a761d81c686313d3591ff222_cgraph.svg" width="2688" height="1392"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a1fd64af7a761d81c686313d3591ff222_icgraph.svg" width="530" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a717b8cf90d1698e297ca55bcf6803d37" name="a717b8cf90d1698e297ca55bcf6803d37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a717b8cf90d1698e297ca55bcf6803d37">&#9670;&nbsp;</a></span>Select()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="class_c_address.html">CAddress</a>, int64_t &gt; AddrManImpl::Select </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>newOnly</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l01083">1083</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a717b8cf90d1698e297ca55bcf6803d37_cgraph.svg" width="860" height="168"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a990b8b373f8748e7e270548527d12aed" name="a990b8b373f8748e7e270548527d12aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a990b8b373f8748e7e270548527d12aed">&#9670;&nbsp;</a></span>Select_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="class_c_address.html">CAddress</a>, int64_t &gt; AddrManImpl::Select_ </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>newOnly</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00702">702</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a990b8b373f8748e7e270548527d12aed_cgraph.svg" width="346" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a990b8b373f8748e7e270548527d12aed_icgraph.svg" width="380" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af2190ab867146a3ff30b7e7f8f59b082" name="af2190ab867146a3ff30b7e7f8f59b082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2190ab867146a3ff30b7e7f8f59b082">&#9670;&nbsp;</a></span>SelectTriedCollision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="class_c_address.html">CAddress</a>, int64_t &gt; AddrManImpl::SelectTriedCollision </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l01074">1074</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_af2190ab867146a3ff30b7e7f8f59b082_cgraph.svg" width="2618" height="1426"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a8bb4364ad981451a75285ddf98e4630f" name="a8bb4364ad981451a75285ddf98e4630f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bb4364ad981451a75285ddf98e4630f">&#9670;&nbsp;</a></span>SelectTriedCollision_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="class_c_address.html">CAddress</a>, int64_t &gt; AddrManImpl::SelectTriedCollision_ </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00904">904</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a8bb4364ad981451a75285ddf98e4630f_cgraph.svg" width="2347" height="1586"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a8bb4364ad981451a75285ddf98e4630f_icgraph.svg" width="435" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a293aa258c5d9725d8efbd87d90e705f0" name="a293aa258c5d9725d8efbd87d90e705f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a293aa258c5d9725d8efbd87d90e705f0">&#9670;&nbsp;</a></span>Serialize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Stream &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::Serialize </td>
          <td>(</td>
          <td class="paramtype">Stream &amp;&#160;</td>
          <td class="paramname"><em>s_</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Serialized format.</p><ul>
<li>format version byte (<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="class_addr_man_impl.html#a26cdb5f8744aa0263cd046e83a7fa999" title="Serialization versions.">Format</a></code>)</dd></dl>
</li>
<li>lowest compatible format version byte. This is used to help old software decide whether to parse the file. For example:<ul>
<li>Bitcoin Core version N knows how to parse up to format=3. If a new format=4 is introduced in version N+1 that is compatible with format=3 and it is known that version N will be able to parse it, then version N+1 will write (format=4, lowest_compatible=3) in the first two bytes of the file, and so version N will still try to parse it.</li>
<li>Bitcoin Core version N+2 introduces a new incompatible format=5. It will write (format=5, lowest_compatible=5) and so any versions that do not know how to parse format=5 will not try to read the file.</li>
</ul>
</li>
<li>nKey</li>
<li>nNew</li>
<li>nTried</li>
<li>number of "new" buckets XOR 2**30</li>
<li>all new addresses (total count: nNew)</li>
<li>all tried addresses (total count: nTried)</li>
<li>for each new bucket:<ul>
<li>number of elements</li>
<li>for each element: index in the serialized "all new addresses"</li>
</ul>
</li>
<li>asmap checksum</li>
</ul>
<p >2**30 is xorred with the number of buckets to make addrman deserializer v0 detect it as incompatible. This is necessary because it did not check the version number on deserialization.</p>
<p >vvNew, vvTried, mapInfo, mapAddr and vRandom are never encoded explicitly; they are instead reconstructed from the other information.</p>
<p >This format is more complex, but significantly smaller (at most 1.5 MiB), and supports changes to the ADDRMAN_ parameters without breaking the on-disk structure.</p>
<p >We don't use SERIALIZE_METHODS since the serialization and deserialization code has very little in common.</p>

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00124">124</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a293aa258c5d9725d8efbd87d90e705f0_cgraph.svg" width="1287" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a43f98ac4f64f4539a22c22fdbe33c3b0" name="a43f98ac4f64f4539a22c22fdbe33c3b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43f98ac4f64f4539a22c22fdbe33c3b0">&#9670;&nbsp;</a></span>SetServices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::SetServices </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_service.html">CService</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a>&#160;</td>
          <td class="paramname"><em>nServices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l01109">1109</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a43f98ac4f64f4539a22c22fdbe33c3b0_cgraph.svg" width="932" height="240"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a5592c1a24f5238f65d1cc451e609ad56" name="a5592c1a24f5238f65d1cc451e609ad56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5592c1a24f5238f65d1cc451e609ad56">&#9670;&nbsp;</a></span>SetServices_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::SetServices_ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_service.html">CService</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a>&#160;</td>
          <td class="paramname"><em>nServices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00827">827</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a5592c1a24f5238f65d1cc451e609ad56_cgraph.svg" width="574" height="63"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_a5592c1a24f5238f65d1cc451e609ad56_icgraph.svg" width="452" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3ade7a30f9078cedf1980305d7675b7b" name="a3ade7a30f9078cedf1980305d7675b7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ade7a30f9078cedf1980305d7675b7b">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t AddrManImpl::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l01035">1035</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>

</div>
</div>
<a id="ac59128f186fa8602887781307f5b73cf" name="ac59128f186fa8602887781307f5b73cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac59128f186fa8602887781307f5b73cf">&#9670;&nbsp;</a></span>SwapRandom()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::SwapRandom </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nRandomPos1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nRandomPos2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Swap two elements in vRandom. </p>

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00427">427</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_ac59128f186fa8602887781307f5b73cf_cgraph.svg" width="388" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_ac59128f186fa8602887781307f5b73cf_icgraph.svg" width="1686" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad93fed23ea2712ea0b12ebf9241ab29a" name="ad93fed23ea2712ea0b12ebf9241ab29a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad93fed23ea2712ea0b12ebf9241ab29a">&#9670;&nbsp;</a></span>Unserialize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Stream &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void AddrManImpl::Unserialize </td>
          <td>(</td>
          <td class="paramtype">Stream &amp;&#160;</td>
          <td class="paramname"><em>s_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman_8cpp_source.html#l00227">227</a> of file <a class="el" href="addrman_8cpp_source.html">addrman.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_addr_man_impl_ad93fed23ea2712ea0b12ebf9241ab29a_cgraph.svg" width="2302" height="1242"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a6c4ab126dd4e8c67ff43bf333d6b1228" name="a6c4ab126dd4e8c67ff43bf333d6b1228"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c4ab126dd4e8c67ff43bf333d6b1228">&#9670;&nbsp;</a></span>AddrManDeterministic</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_addr_man_deterministic.html">AddrManDeterministic</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman__impl_8h_source.html#l00142">142</a> of file <a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>.</p>

</div>
</div>
<a id="ab012825e08cd95f15433e244cef35c84" name="ab012825e08cd95f15433e244cef35c84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab012825e08cd95f15433e244cef35c84">&#9670;&nbsp;</a></span>AddrManTest</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_addr_man_test.html">AddrManTest</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman__impl_8h_source.html#l00141">141</a> of file <a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a908994d45d2b8be1a18c0d29b7c0ea82" name="a908994d45d2b8be1a18c0d29b7c0ea82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a908994d45d2b8be1a18c0d29b7c0ea82">&#9670;&nbsp;</a></span>cs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sync_8h.html#a9c9c99acb9d093cae8cc54aeef3248f9">Mutex</a> AddrManImpl::cs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A mutex to protect the inner data structures. </p>

<p class="definition">Definition at line <a class="el" href="addrman__impl_8h_source.html#l00146">146</a> of file <a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>.</p>

</div>
</div>
<a id="a1b89896fb2e3ecdf120c5c720de8452b" name="a1b89896fb2e3ecdf120c5c720de8452b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b89896fb2e3ecdf120c5c720de8452b">&#9670;&nbsp;</a></span>FILE_FORMAT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="class_addr_man_impl.html#a26cdb5f8744aa0263cd046e83a7fa999">Format</a> AddrManImpl::FILE_FORMAT = Format::V4_MULTIPORT</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The maximum format this software knows it can unserialize. </p>
<p >Also, we always serialize in this format. The format (first byte in the serialized stream) can be higher than this and still this software may be able to unserialize the file - if the second byte (see <code>lowest_compatible</code> in <code><a class="el" href="class_addr_man_impl.html#ad93fed23ea2712ea0b12ebf9241ab29a">Unserialize()</a></code>) is less or equal to this. </p>

<p class="definition">Definition at line <a class="el" href="addrman__impl_8h_source.html#l00168">168</a> of file <a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>.</p>

</div>
</div>
<a id="abea6fdb40062773a7a66739636435606" name="abea6fdb40062773a7a66739636435606"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abea6fdb40062773a7a66739636435606">&#9670;&nbsp;</a></span>INCOMPATIBILITY_BASE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint8_t AddrManImpl::INCOMPATIBILITY_BASE = 32</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The initial value of a field that is incremented every time an incompatible format change is made (such that old software versions would not be able to parse and understand the new file format). </p>
<p >This is 32 because we overtook the "key size" field which was 32 historically. </p><dl class="section note"><dt>Note</dt><dd>Don't increment this. Increment <code>lowest_compatible</code> in <code><a class="el" href="class_addr_man_impl.html#a293aa258c5d9725d8efbd87d90e705f0">Serialize()</a></code> instead. </dd></dl>

<p class="definition">Definition at line <a class="el" href="addrman__impl_8h_source.html#l00175">175</a> of file <a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>.</p>

</div>
</div>
<a id="aeb6761c9397d0bf9bf1d48e48b995891" name="aeb6761c9397d0bf9bf1d48e48b995891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb6761c9397d0bf9bf1d48e48b995891">&#9670;&nbsp;</a></span>m_asmap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;bool&gt; AddrManImpl::m_asmap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="addrman__impl_8h_source.html#l00226">226</a> of file <a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>.</p>

</div>
</div>
<a id="a6afda0ad55356011f548768e7b2bf270" name="a6afda0ad55356011f548768e7b2bf270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6afda0ad55356011f548768e7b2bf270">&#9670;&nbsp;</a></span>m_consistency_check_ratio</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int32_t AddrManImpl::m_consistency_check_ratio</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform consistency checks every m_consistency_check_ratio operations (if non-zero). </p>

<p class="definition">Definition at line <a class="el" href="addrman__impl_8h_source.html#l00210">210</a> of file <a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>.</p>

</div>
</div>
<a id="ae2768d4a0feb4ee54647e42f90afc562" name="ae2768d4a0feb4ee54647e42f90afc562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2768d4a0feb4ee54647e42f90afc562">&#9670;&nbsp;</a></span>m_tried_collisions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;int&gt; AddrManImpl::m_tried_collisions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds addrs inserted into tried table that collide with existing entries. Test-before-evict discipline used to resolve these collisions. </p>

<p class="definition">Definition at line <a class="el" href="addrman__impl_8h_source.html#l00207">207</a> of file <a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>.</p>

</div>
</div>
<a id="aebf7ea6d326bda67d9b811cdb87013e8" name="aebf7ea6d326bda67d9b811cdb87013e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebf7ea6d326bda67d9b811cdb87013e8">&#9670;&nbsp;</a></span>nKey</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classuint256.html">uint256</a> AddrManImpl::nKey</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>secret key to randomize bucket select with </p>

<p class="definition">Definition at line <a class="el" href="addrman__impl_8h_source.html#l00152">152</a> of file <a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="addrman__impl_8h_source.html">addrman_impl.h</a></li>
<li>src/<a class="el" href="addrman_8cpp_source.html">addrman.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Nov 8 2021 14:20:10 for Bitcoin Core by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
