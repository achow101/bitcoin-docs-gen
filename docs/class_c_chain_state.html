<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bitcoin Core: CChainState Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bitcoin_logo_doxygen.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bitcoin Core<span id="projectnumber">&#160;22.99.0</span>
   </div>
   <div id="projectbrief">P2P Digital Currency</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_c_chain_state-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">CChainState Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_c_chain_state.html" title="CChainState stores and provides an API to update our local knowledge of the current best chain.">CChainState</a> stores and provides an API to update our local knowledge of the current best chain.  
 <a href="class_c_chain_state.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="validation_8h_source.html">validation.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CChainState:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state__inherit__graph.svg" width="130" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for CChainState:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state__coll__graph.svg" width="2043" height="592"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a528ad9c471593abd441f72736289ca8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a528ad9c471593abd441f72736289ca8d">CChainState</a> (<a class="el" href="class_c_tx_mem_pool.html">CTxMemPool</a> *mempool, <a class="el" href="class_block_manager.html">BlockManager</a> &amp;blockman, <a class="el" href="class_chainstate_manager.html">ChainstateManager</a> &amp;chainman, std::optional&lt; <a class="el" href="classuint256.html">uint256</a> &gt; from_snapshot_blockhash=std::nullopt)</td></tr>
<tr class="separator:a528ad9c471593abd441f72736289ca8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86dfee7edcbe3da7173126879552d477"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a86dfee7edcbe3da7173126879552d477">InitCoinsDB</a> (size_t cache_size_bytes, bool in_memory, bool should_wipe, std::string leveldb_name=&quot;chainstate&quot;)</td></tr>
<tr class="memdesc:a86dfee7edcbe3da7173126879552d477"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the <a class="el" href="class_coins_views.html" title="A convenience class for constructing the CCoinsView* hierarchy used to facilitate access to the UTXO ...">CoinsViews</a> UTXO set database management data structures.  <a href="class_c_chain_state.html#a86dfee7edcbe3da7173126879552d477">More...</a><br /></td></tr>
<tr class="separator:a86dfee7edcbe3da7173126879552d477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad80178c2e3c85d0160ecc0d6dce2c7c5"><td class="memItemLeft" align="right" valign="top">void InitCoinsCache(size_t cache_size_bytes) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#ad80178c2e3c85d0160ecc0d6dce2c7c5">CanFlushToDisk</a> () const <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memdesc:ad80178c2e3c85d0160ecc0d6dce2c7c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the in-memory coins cache (to be done after the health of the on-disk database is verified).  <a href="class_c_chain_state.html#ad80178c2e3c85d0160ecc0d6dce2c7c5">More...</a><br /></td></tr>
<tr class="separator:ad80178c2e3c85d0160ecc0d6dce2c7c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a608cb9706dba08a3621a7bcd9212f2ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a608cb9706dba08a3621a7bcd9212f2ce">CoinsTip</a> () <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="separator:a608cb9706dba08a3621a7bcd9212f2ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a021eac7e44f341b7d9b4fe6a208bce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_coins_view_d_b.html">CCoinsViewDB</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a2a021eac7e44f341b7d9b4fe6a208bce">CoinsDB</a> () <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="separator:a2a021eac7e44f341b7d9b4fe6a208bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a9100ceeae69651fa3a7ca249f1fa0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_coins_view_error_catcher.html">CCoinsViewErrorCatcher</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a7a9100ceeae69651fa3a7ca249f1fa0a">CoinsErrorCatcher</a> () <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="separator:a7a9100ceeae69651fa3a7ca249f1fa0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae750e9ba6687d31628f1285511f0183"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#aae750e9ba6687d31628f1285511f0183">ResetCoinsViews</a> ()</td></tr>
<tr class="memdesc:aae750e9ba6687d31628f1285511f0183"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructs all objects related to accessing the UTXO set.  <a href="class_c_chain_state.html#aae750e9ba6687d31628f1285511f0183">More...</a><br /></td></tr>
<tr class="separator:aae750e9ba6687d31628f1285511f0183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7538c8dd8062b475f6e539ad3633d675"><td class="memItemLeft" align="right" valign="top">bool ResizeCoinsCaches(size_t coinstip_size, size_t coinsdb_size) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a7538c8dd8062b475f6e539ad3633d675">LoadExternalBlockFile</a> (FILE *fileIn, <a class="el" href="struct_flat_file_pos.html">FlatFilePos</a> *dbp=nullptr)</td></tr>
<tr class="memdesc:a7538c8dd8062b475f6e539ad3633d675"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resize the <a class="el" href="class_coins_views.html" title="A convenience class for constructing the CCoinsView* hierarchy used to facilitate access to the UTXO ...">CoinsViews</a> caches dynamically and flush state to disk.  <a href="class_c_chain_state.html#a7538c8dd8062b475f6e539ad3633d675">More...</a><br /></td></tr>
<tr class="separator:a7538c8dd8062b475f6e539ad3633d675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82dd9fb80f77ffc64401163c04bd80ee"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a82dd9fb80f77ffc64401163c04bd80ee">FlushStateToDisk</a> (<a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;state, <a class="el" href="validation_8h.html#ae2877520fcc46d869b4f5e9768227e25">FlushStateMode</a> mode, int nManualPruneHeight=0)</td></tr>
<tr class="memdesc:a82dd9fb80f77ffc64401163c04bd80ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the on-disk chain state.  <a href="class_c_chain_state.html#a82dd9fb80f77ffc64401163c04bd80ee">More...</a><br /></td></tr>
<tr class="separator:a82dd9fb80f77ffc64401163c04bd80ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae779736948817631aa6fee5d5d1377a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#ae779736948817631aa6fee5d5d1377a8">ForceFlushStateToDisk</a> ()</td></tr>
<tr class="memdesc:ae779736948817631aa6fee5d5d1377a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unconditionally flush all changes to disk.  <a href="class_c_chain_state.html#ae779736948817631aa6fee5d5d1377a8">More...</a><br /></td></tr>
<tr class="separator:ae779736948817631aa6fee5d5d1377a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62c8d4028eff1c760111280f977ad0c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a62c8d4028eff1c760111280f977ad0c7">PruneAndFlush</a> ()</td></tr>
<tr class="memdesc:a62c8d4028eff1c760111280f977ad0c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prune blockfiles from the disk if necessary and then flush chainstate changes if we pruned.  <a href="class_c_chain_state.html#a62c8d4028eff1c760111280f977ad0c7">More...</a><br /></td></tr>
<tr class="separator:a62c8d4028eff1c760111280f977ad0c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d10196aeadf2e5c76b94123635b7c7b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a1d10196aeadf2e5c76b94123635b7c7b">ActivateBestChain</a> (<a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;state, std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; pblock=nullptr) <a class="el" href="threadsafety_8h.html#a6bb97382864d0bd2cd4dd5191bb03f6c">LOCKS_EXCLUDED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memdesc:a1d10196aeadf2e5c76b94123635b7c7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the best known block, and make it the tip of the block chain.  <a href="class_c_chain_state.html#a1d10196aeadf2e5c76b94123635b7c7b">More...</a><br /></td></tr>
<tr class="separator:a1d10196aeadf2e5c76b94123635b7c7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f24bf7c56280b1beba9648b89d72b8c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a0f24bf7c56280b1beba9648b89d72b8c">AcceptBlock</a> (const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;pblock, <a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;state, <a class="el" href="class_c_block_index.html">CBlockIndex</a> **ppindex, bool fRequested, const <a class="el" href="struct_flat_file_pos.html">FlatFilePos</a> *dbp, bool *fNewBlock) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memdesc:a0f24bf7c56280b1beba9648b89d72b8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store block on disk.  <a href="class_c_chain_state.html#a0f24bf7c56280b1beba9648b89d72b8c">More...</a><br /></td></tr>
<tr class="separator:a0f24bf7c56280b1beba9648b89d72b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84c2802e12d40109c2189bfa8a5e0e8f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="validation_8h.html#aeaef80b01ee5387f474a63ed23c9cc50">DisconnectResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a84c2802e12d40109c2189bfa8a5e0e8f">DisconnectBlock</a> (const <a class="el" href="class_c_block.html">CBlock</a> &amp;block, const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex, <a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &amp;view)</td></tr>
<tr class="memdesc:a84c2802e12d40109c2189bfa8a5e0e8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Undo the effects of this block (with given index) on the UTXO set represented by coins.  <a href="class_c_chain_state.html#a84c2802e12d40109c2189bfa8a5e0e8f">More...</a><br /></td></tr>
<tr class="separator:a84c2802e12d40109c2189bfa8a5e0e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8961db4f2a9e23128d0d34f4206cc62b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a8961db4f2a9e23128d0d34f4206cc62b">ConnectBlock</a> (const <a class="el" href="class_c_block.html">CBlock</a> &amp;block, <a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;state, <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex, <a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &amp;view, bool fJustCheck=false) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memdesc:a8961db4f2a9e23128d0d34f4206cc62b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the effects of this block (with given index) on the UTXO set represented by coins.  <a href="class_c_chain_state.html#a8961db4f2a9e23128d0d34f4206cc62b">More...</a><br /></td></tr>
<tr class="separator:a8961db4f2a9e23128d0d34f4206cc62b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6c5b7e28f8a714fd2403971005a2978"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#ad6c5b7e28f8a714fd2403971005a2978">DisconnectTip</a> (<a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;state, <a class="el" href="struct_disconnected_block_transactions.html">DisconnectedBlockTransactions</a> *disconnectpool) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a></td></tr>
<tr class="memdesc:ad6c5b7e28f8a714fd2403971005a2978"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect m_chain's tip.  <a href="class_c_chain_state.html#ad6c5b7e28f8a714fd2403971005a2978">More...</a><br /></td></tr>
<tr class="separator:ad6c5b7e28f8a714fd2403971005a2978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2d0841e92d6530763f443542a7aacc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#ada2d0841e92d6530763f443542a7aacc">PreciousBlock</a> (<a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;state, <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex) <a class="el" href="threadsafety_8h.html#a6bb97382864d0bd2cd4dd5191bb03f6c">LOCKS_EXCLUDED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memdesc:ada2d0841e92d6530763f443542a7aacc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a block as precious and reorganize.  <a href="class_c_chain_state.html#ada2d0841e92d6530763f443542a7aacc">More...</a><br /></td></tr>
<tr class="separator:ada2d0841e92d6530763f443542a7aacc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8ab9222f3ad9a6aab8dba5ffa5eb530"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#ae8ab9222f3ad9a6aab8dba5ffa5eb530">InvalidateBlock</a> (<a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;state, <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex) <a class="el" href="threadsafety_8h.html#a6bb97382864d0bd2cd4dd5191bb03f6c">LOCKS_EXCLUDED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memdesc:ae8ab9222f3ad9a6aab8dba5ffa5eb530"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a block as invalid.  <a href="class_c_chain_state.html#ae8ab9222f3ad9a6aab8dba5ffa5eb530">More...</a><br /></td></tr>
<tr class="separator:ae8ab9222f3ad9a6aab8dba5ffa5eb530"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e35ac867678ce71b05ff271c44bde29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a6e35ac867678ce71b05ff271c44bde29">ResetBlockFailureFlags</a> (<a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memdesc:a6e35ac867678ce71b05ff271c44bde29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove invalidity status from a block and its descendants.  <a href="class_c_chain_state.html#a6e35ac867678ce71b05ff271c44bde29">More...</a><br /></td></tr>
<tr class="separator:a6e35ac867678ce71b05ff271c44bde29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1842fa0b302c076111341fd007d4f44d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a1842fa0b302c076111341fd007d4f44d">ReplayBlocks</a> ()</td></tr>
<tr class="memdesc:a1842fa0b302c076111341fd007d4f44d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replay blocks that aren't fully applied to the database.  <a href="class_c_chain_state.html#a1842fa0b302c076111341fd007d4f44d">More...</a><br /></td></tr>
<tr class="separator:a1842fa0b302c076111341fd007d4f44d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a955e4c0faa626b91bbffac7eef6b1c87"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a955e4c0faa626b91bbffac7eef6b1c87">NeedsRedownload</a> () const <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memdesc:a955e4c0faa626b91bbffac7eef6b1c87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the chain state needs to be redownloaded due to lack of witness data.  <a href="class_c_chain_state.html#a955e4c0faa626b91bbffac7eef6b1c87">More...</a><br /></td></tr>
<tr class="separator:a955e4c0faa626b91bbffac7eef6b1c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addf4769b485a084b9678538256081004"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#addf4769b485a084b9678538256081004">LoadGenesisBlock</a> ()</td></tr>
<tr class="memdesc:addf4769b485a084b9678538256081004"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensures we have a genesis block in the block tree, possibly writing one to disk.  <a href="class_c_chain_state.html#addf4769b485a084b9678538256081004">More...</a><br /></td></tr>
<tr class="separator:addf4769b485a084b9678538256081004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c5ba911dca1f0d59781b9e63a607cd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a6c5ba911dca1f0d59781b9e63a607cd6">PruneBlockIndexCandidates</a> ()</td></tr>
<tr class="memdesc:a6c5ba911dca1f0d59781b9e63a607cd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete all entries in setBlockIndexCandidates that are worse than the current tip.  <a href="class_c_chain_state.html#a6c5ba911dca1f0d59781b9e63a607cd6">More...</a><br /></td></tr>
<tr class="separator:a6c5ba911dca1f0d59781b9e63a607cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa0ff1ebd8453000020efa9055d7896e"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="validation_8h.html#a82b44a0ae1fe4dbbfe1342c1a74c38f1">UnloadBlockIndex</a>() <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#aaa0ff1ebd8453000020efa9055d7896e">IsInitialBlockDownload</a> () const</td></tr>
<tr class="memdesc:aaa0ff1ebd8453000020efa9055d7896e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether we are doing an initial block download (synchronizing from disk or network)  <a href="class_c_chain_state.html#aaa0ff1ebd8453000020efa9055d7896e">More...</a><br /></td></tr>
<tr class="separator:aaa0ff1ebd8453000020efa9055d7896e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02b63cba0f2e668d14c99be820965464"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a02b63cba0f2e668d14c99be820965464">CheckBlockIndex</a> ()</td></tr>
<tr class="memdesc:a02b63cba0f2e668d14c99be820965464"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make various assertions about the state of the block index.  <a href="class_c_chain_state.html#a02b63cba0f2e668d14c99be820965464">More...</a><br /></td></tr>
<tr class="separator:a02b63cba0f2e668d14c99be820965464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf467e4f3dca3cffc858c40e0b663f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#aedf467e4f3dca3cffc858c40e0b663f6">LoadMempool</a> (const <a class="el" href="class_args_manager.html">ArgsManager</a> &amp;args)</td></tr>
<tr class="memdesc:aedf467e4f3dca3cffc858c40e0b663f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the persisted mempool from disk.  <a href="class_c_chain_state.html#aedf467e4f3dca3cffc858c40e0b663f6">More...</a><br /></td></tr>
<tr class="separator:aedf467e4f3dca3cffc858c40e0b663f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac868df29188cdd665cb139a829382147"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#ac868df29188cdd665cb139a829382147">LoadChainTip</a> () <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memdesc:ac868df29188cdd665cb139a829382147"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the chain tip based on database information, i.e.  <a href="class_c_chain_state.html#ac868df29188cdd665cb139a829382147">More...</a><br /></td></tr>
<tr class="separator:ac868df29188cdd665cb139a829382147"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:acda2e6cf72ee2986e8cbed31045bac73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_block_manager.html">BlockManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#acda2e6cf72ee2986e8cbed31045bac73">m_blockman</a></td></tr>
<tr class="memdesc:acda2e6cf72ee2986e8cbed31045bac73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference to a <a class="el" href="class_block_manager.html" title="Maintains a tree of blocks (stored in m_block_index) which is consulted to determine where the most-w...">BlockManager</a> instance which itself is shared across all <a class="el" href="class_c_chain_state.html" title="CChainState stores and provides an API to update our local knowledge of the current best chain.">CChainState</a> instances.  <a href="class_c_chain_state.html#acda2e6cf72ee2986e8cbed31045bac73">More...</a><br /></td></tr>
<tr class="separator:acda2e6cf72ee2986e8cbed31045bac73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2adea87033ab8b772634e327a08a04be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_chainstate_manager.html">ChainstateManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a2adea87033ab8b772634e327a08a04be">m_chainman</a></td></tr>
<tr class="memdesc:a2adea87033ab8b772634e327a08a04be"><td class="mdescLeft">&#160;</td><td class="mdescRight">The chainstate manager that owns this chainstate.  <a href="class_c_chain_state.html#a2adea87033ab8b772634e327a08a04be">More...</a><br /></td></tr>
<tr class="separator:a2adea87033ab8b772634e327a08a04be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad460a678a49106417e68b5c416afd371"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_chain.html">CChain</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#ad460a678a49106417e68b5c416afd371">m_chain</a></td></tr>
<tr class="memdesc:ad460a678a49106417e68b5c416afd371"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current chain of blockheaders we consult and build on.  <a href="class_c_chain_state.html#ad460a678a49106417e68b5c416afd371">More...</a><br /></td></tr>
<tr class="separator:ad460a678a49106417e68b5c416afd371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7b07668590cd95763977f33777bb74"><td class="memItemLeft" align="right" valign="top">const std::optional&lt; <a class="el" href="classuint256.html">uint256</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a6b7b07668590cd95763977f33777bb74">m_from_snapshot_blockhash</a></td></tr>
<tr class="memdesc:a6b7b07668590cd95763977f33777bb74"><td class="mdescLeft">&#160;</td><td class="mdescRight">The blockhash which is the base of the snapshot this chainstate was created from.  <a href="class_c_chain_state.html#a6b7b07668590cd95763977f33777bb74">More...</a><br /></td></tr>
<tr class="separator:a6b7b07668590cd95763977f33777bb74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528c14be4a2a7c6837a2d099b2ad7ef7"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="class_c_block_index.html">CBlockIndex</a> *, <a class="el" href="struct_c_block_index_work_comparator.html">CBlockIndexWorkComparator</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a528c14be4a2a7c6837a2d099b2ad7ef7">setBlockIndexCandidates</a></td></tr>
<tr class="memdesc:a528c14be4a2a7c6837a2d099b2ad7ef7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The set of all <a class="el" href="class_c_block_index.html" title="The block chain is a tree shaped structure starting with the genesis block at the root,...">CBlockIndex</a> entries with either BLOCK_VALID_TRANSACTIONS (for itself and all ancestors) <em>or</em> BLOCK_ASSUMED_VALID (if using background chainstates) and as good as our current tip or better.  <a href="class_c_chain_state.html#a528c14be4a2a7c6837a2d099b2ad7ef7">More...</a><br /></td></tr>
<tr class="separator:a528c14be4a2a7c6837a2d099b2ad7ef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77932558de22dd680e5ee0ec384ef475"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a77932558de22dd680e5ee0ec384ef475">m_coinsdb_cache_size_bytes</a> {0}</td></tr>
<tr class="memdesc:a77932558de22dd680e5ee0ec384ef475"><td class="mdescLeft">&#160;</td><td class="mdescRight">The cache size of the on-disk coins view.  <a href="class_c_chain_state.html#a77932558de22dd680e5ee0ec384ef475">More...</a><br /></td></tr>
<tr class="separator:a77932558de22dd680e5ee0ec384ef475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae31ab60b66cb85090849d6994e7590c4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#ae31ab60b66cb85090849d6994e7590c4">m_coinstip_cache_size_bytes</a> {0}</td></tr>
<tr class="memdesc:ae31ab60b66cb85090849d6994e7590c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The cache size of the in-memory coins view.  <a href="class_c_chain_state.html#ae31ab60b66cb85090849d6994e7590c4">More...</a><br /></td></tr>
<tr class="separator:ae31ab60b66cb85090849d6994e7590c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e3672471055ea7006d3d9dd336964f5"><td class="memItemLeft" align="right" valign="top">bool <a class="el" href="class_c_chain_state.html#a47c9e9b7199852d47785e72343224a00">m_mempool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a5e3672471055ea7006d3d9dd336964f5">cs</a></td></tr>
<tr class="separator:a5e3672471055ea7006d3d9dd336964f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a640b8c80d3904a226c844be5e3670db0"><td class="memItemLeft" align="right" valign="top">int32_t nBlockSequenceId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a640b8c80d3904a226c844be5e3670db0">GUARDED_BY</a> (::<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memdesc:a640b8c80d3904a226c844be5e3670db0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Every received block is assigned a unique and increasing identifier, so we know which one to give priority in case of a fork.  <a href="class_c_chain_state.html#a640b8c80d3904a226c844be5e3670db0">More...</a><br /></td></tr>
<tr class="separator:a640b8c80d3904a226c844be5e3670db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aaf4846ebb330ea7ad36adb058ba2b859"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#aaf4846ebb330ea7ad36adb058ba2b859">nBlockReverseSequenceId</a> = -1</td></tr>
<tr class="memdesc:aaf4846ebb330ea7ad36adb058ba2b859"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decreasing counter (used by subsequent preciousblock calls).  <a href="class_c_chain_state.html#aaf4846ebb330ea7ad36adb058ba2b859">More...</a><br /></td></tr>
<tr class="separator:aaf4846ebb330ea7ad36adb058ba2b859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11b2d82dd158e9e50136417c0e672947"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classarith__uint256.html">arith_uint256</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a11b2d82dd158e9e50136417c0e672947">nLastPreciousChainwork</a> = 0</td></tr>
<tr class="memdesc:a11b2d82dd158e9e50136417c0e672947"><td class="mdescLeft">&#160;</td><td class="mdescRight">chainwork for the last block that preciousblock has been applied to.  <a href="class_c_chain_state.html#a11b2d82dd158e9e50136417c0e672947">More...</a><br /></td></tr>
<tr class="separator:a11b2d82dd158e9e50136417c0e672947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bdef2bf8c91dce46b8ec73be7c6de9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sync_8h.html#a5d71768bc9626b7482055d56d4e2c533">RecursiveMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a4bdef2bf8c91dce46b8ec73be7c6de9f">m_cs_chainstate</a></td></tr>
<tr class="memdesc:a4bdef2bf8c91dce46b8ec73be7c6de9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">the ChainState CriticalSection A lock that must be held when modifying this ChainState - held in <a class="el" href="class_c_chain_state.html#a1d10196aeadf2e5c76b94123635b7c7b" title="Find the best known block, and make it the tip of the block chain.">ActivateBestChain()</a>  <a href="class_c_chain_state.html#a4bdef2bf8c91dce46b8ec73be7c6de9f">More...</a><br /></td></tr>
<tr class="separator:a4bdef2bf8c91dce46b8ec73be7c6de9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e3b18d6c0a7e3f1a5fbf752c3a8c09a"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a0e3b18d6c0a7e3f1a5fbf752c3a8c09a">m_cached_finished_ibd</a> {false}</td></tr>
<tr class="memdesc:a0e3b18d6c0a7e3f1a5fbf752c3a8c09a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this chainstate is undergoing initial block download.  <a href="class_c_chain_state.html#a0e3b18d6c0a7e3f1a5fbf752c3a8c09a">More...</a><br /></td></tr>
<tr class="separator:a0e3b18d6c0a7e3f1a5fbf752c3a8c09a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47c9e9b7199852d47785e72343224a00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_tx_mem_pool.html">CTxMemPool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a47c9e9b7199852d47785e72343224a00">m_mempool</a></td></tr>
<tr class="memdesc:a47c9e9b7199852d47785e72343224a00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optional mempool that is kept in sync with the chain.  <a href="class_c_chain_state.html#a47c9e9b7199852d47785e72343224a00">More...</a><br /></td></tr>
<tr class="separator:a47c9e9b7199852d47785e72343224a00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a120dedadd6db4a9bc2106b4fa75f0527"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a120dedadd6db4a9bc2106b4fa75f0527">m_params</a></td></tr>
<tr class="separator:a120dedadd6db4a9bc2106b4fa75f0527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bf2ddd20f7d91aba30778e673dba140"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="class_coins_views.html">CoinsViews</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a9bf2ddd20f7d91aba30778e673dba140">m_coins_views</a></td></tr>
<tr class="memdesc:a9bf2ddd20f7d91aba30778e673dba140"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manages the UTXO set, which is a reflection of the contents of <code>m_chain</code>.  <a href="class_c_chain_state.html#a9bf2ddd20f7d91aba30778e673dba140">More...</a><br /></td></tr>
<tr class="separator:a9bf2ddd20f7d91aba30778e673dba140"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aedc49ebe3f9474e9764a630eb8477f6e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#aedc49ebe3f9474e9764a630eb8477f6e">ActivateBestChainStep</a> (<a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;state, <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindexMostWork, const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;pblock, bool &amp;fInvalidFound, <a class="el" href="class_connect_trace.html">ConnectTrace</a> &amp;connectTrace) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a></td></tr>
<tr class="memdesc:aedc49ebe3f9474e9764a630eb8477f6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dictates whether we need to flush the cache to disk or not.  <a href="class_c_chain_state.html#aedc49ebe3f9474e9764a630eb8477f6e">More...</a><br /></td></tr>
<tr class="separator:aedc49ebe3f9474e9764a630eb8477f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ff41dbb22a3f8ac8b3e2cceff4294b9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a3ff41dbb22a3f8ac8b3e2cceff4294b9">ConnectTip</a> (<a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;state, <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindexNew, const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;pblock, <a class="el" href="class_connect_trace.html">ConnectTrace</a> &amp;connectTrace, <a class="el" href="struct_disconnected_block_transactions.html">DisconnectedBlockTransactions</a> &amp;disconnectpool) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a></td></tr>
<tr class="memdesc:a3ff41dbb22a3f8ac8b3e2cceff4294b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect a new block to m_chain.  <a href="class_c_chain_state.html#a3ff41dbb22a3f8ac8b3e2cceff4294b9">More...</a><br /></td></tr>
<tr class="separator:a3ff41dbb22a3f8ac8b3e2cceff4294b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a430508179f4b0b124fc74a3f5a0c6658"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a430508179f4b0b124fc74a3f5a0c6658">InvalidBlockFound</a> (<a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex, const <a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;state) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="separator:a430508179f4b0b124fc74a3f5a0c6658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5b50c7b3a7604d312946431e7c91bb5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#af5b50c7b3a7604d312946431e7c91bb5">FindMostWorkChain</a> () <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memdesc:af5b50c7b3a7604d312946431e7c91bb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the tip of the chain with the most work in it, that isn't known to be invalid (it's however far from certain to be valid).  <a href="class_c_chain_state.html#af5b50c7b3a7604d312946431e7c91bb5">More...</a><br /></td></tr>
<tr class="separator:af5b50c7b3a7604d312946431e7c91bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada304e4881f79489eeb1ef6f82244878"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#ada304e4881f79489eeb1ef6f82244878">ReceivedBlockTransactions</a> (const <a class="el" href="class_c_block.html">CBlock</a> &amp;block, <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindexNew, const <a class="el" href="struct_flat_file_pos.html">FlatFilePos</a> &amp;pos) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memdesc:ada304e4881f79489eeb1ef6f82244878"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a block as having its data received and checked (up to BLOCK_VALID_TRANSACTIONS).  <a href="class_c_chain_state.html#ada304e4881f79489eeb1ef6f82244878">More...</a><br /></td></tr>
<tr class="separator:ada304e4881f79489eeb1ef6f82244878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a727ca3e9dae24903c8f5ea378e0eab54"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a727ca3e9dae24903c8f5ea378e0eab54">RollforwardBlock</a> (const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex, <a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &amp;inputs) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memdesc:a727ca3e9dae24903c8f5ea378e0eab54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the effects of a block on the utxo cache, ignoring that it may already have been applied.  <a href="class_c_chain_state.html#a727ca3e9dae24903c8f5ea378e0eab54">More...</a><br /></td></tr>
<tr class="separator:a727ca3e9dae24903c8f5ea378e0eab54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94864e7355188aa1e2a8324a2b6978a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a94864e7355188aa1e2a8324a2b6978a3">CheckForkWarningConditions</a> () <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="separator:a94864e7355188aa1e2a8324a2b6978a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae811ee608ad56de92b827881381ee76b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#ae811ee608ad56de92b827881381ee76b">InvalidChainFound</a> (<a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindexNew) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="separator:ae811ee608ad56de92b827881381ee76b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae733aafb786cb0811ddb26bf963b93"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sync_8h.html#a5d71768bc9626b7482055d56d4e2c533">RecursiveMutex</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a7ae733aafb786cb0811ddb26bf963b93">MempoolMutex</a> () const <a class="el" href="threadsafety_8h.html#ab355c21df501f97a4a5e63a868373c4f">LOCK_RETURNED</a>(<a class="el" href="class_c_chain_state.html#a47c9e9b7199852d47785e72343224a00">m_mempool</a> -&gt; <a class="el" href="class_c_chain_state.html#a5e3672471055ea7006d3d9dd336964f5">cs</a>)</td></tr>
<tr class="memdesc:a7ae733aafb786cb0811ddb26bf963b93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indirection necessary to make lock annotations work with an optional mempool.  <a href="class_c_chain_state.html#a7ae733aafb786cb0811ddb26bf963b93">More...</a><br /></td></tr>
<tr class="separator:a7ae733aafb786cb0811ddb26bf963b93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46bf757490d496bfea19a125ab01e3db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a46bf757490d496bfea19a125ab01e3db">MaybeUpdateMempoolForReorg</a> (<a class="el" href="struct_disconnected_block_transactions.html">DisconnectedBlockTransactions</a> &amp;disconnectpool, bool fAddToMempool) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a></td></tr>
<tr class="memdesc:a46bf757490d496bfea19a125ab01e3db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make mempool consistent after a reorg, by re-adding or recursively erasing disconnected block transactions from the mempool, and also removing any other transactions from the mempool that are no longer valid given the new tip/height.  <a href="class_c_chain_state.html#a46bf757490d496bfea19a125ab01e3db">More...</a><br /></td></tr>
<tr class="separator:a46bf757490d496bfea19a125ab01e3db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0a41cb85b2250662e766ccb2a550e0a8"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="class_c_chain_state.html#a47c9e9b7199852d47785e72343224a00">m_mempool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a0a41cb85b2250662e766ccb2a550e0a8">cs</a></td></tr>
<tr class="separator:a0a41cb85b2250662e766ccb2a550e0a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf60bbab0908017735c1ee8a30f9d049"><td class="memItemLeft" align="right" valign="top">void UpdateTip(const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindexNew) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(frien&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#acf60bbab0908017735c1ee8a30f9d049">ChainstateManager</a> )</td></tr>
<tr class="memdesc:acf60bbab0908017735c1ee8a30f9d049"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check warning conditions and do some notifications on new chain tip set.  <a href="class_c_chain_state.html#acf60bbab0908017735c1ee8a30f9d049">More...</a><br /></td></tr>
<tr class="separator:acf60bbab0908017735c1ee8a30f9d049"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p ><a class="el" href="class_c_chain_state.html" title="CChainState stores and provides an API to update our local knowledge of the current best chain.">CChainState</a> stores and provides an API to update our local knowledge of the current best chain. </p>
<p >Eventually, the API here is targeted at being exposed externally as a consumable libconsensus library, so any functions added must only call other class member functions, pure functions in other parts of the consensus library, callbacks via the validation interface, or read/write-to-disk functions (eventually this will also be via callbacks).</p>
<p >Anything that is contingent on the current tip of the chain is stored here, whereas block information and metadata independent of the current tip is kept in <code><a class="el" href="class_block_manager.html" title="Maintains a tree of blocks (stored in m_block_index) which is consulted to determine where the most-w...">BlockManager</a></code>. </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00543">543</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a528ad9c471593abd441f72736289ca8d" name="a528ad9c471593abd441f72736289ca8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a528ad9c471593abd441f72736289ca8d">&#9670;&nbsp;</a></span>CChainState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CChainState::CChainState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_tx_mem_pool.html">CTxMemPool</a> *&#160;</td>
          <td class="paramname"><em>mempool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_block_manager.html">BlockManager</a> &amp;&#160;</td>
          <td class="paramname"><em>blockman</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_chainstate_manager.html">ChainstateManager</a> &amp;&#160;</td>
          <td class="paramname"><em>chainman</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; <a class="el" href="classuint256.html">uint256</a> &gt;&#160;</td>
          <td class="paramname"><em>from_snapshot_blockhash</em> = <code>std::nullopt</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l01094">1094</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0f24bf7c56280b1beba9648b89d72b8c" name="a0f24bf7c56280b1beba9648b89d72b8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f24bf7c56280b1beba9648b89d72b8c">&#9670;&nbsp;</a></span>AcceptBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::AcceptBlock </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> **&#160;</td>
          <td class="paramname"><em>ppindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fRequested</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_flat_file_pos.html">FlatFilePos</a> *&#160;</td>
          <td class="paramname"><em>dbp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>fNewBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store block on disk. </p>
<p >If dbp is non-nullptr, the file is known to already reside on disk </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l03305">3305</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a0f24bf7c56280b1beba9648b89d72b8c_cgraph.svg" width="1143" height="2539"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a0f24bf7c56280b1beba9648b89d72b8c_icgraph.svg" width="1990" height="291"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1d10196aeadf2e5c76b94123635b7c7b" name="a1d10196aeadf2e5c76b94123635b7c7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d10196aeadf2e5c76b94123635b7c7b">&#9670;&nbsp;</a></span>ActivateBestChain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::ActivateBestChain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt;&#160;</td>
          <td class="paramname"><em>pblock</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the best known block, and make it the tip of the block chain. </p>
<p >The result is either failure or an activated best chain. pblock is either nullptr or a pointer to a block that is already loaded (to avoid loading it again from disk).</p>
<p >ActivateBestChain is split into steps (see ActivateBestChainStep) so that we avoid holding cs_main for an extended period of time; the length of this call may be quite long during reindexing or a substantial reorg.</p>
<p >May not be called with cs_main held. May not be called in a validationinterface callback.</p>
<dl class="section return"><dt>Returns</dt><dd>true unless a system error occurred </dd></dl>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02528">2528</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a1d10196aeadf2e5c76b94123635b7c7b_cgraph.svg" width="1483" height="2483"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a1d10196aeadf2e5c76b94123635b7c7b_icgraph.svg" width="1655" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aedc49ebe3f9474e9764a630eb8477f6e" name="aedc49ebe3f9474e9764a630eb8477f6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedc49ebe3f9474e9764a630eb8477f6e">&#9670;&nbsp;</a></span>ActivateBestChainStep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::ActivateBestChainStep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindexMostWork</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>fInvalidFound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_connect_trace.html">ConnectTrace</a> &amp;&#160;</td>
          <td class="paramname"><em>connectTrace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dictates whether we need to flush the cache to disk or not. </p>
<p >Try to make some progress towards making pindexMostWork the active block.</p>
<dl class="section return"><dt>Returns</dt><dd>the state of the size of the coins cache.</dd></dl>
<p>pblock is either nullptr or a pointer to a <a class="el" href="class_c_block.html">CBlock</a> corresponding to pindexMostWork.</p>
<dl class="section return"><dt>Returns</dt><dd>true unless a system error occurred </dd></dl>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02406">2406</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_aedc49ebe3f9474e9764a630eb8477f6e_cgraph.svg" width="1800" height="2799"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_aedc49ebe3f9474e9764a630eb8477f6e_icgraph.svg" width="1896" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad80178c2e3c85d0160ecc0d6dce2c7c5" name="ad80178c2e3c85d0160ecc0d6dce2c7c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad80178c2e3c85d0160ecc0d6dce2c7c5">&#9670;&nbsp;</a></span>CanFlushToDisk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InitCoinsCache(size_t cache_size_bytes) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(bool CChainState::CanFlushToDisk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the in-memory coins cache (to be done after the health of the on-disk database is verified). </p>
<dl class="section return"><dt>Returns</dt><dd>whether or not the <a class="el" href="class_coins_views.html" title="A convenience class for constructing the CCoinsView* hierarchy used to facilitate access to the UTXO ...">CoinsViews</a> object has been fully initialized and we can safely flush this object to disk. </dd></dl>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00614">614</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_ad80178c2e3c85d0160ecc0d6dce2c7c5_icgraph.svg" width="2836" height="788"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a02b63cba0f2e668d14c99be820965464" name="a02b63cba0f2e668d14c99be820965464"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02b63cba0f2e668d14c99be820965464">&#9670;&nbsp;</a></span>CheckBlockIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::CheckBlockIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make various assertions about the state of the block index. </p>
<p >By default this only executes fully when using the Regtest chain; see: fCheckBlockIndex. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l04186">4186</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a02b63cba0f2e668d14c99be820965464_cgraph.svg" width="642" height="459"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a02b63cba0f2e668d14c99be820965464_icgraph.svg" width="2418" height="479"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a94864e7355188aa1e2a8324a2b6978a3" name="a94864e7355188aa1e2a8324a2b6978a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94864e7355188aa1e2a8324a2b6978a3">&#9670;&nbsp;</a></span>CheckForkWarningConditions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::CheckForkWarningConditions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l01173">1173</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a94864e7355188aa1e2a8324a2b6978a3_cgraph.svg" width="886" height="272"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a94864e7355188aa1e2a8324a2b6978a3_icgraph.svg" width="2911" height="262"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a2a021eac7e44f341b7d9b4fe6a208bce" name="a2a021eac7e44f341b7d9b4fe6a208bce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a021eac7e44f341b7d9b4fe6a208bce">&#9670;&nbsp;</a></span>CoinsDB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_coins_view_d_b.html">CCoinsViewDB</a> &amp; CChainState::CoinsDB </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>A reference to the on-disk UTXO set database. </dd></dl>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00645">645</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a2a021eac7e44f341b7d9b4fe6a208bce_icgraph.svg" width="1758" height="307"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7a9100ceeae69651fa3a7ca249f1fa0a" name="a7a9100ceeae69651fa3a7ca249f1fa0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a9100ceeae69651fa3a7ca249f1fa0a">&#9670;&nbsp;</a></span>CoinsErrorCatcher()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_coins_view_error_catcher.html">CCoinsViewErrorCatcher</a> &amp; CChainState::CoinsErrorCatcher </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>A reference to a wrapped view of the in-memory UTXO set that handles disk read errors gracefully. </dd></dl>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00652">652</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="a608cb9706dba08a3621a7bcd9212f2ce" name="a608cb9706dba08a3621a7bcd9212f2ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a608cb9706dba08a3621a7bcd9212f2ce">&#9670;&nbsp;</a></span>CoinsTip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &amp; CChainState::CoinsTip </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>A reference to the in-memory cache of the UTXO set. </dd></dl>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00638">638</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a608cb9706dba08a3621a7bcd9212f2ce_cgraph.svg" width="288" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a608cb9706dba08a3621a7bcd9212f2ce_icgraph.svg" width="2118" height="1163"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a8961db4f2a9e23128d0d34f4206cc62b" name="a8961db4f2a9e23128d0d34f4206cc62b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8961db4f2a9e23128d0d34f4206cc62b">&#9670;&nbsp;</a></span>ConnectBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::ConnectBlock </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_block.html">CBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &amp;&#160;</td>
          <td class="paramname"><em>view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fJustCheck</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply the effects of this block (with given index) on the UTXO set represented by coins. </p>
<p >Validity checks that depend on the UTXO set are also done; <a class="el" href="class_c_chain_state.html#a8961db4f2a9e23128d0d34f4206cc62b" title="Apply the effects of this block (with given index) on the UTXO set represented by coins.">ConnectBlock()</a> can fail if those validity checks fail (among other reasons). </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l01576">1576</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a8961db4f2a9e23128d0d34f4206cc62b_cgraph.svg" width="1254" height="2399"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a8961db4f2a9e23128d0d34f4206cc62b_icgraph.svg" width="2454" height="658"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3ff41dbb22a3f8ac8b3e2cceff4294b9" name="a3ff41dbb22a3f8ac8b3e2cceff4294b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ff41dbb22a3f8ac8b3e2cceff4294b9">&#9670;&nbsp;</a></span>ConnectTip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::ConnectTip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindexNew</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_connect_trace.html">ConnectTrace</a> &amp;&#160;</td>
          <td class="paramname"><em>connectTrace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_disconnected_block_transactions.html">DisconnectedBlockTransactions</a> &amp;&#160;</td>
          <td class="paramname"><em>disconnectpool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connect a new block to m_chain. </p>
<p >pblock is either nullptr or a pointer to a <a class="el" href="class_c_block.html">CBlock</a> corresponding to pindexNew, to bypass loading it again from disk.</p>
<p >The block is added to connectTrace if connection succeeds. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02266">2266</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a3ff41dbb22a3f8ac8b3e2cceff4294b9_cgraph.svg" width="1119" height="2339"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a3ff41dbb22a3f8ac8b3e2cceff4294b9_icgraph.svg" width="2127" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a84c2802e12d40109c2189bfa8a5e0e8f" name="a84c2802e12d40109c2189bfa8a5e0e8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84c2802e12d40109c2189bfa8a5e0e8f">&#9670;&nbsp;</a></span>DisconnectBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="validation_8h.html#aeaef80b01ee5387f474a63ed23c9cc50">DisconnectResult</a> CChainState::DisconnectBlock </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_block.html">CBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &amp;&#160;</td>
          <td class="paramname"><em>view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Undo the effects of this block (with given index) on the UTXO set represented by coins. </p>
<p >When FAILED is returned, view is left in an indeterminate state. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l01422">1422</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a84c2802e12d40109c2189bfa8a5e0e8f_cgraph.svg" width="1798" height="772"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a84c2802e12d40109c2189bfa8a5e0e8f_icgraph.svg" width="2431" height="307"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad6c5b7e28f8a714fd2403971005a2978" name="ad6c5b7e28f8a714fd2403971005a2978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6c5b7e28f8a714fd2403971005a2978">&#9670;&nbsp;</a></span>DisconnectTip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::DisconnectTip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_disconnected_block_transactions.html">DisconnectedBlockTransactions</a> *&#160;</td>
          <td class="paramname"><em>disconnectpool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect m_chain's tip. </p>
<p >After calling, the mempool will be in an inconsistent state, with transactions from disconnected blocks being added to disconnectpool. You should make the mempool consistent again by calling MaybeUpdateMempoolForReorg. with cs_main held.</p>
<p >If disconnectpool is nullptr, then no disconnected transactions are added to disconnectpool (note that the caller is responsible for mempool consistency in any case). </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02163">2163</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_ad6c5b7e28f8a714fd2403971005a2978_cgraph.svg" width="1231" height="2179"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_ad6c5b7e28f8a714fd2403971005a2978_icgraph.svg" width="2164" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af5b50c7b3a7604d312946431e7c91bb5" name="af5b50c7b3a7604d312946431e7c91bb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5b50c7b3a7604d312946431e7c91bb5">&#9670;&nbsp;</a></span>FindMostWorkChain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_block_index.html">CBlockIndex</a> * CChainState::FindMostWorkChain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the tip of the chain with the most work in it, that isn't known to be invalid (it's however far from certain to be valid). </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02333">2333</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_af5b50c7b3a7604d312946431e7c91bb5_cgraph.svg" width="511" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_af5b50c7b3a7604d312946431e7c91bb5_icgraph.svg" width="1906" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a82dd9fb80f77ffc64401163c04bd80ee" name="a82dd9fb80f77ffc64401163c04bd80ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82dd9fb80f77ffc64401163c04bd80ee">&#9670;&nbsp;</a></span>FlushStateToDisk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::FlushStateToDisk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="validation_8h.html#ae2877520fcc46d869b4f5e9768227e25">FlushStateMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nManualPruneHeight</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the on-disk chain state. </p>
<p >The caches and indexes are flushed depending on the mode we're called with if they're too large, if it's been a while since the last write, or always and in all cases if we're in prune mode and are deleting files.</p>
<p >If <a class="el" href="validation_8h.html#ae2877520fcc46d869b4f5e9768227e25ab50339a10e1de285ac99d4c3990b8693">FlushStateMode::NONE</a> is used, then FlushStateToDisk(...) won't do anything besides checking if we need to prune.</p>
<dl class="section return"><dt>Returns</dt><dd>true unless a system error occurred </dd></dl>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l01916">1916</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a82dd9fb80f77ffc64401163c04bd80ee_cgraph.svg" width="2087" height="1448"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a82dd9fb80f77ffc64401163c04bd80ee_icgraph.svg" width="2575" height="788"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ae779736948817631aa6fee5d5d1377a8" name="ae779736948817631aa6fee5d5d1377a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae779736948817631aa6fee5d5d1377a8">&#9670;&nbsp;</a></span>ForceFlushStateToDisk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::ForceFlushStateToDisk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unconditionally flush all changes to disk. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02053">2053</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_ae779736948817631aa6fee5d5d1377a8_cgraph.svg" width="2439" height="1355"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_ae779736948817631aa6fee5d5d1377a8_icgraph.svg" width="1751" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a640b8c80d3904a226c844be5e3670db0" name="a640b8c80d3904a226c844be5e3670db0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a640b8c80d3904a226c844be5e3670db0">&#9670;&nbsp;</a></span>GUARDED_BY()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t nBlockSequenceId CChainState::GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype">::<a class="el" href="validationinterface_8h.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Every received block is assigned a unique and increasing identifier, so we know which one to give priority in case of a fork. </p>
<p >Blocks loaded from disk are assigned id 0, so start the counter at 1. </p>

</div>
</div>
<a id="a86dfee7edcbe3da7173126879552d477" name="a86dfee7edcbe3da7173126879552d477"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86dfee7edcbe3da7173126879552d477">&#9670;&nbsp;</a></span>InitCoinsDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::InitCoinsDB </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>cache_size_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>in_memory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>should_wipe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>leveldb_name</em> = <code>&quot;chainstate&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the <a class="el" href="class_coins_views.html" title="A convenience class for constructing the CCoinsView* hierarchy used to facilitate access to the UTXO ...">CoinsViews</a> UTXO set database management data structures. </p>
<p >The in-memory cache is initialized separately.</p>
<p >All parameters forwarded to <a class="el" href="class_coins_views.html" title="A convenience class for constructing the CCoinsView* hierarchy used to facilitate access to the UTXO ...">CoinsViews</a>. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l01105">1105</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a86dfee7edcbe3da7173126879552d477_icgraph.svg" width="436" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ae8ab9222f3ad9a6aab8dba5ffa5eb530" name="ae8ab9222f3ad9a6aab8dba5ffa5eb530"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8ab9222f3ad9a6aab8dba5ffa5eb530">&#9670;&nbsp;</a></span>InvalidateBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::InvalidateBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark a block as invalid. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02657">2657</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_ae8ab9222f3ad9a6aab8dba5ffa5eb530_cgraph.svg" width="1431" height="2527"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_ae8ab9222f3ad9a6aab8dba5ffa5eb530_icgraph.svg" width="1420" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a430508179f4b0b124fc74a3f5a0c6658" name="a430508179f4b0b124fc74a3f5a0c6658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a430508179f4b0b124fc74a3f5a0c6658">&#9670;&nbsp;</a></span>InvalidBlockFound()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::InvalidBlockFound </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l01213">1213</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a430508179f4b0b124fc74a3f5a0c6658_cgraph.svg" width="1366" height="764"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a430508179f4b0b124fc74a3f5a0c6658_icgraph.svg" width="2366" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ae811ee608ad56de92b827881381ee76b" name="ae811ee608ad56de92b827881381ee76b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae811ee608ad56de92b827881381ee76b">&#9670;&nbsp;</a></span>InvalidChainFound()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::InvalidChainFound </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindexNew</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l01192">1192</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_ae811ee608ad56de92b827881381ee76b_cgraph.svg" width="1124" height="720"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_ae811ee608ad56de92b827881381ee76b_icgraph.svg" width="2632" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aaa0ff1ebd8453000020efa9055d7896e" name="aaa0ff1ebd8453000020efa9055d7896e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa0ff1ebd8453000020efa9055d7896e">&#9670;&nbsp;</a></span>IsInitialBlockDownload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::IsInitialBlockDownload </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether we are doing an initial block download (synchronizing from disk or network) </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l01131">1131</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_aaa0ff1ebd8453000020efa9055d7896e_cgraph.svg" width="603" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_aaa0ff1ebd8453000020efa9055d7896e_icgraph.svg" width="3232" height="978"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ac868df29188cdd665cb139a829382147" name="ac868df29188cdd665cb139a829382147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac868df29188cdd665cb139a829382147">&#9670;&nbsp;</a></span>LoadChainTip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::LoadChainTip </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the chain tip based on database information, i.e. </p>
<p ><a class="el" href="class_c_chain_state.html#a608cb9706dba08a3621a7bcd9212f2ce">CoinsTip()</a>'s best block. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l03740">3740</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_ac868df29188cdd665cb139a829382147_cgraph.svg" width="727" height="843"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7538c8dd8062b475f6e539ad3633d675" name="a7538c8dd8062b475f6e539ad3633d675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7538c8dd8062b475f6e539ad3633d675">&#9670;&nbsp;</a></span>LoadExternalBlockFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::LoadExternalBlockFile </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fileIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_flat_file_pos.html">FlatFilePos</a> *&#160;</td>
          <td class="paramname"><em>dbp</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resize the <a class="el" href="class_coins_views.html" title="A convenience class for constructing the CCoinsView* hierarchy used to facilitate access to the UTXO ...">CoinsViews</a> caches dynamically and flush state to disk. </p>
<dl class="section return"><dt>Returns</dt><dd>true unless an error occurred during the flush. Import blocks from an external file </dd></dl>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l04068">4068</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a7538c8dd8062b475f6e539ad3633d675_cgraph.svg" width="1232" height="2304"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a7538c8dd8062b475f6e539ad3633d675_icgraph.svg" width="731" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="addf4769b485a084b9678538256081004" name="addf4769b485a084b9678538256081004"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addf4769b485a084b9678538256081004">&#9670;&nbsp;</a></span>LoadGenesisBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::LoadGenesisBlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ensures we have a genesis block in the block tree, possibly writing one to disk. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l04043">4043</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_addf4769b485a084b9678538256081004_cgraph.svg" width="1647" height="1328"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_addf4769b485a084b9678538256081004_icgraph.svg" width="810" height="107"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aedf467e4f3dca3cffc858c40e0b663f6" name="aedf467e4f3dca3cffc858c40e0b663f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf467e4f3dca3cffc858c40e0b663f6">&#9670;&nbsp;</a></span>LoadMempool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::LoadMempool </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_args_manager.html">ArgsManager</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the persisted mempool from disk. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l03731">3731</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_aedf467e4f3dca3cffc858c40e0b663f6_cgraph.svg" width="1555" height="364"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_aedf467e4f3dca3cffc858c40e0b663f6_icgraph.svg" width="739" height="62"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a46bf757490d496bfea19a125ab01e3db" name="a46bf757490d496bfea19a125ab01e3db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46bf757490d496bfea19a125ab01e3db">&#9670;&nbsp;</a></span>MaybeUpdateMempoolForReorg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::MaybeUpdateMempoolForReorg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_disconnected_block_transactions.html">DisconnectedBlockTransactions</a> &amp;&#160;</td>
          <td class="paramname"><em>disconnectpool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fAddToMempool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Make mempool consistent after a reorg, by re-adding or recursively erasing disconnected block transactions from the mempool, and also removing any other transactions from the mempool that are no longer valid given the new tip/height. </p>
<p >Note: we assume that disconnectpool only contains transactions that are NOT confirmed in the current chain nor already in the mempool (otherwise, in-mempool descendants of such transactions would be removed).</p>
<p >Passing fAddToMempool=false will skip trying to add the transactions back, and instead just erase from the mempool as needed. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l00333">333</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a46bf757490d496bfea19a125ab01e3db_cgraph.svg" width="1524" height="1710"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a46bf757490d496bfea19a125ab01e3db_icgraph.svg" width="2163" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7ae733aafb786cb0811ddb26bf963b93" name="a7ae733aafb786cb0811ddb26bf963b93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ae733aafb786cb0811ddb26bf963b93">&#9670;&nbsp;</a></span>MempoolMutex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sync_8h.html#a5d71768bc9626b7482055d56d4e2c533">RecursiveMutex</a> * CChainState::MempoolMutex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; <a class="el" href="class_c_chain_state.html#a5e3672471055ea7006d3d9dd336964f5">cs</a>)
    </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indirection necessary to make lock annotations work with an optional mempool. </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00790">790</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a7ae733aafb786cb0811ddb26bf963b93_icgraph.svg" width="1932" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a955e4c0faa626b91bbffac7eef6b1c87" name="a955e4c0faa626b91bbffac7eef6b1c87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a955e4c0faa626b91bbffac7eef6b1c87">&#9670;&nbsp;</a></span>NeedsRedownload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::NeedsRedownload </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the chain state needs to be redownloaded due to lack of witness data. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l03976">3976</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a955e4c0faa626b91bbffac7eef6b1c87_cgraph.svg" width="767" height="198"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ada2d0841e92d6530763f443542a7aacc" name="ada2d0841e92d6530763f443542a7aacc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada2d0841e92d6530763f443542a7aacc">&#9670;&nbsp;</a></span>PreciousBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::PreciousBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark a block as precious and reorganize. </p>
<p >May not be called in a validationinterface callback. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02628">2628</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_ada2d0841e92d6530763f443542a7aacc_cgraph.svg" width="1727" height="2554"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_ada2d0841e92d6530763f443542a7aacc_icgraph.svg" width="1400" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a62c8d4028eff1c760111280f977ad0c7" name="a62c8d4028eff1c760111280f977ad0c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62c8d4028eff1c760111280f977ad0c7">&#9670;&nbsp;</a></span>PruneAndFlush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::PruneAndFlush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prune blockfiles from the disk if necessary and then flush chainstate changes if we pruned. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02061">2061</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a62c8d4028eff1c760111280f977ad0c7_cgraph.svg" width="2431" height="1355"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6c5ba911dca1f0d59781b9e63a607cd6" name="a6c5ba911dca1f0d59781b9e63a607cd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c5ba911dca1f0d59781b9e63a607cd6">&#9670;&nbsp;</a></span>PruneBlockIndexCandidates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::PruneBlockIndexCandidates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete all entries in setBlockIndexCandidates that are worse than the current tip. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02389">2389</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a6c5ba911dca1f0d59781b9e63a607cd6_cgraph.svg" width="374" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a6c5ba911dca1f0d59781b9e63a607cd6_icgraph.svg" width="2168" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ada304e4881f79489eeb1ef6f82244878" name="ada304e4881f79489eeb1ef6f82244878"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada304e4881f79489eeb1ef6f82244878">&#9670;&nbsp;</a></span>ReceivedBlockTransactions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::ReceivedBlockTransactions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_block.html">CBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindexNew</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_flat_file_pos.html">FlatFilePos</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark a block as having its data received and checked (up to BLOCK_VALID_TRANSACTIONS). </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02870">2870</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_ada304e4881f79489eeb1ef6f82244878_cgraph.svg" width="775" height="379"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_ada304e4881f79489eeb1ef6f82244878_icgraph.svg" width="2316" height="354"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1842fa0b302c076111341fd007d4f44d" name="a1842fa0b302c076111341fd007d4f44d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1842fa0b302c076111341fd007d4f44d">&#9670;&nbsp;</a></span>ReplayBlocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::ReplayBlocks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replay blocks that aren't fully applied to the database. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l03909">3909</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a1842fa0b302c076111341fd007d4f44d_cgraph.svg" width="1730" height="1304"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6e35ac867678ce71b05ff271c44bde29" name="a6e35ac867678ce71b05ff271c44bde29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e35ac867678ce71b05ff271c44bde29">&#9670;&nbsp;</a></span>ResetBlockFailureFlags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::ResetBlockFailureFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove invalidity status from a block and its descendants. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02799">2799</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a6e35ac867678ce71b05ff271c44bde29_cgraph.svg" width="408" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a6e35ac867678ce71b05ff271c44bde29_icgraph.svg" width="1439" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aae750e9ba6687d31628f1285511f0183" name="aae750e9ba6687d31628f1285511f0183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae750e9ba6687d31628f1285511f0183">&#9670;&nbsp;</a></span>ResetCoinsViews()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::ResetCoinsViews </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructs all objects related to accessing the UTXO set. </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00658">658</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="a727ca3e9dae24903c8f5ea378e0eab54" name="a727ca3e9dae24903c8f5ea378e0eab54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a727ca3e9dae24903c8f5ea378e0eab54">&#9670;&nbsp;</a></span>RollforwardBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::RollforwardBlock </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply the effects of a block on the utxo cache, ignoring that it may already have been applied. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l03889">3889</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a727ca3e9dae24903c8f5ea378e0eab54_cgraph.svg" width="1646" height="1152"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_c_chain_state_a727ca3e9dae24903c8f5ea378e0eab54_icgraph.svg" width="443" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="acf60bbab0908017735c1ee8a30f9d049" name="acf60bbab0908017735c1ee8a30f9d049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf60bbab0908017735c1ee8a30f9d049">&#9670;&nbsp;</a></span>ChainstateManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UpdateTip (const <a class="el" href="class_c_block_index.html">CBlockIndex</a>* pindexNew) <a class="el" href="threadsafety_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>( frien CChainState::ChainstateManager) </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check warning conditions and do some notifications on new chain tip set. </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00816">816</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="a5e3672471055ea7006d3d9dd336964f5" name="a5e3672471055ea7006d3d9dd336964f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e3672471055ea7006d3d9dd336964f5">&#9670;&nbsp;</a></span>cs <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_c_chain_state.html#a47c9e9b7199852d47785e72343224a00">m_mempool</a> CChainState::cs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00724">724</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="a0a41cb85b2250662e766ccb2a550e0a8" name="a0a41cb85b2250662e766ccb2a550e0a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a41cb85b2250662e766ccb2a550e0a8">&#9670;&nbsp;</a></span>cs <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_chain_state.html#a47c9e9b7199852d47785e72343224a00">m_mempool</a> CChainState::cs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00810">810</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="acda2e6cf72ee2986e8cbed31045bac73" name="acda2e6cf72ee2986e8cbed31045bac73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acda2e6cf72ee2986e8cbed31045bac73">&#9670;&nbsp;</a></span>m_blockman</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_block_manager.html">BlockManager</a>&amp; CChainState::m_blockman</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reference to a <a class="el" href="class_block_manager.html" title="Maintains a tree of blocks (stored in m_block_index) which is consulted to determine where the most-w...">BlockManager</a> instance which itself is shared across all <a class="el" href="class_c_chain_state.html" title="CChainState stores and provides an API to update our local knowledge of the current best chain.">CChainState</a> instances. </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00583">583</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="a0e3b18d6c0a7e3f1a5fbf752c3a8c09a" name="a0e3b18d6c0a7e3f1a5fbf752c3a8c09a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e3b18d6c0a7e3f1a5fbf752c3a8c09a">&#9670;&nbsp;</a></span>m_cached_finished_ibd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; CChainState::m_cached_finished_ibd {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether this chainstate is undergoing initial block download. </p>
<p >Mutable because we need to be able to mark <a class="el" href="class_c_chain_state.html#aaa0ff1ebd8453000020efa9055d7896e" title="Check whether we are doing an initial block download (synchronizing from disk or network)">IsInitialBlockDownload()</a> const, which latches this for caching purposes. </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00569">569</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="ad460a678a49106417e68b5c416afd371" name="ad460a678a49106417e68b5c416afd371"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad460a678a49106417e68b5c416afd371">&#9670;&nbsp;</a></span>m_chain</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_chain.html">CChain</a> CChainState::m_chain</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The current chain of blockheaders we consult and build on. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_c_chain.html" title="An in-memory indexed chain of blocks.">CChain</a>, <a class="el" href="class_c_block_index.html" title="The block chain is a tree shaped structure starting with the genesis block at the root,...">CBlockIndex</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00620">620</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="a2adea87033ab8b772634e327a08a04be" name="a2adea87033ab8b772634e327a08a04be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2adea87033ab8b772634e327a08a04be">&#9670;&nbsp;</a></span>m_chainman</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_chainstate_manager.html">ChainstateManager</a>&amp; CChainState::m_chainman</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The chainstate manager that owns this chainstate. </p>
<p >The reference is necessary so that this instance can check whether it is the active chainstate within deeply nested method calls. </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00588">588</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="a9bf2ddd20f7d91aba30778e673dba140" name="a9bf2ddd20f7d91aba30778e673dba140"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bf2ddd20f7d91aba30778e673dba140">&#9670;&nbsp;</a></span>m_coins_views</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="class_coins_views.html">CoinsViews</a>&gt; CChainState::m_coins_views</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Manages the UTXO set, which is a reflection of the contents of <code>m_chain</code>. </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00578">578</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="a77932558de22dd680e5ee0ec384ef475" name="a77932558de22dd680e5ee0ec384ef475"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77932558de22dd680e5ee0ec384ef475">&#9670;&nbsp;</a></span>m_coinsdb_cache_size_bytes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t CChainState::m_coinsdb_cache_size_bytes {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The cache size of the on-disk coins view. </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00661">661</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="ae31ab60b66cb85090849d6994e7590c4" name="ae31ab60b66cb85090849d6994e7590c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae31ab60b66cb85090849d6994e7590c4">&#9670;&nbsp;</a></span>m_coinstip_cache_size_bytes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t CChainState::m_coinstip_cache_size_bytes {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The cache size of the in-memory coins view. </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00664">664</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="a4bdef2bf8c91dce46b8ec73be7c6de9f" name="a4bdef2bf8c91dce46b8ec73be7c6de9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bdef2bf8c91dce46b8ec73be7c6de9f">&#9670;&nbsp;</a></span>m_cs_chainstate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sync_8h.html#a5d71768bc9626b7482055d56d4e2c533">RecursiveMutex</a> CChainState::m_cs_chainstate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the ChainState CriticalSection A lock that must be held when modifying this ChainState - held in <a class="el" href="class_c_chain_state.html#a1d10196aeadf2e5c76b94123635b7c7b" title="Find the best known block, and make it the tip of the block chain.">ActivateBestChain()</a> </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00561">561</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="a6b7b07668590cd95763977f33777bb74" name="a6b7b07668590cd95763977f33777bb74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b7b07668590cd95763977f33777bb74">&#9670;&nbsp;</a></span>m_from_snapshot_blockhash</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::optional&lt;<a class="el" href="classuint256.html">uint256</a>&gt; CChainState::m_from_snapshot_blockhash</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The blockhash which is the base of the snapshot this chainstate was created from. </p>
<p >std::nullopt if this chainstate was not created from a snapshot. </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00627">627</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="a47c9e9b7199852d47785e72343224a00" name="a47c9e9b7199852d47785e72343224a00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47c9e9b7199852d47785e72343224a00">&#9670;&nbsp;</a></span>m_mempool</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_tx_mem_pool.html">CTxMemPool</a>* CChainState::m_mempool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Optional mempool that is kept in sync with the chain. </p>
<p >Only the active chainstate has a mempool. </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00573">573</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="a120dedadd6db4a9bc2106b4fa75f0527" name="a120dedadd6db4a9bc2106b4fa75f0527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a120dedadd6db4a9bc2106b4fa75f0527">&#9670;&nbsp;</a></span>m_params</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_c_chain_params.html">CChainParams</a>&amp; CChainState::m_params</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00575">575</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="aaf4846ebb330ea7ad36adb058ba2b859" name="aaf4846ebb330ea7ad36adb058ba2b859"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf4846ebb330ea7ad36adb058ba2b859">&#9670;&nbsp;</a></span>nBlockReverseSequenceId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t CChainState::nBlockReverseSequenceId = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decreasing counter (used by subsequent preciousblock calls). </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00553">553</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="a11b2d82dd158e9e50136417c0e672947" name="a11b2d82dd158e9e50136417c0e672947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11b2d82dd158e9e50136417c0e672947">&#9670;&nbsp;</a></span>nLastPreciousChainwork</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classarith__uint256.html">arith_uint256</a> CChainState::nLastPreciousChainwork = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>chainwork for the last block that preciousblock has been applied to. </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00555">555</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<a id="a528c14be4a2a7c6837a2d099b2ad7ef7" name="a528c14be4a2a7c6837a2d099b2ad7ef7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a528c14be4a2a7c6837a2d099b2ad7ef7">&#9670;&nbsp;</a></span>setBlockIndexCandidates</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="class_c_block_index.html">CBlockIndex</a>*, <a class="el" href="struct_c_block_index_work_comparator.html">CBlockIndexWorkComparator</a>&gt; CChainState::setBlockIndexCandidates</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The set of all <a class="el" href="class_c_block_index.html" title="The block chain is a tree shaped structure starting with the genesis block at the root,...">CBlockIndex</a> entries with either BLOCK_VALID_TRANSACTIONS (for itself and all ancestors) <em>or</em> BLOCK_ASSUMED_VALID (if using background chainstates) and as good as our current tip or better. </p>
<p >Entries may be failed, though, and pruning nodes may be missing the data for the block. </p>

<p class="definition">Definition at line <a class="el" href="validation_8h_source.html#l00635">635</a> of file <a class="el" href="validation_8h_source.html">validation.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="validation_8h_source.html">validation.h</a></li>
<li>src/<a class="el" href="validation_8cpp_source.html">validation.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Nov 8 2021 14:20:11 for Bitcoin Core by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
