<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bitcoin Core: src/protocol.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bitcoin_logo_doxygen.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bitcoin Core<span id="projectnumber">&#160;22.99.0</span>
   </div>
   <div id="projectbrief">P2P Digital Currency</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">protocol.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="netaddress_8h_source.html">netaddress.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="primitives_2transaction_8h_source.html">primitives/transaction.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="serialize_8h_source.html">serialize.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="streams_8h_source.html">streams.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="uint256_8h_source.html">uint256.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="version_8h_source.html">version.h</a>&gt;</code><br />
<code>#include &lt;limits&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for protocol.h:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="protocol_8h__incl.svg" width="4136" height="500"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="protocol_8h__dep__incl.svg" width="7212" height="276"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="protocol_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_message_header.html">CMessageHeader</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message header.  <a href="class_c_message_header.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_address.html">CAddress</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A <a class="el" href="class_c_service.html" title="A combination of a network address (CNetAddr) and a (TCP) port.">CService</a> with information about it as peer.  <a href="class_c_address.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_inv.html">CInv</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">inv message data  <a href="class_c_inv.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespace_net_msg_type"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_net_msg_type.html">NetMsgType</a></td></tr>
<tr class="memdesc:namespace_net_msg_type"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bitcoin protocol message types. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ad131f3177584caea787cdbf6f85a9537"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a> : uint64_t { <br />
&#160;&#160;<a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537a51f819cd0b9ac374d6950a29b4861398">NODE_NONE</a> = 0
, <a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537a9d1154f0e7e56f183a5c8373abe2e86c">NODE_NETWORK</a> = (1 &lt;&lt; 0)
, <a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537a9ca74e44e29a412c070750bdbf2380bb">NODE_BLOOM</a> = (1 &lt;&lt; 2)
, <a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537a749f25f8cdb0125f7a479627b4944696">NODE_WITNESS</a> = (1 &lt;&lt; 3)
, <br />
&#160;&#160;<a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537ad279240d0624d58813461a7790873e46">NODE_COMPACT_FILTERS</a> = (1 &lt;&lt; 6)
, <a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537a8294ff7e8ff77692c2fb330df0a3c372">NODE_NETWORK_LIMITED</a> = (1 &lt;&lt; 10)
<br />
 }</td></tr>
<tr class="memdesc:ad131f3177584caea787cdbf6f85a9537"><td class="mdescLeft">&#160;</td><td class="mdescRight">nServices flags  <a href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">More...</a><br /></td></tr>
<tr class="separator:ad131f3177584caea787cdbf6f85a9537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1162efdf35b533ba996ac9d1c96fc05"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#ac1162efdf35b533ba996ac9d1c96fc05">GetDataMsg</a> : uint32_t { <br />
&#160;&#160;<a class="el" href="protocol_8h.html#ac1162efdf35b533ba996ac9d1c96fc05a605159e8a4c32319fd69b5d151369d93">UNDEFINED</a> = 0
, <a class="el" href="protocol_8h.html#ac1162efdf35b533ba996ac9d1c96fc05a0494732fc92c975f58783e224585c473">MSG_TX</a> = 1
, <a class="el" href="protocol_8h.html#ac1162efdf35b533ba996ac9d1c96fc05a4cae15fd207d555331995cd5c57689c1">MSG_BLOCK</a> = 2
, <a class="el" href="protocol_8h.html#ac1162efdf35b533ba996ac9d1c96fc05a1ff1717282df3ccaaa1bec2bf94dcd51">MSG_WTX</a> = 5
, <br />
&#160;&#160;<a class="el" href="protocol_8h.html#ac1162efdf35b533ba996ac9d1c96fc05a11f393e43f75b471170b96ce59a07d33">MSG_FILTERED_BLOCK</a> = 3
, <a class="el" href="protocol_8h.html#ac1162efdf35b533ba996ac9d1c96fc05a78b9ead22ca5cae07b98370ffab06abc">MSG_CMPCT_BLOCK</a> = 4
, <a class="el" href="protocol_8h.html#ac1162efdf35b533ba996ac9d1c96fc05a818c40ec63ca86496df4bbf110fd7891">MSG_WITNESS_BLOCK</a> = MSG_BLOCK | MSG_WITNESS_FLAG
, <a class="el" href="protocol_8h.html#ac1162efdf35b533ba996ac9d1c96fc05af1be4c88bb7a6a014000e49631c3555c">MSG_WITNESS_TX</a> = MSG_TX | MSG_WITNESS_FLAG
<br />
 }</td></tr>
<tr class="memdesc:ac1162efdf35b533ba996ac9d1c96fc05"><td class="mdescLeft">&#160;</td><td class="mdescRight">getdata / inv message types.  <a href="protocol_8h.html#ac1162efdf35b533ba996ac9d1c96fc05">More...</a><br /></td></tr>
<tr class="separator:ac1162efdf35b533ba996ac9d1c96fc05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0c01c7e36a89c678f6dacd287d1dfb7a"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; std::string &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#a0c01c7e36a89c678f6dacd287d1dfb7a">getAllNetMessageTypes</a> ()</td></tr>
<tr class="separator:a0c01c7e36a89c678f6dacd287d1dfb7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e821db595250233ecdc8827991d066e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#a3e821db595250233ecdc8827991d066e">serviceFlagsToStr</a> (uint64_t <a class="el" href="bitcoin-tx_8cpp.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a>)</td></tr>
<tr class="memdesc:a3e821db595250233ecdc8827991d066e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert service flags (a bitmask of NODE_*) to human readable strings.  <a href="protocol_8h.html#a3e821db595250233ecdc8827991d066e">More...</a><br /></td></tr>
<tr class="separator:a3e821db595250233ecdc8827991d066e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a92bd3e5b80138a55fafae4c4770ecd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#a4a92bd3e5b80138a55fafae4c4770ecd">GetDesirableServiceFlags</a> (<a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a> services)</td></tr>
<tr class="memdesc:a4a92bd3e5b80138a55fafae4c4770ecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the set of service flags which are "desirable" for a given peer.  <a href="protocol_8h.html#a4a92bd3e5b80138a55fafae4c4770ecd">More...</a><br /></td></tr>
<tr class="separator:a4a92bd3e5b80138a55fafae4c4770ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a883fbba84c3e7621f102514ceeb9f0bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#a883fbba84c3e7621f102514ceeb9f0bc">SetServiceFlagsIBDCache</a> (bool status)</td></tr>
<tr class="memdesc:a883fbba84c3e7621f102514ceeb9f0bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the current IBD status in order to figure out the desirable service flags.  <a href="protocol_8h.html#a883fbba84c3e7621f102514ceeb9f0bc">More...</a><br /></td></tr>
<tr class="separator:a883fbba84c3e7621f102514ceeb9f0bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a704107b66bfb835ad593b1045e663e8f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#a704107b66bfb835ad593b1045e663e8f">HasAllDesirableServiceFlags</a> (<a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a> services)</td></tr>
<tr class="memdesc:a704107b66bfb835ad593b1045e663e8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A shortcut for (services &amp; GetDesirableServiceFlags(services)) == GetDesirableServiceFlags(services), ie determines whether the given set of service flags are sufficient for a peer to be "relevant".  <a href="protocol_8h.html#a704107b66bfb835ad593b1045e663e8f">More...</a><br /></td></tr>
<tr class="separator:a704107b66bfb835ad593b1045e663e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefab12794628ce5447d5edb26c05f4f5"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#aefab12794628ce5447d5edb26c05f4f5">MayHaveUsefulAddressDB</a> (<a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a> services)</td></tr>
<tr class="memdesc:aefab12794628ce5447d5edb26c05f4f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a peer with the given service flags may be capable of having a robust address-storage DB.  <a href="protocol_8h.html#aefab12794628ce5447d5edb26c05f4f5">More...</a><br /></td></tr>
<tr class="separator:aefab12794628ce5447d5edb26c05f4f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3466d64f79e3865dc16910ed3d1ba3d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_gen_txid.html">GenTxid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#a3466d64f79e3865dc16910ed3d1ba3d8">ToGenTxid</a> (const <a class="el" href="class_c_inv.html">CInv</a> &amp;inv)</td></tr>
<tr class="memdesc:a3466d64f79e3865dc16910ed3d1ba3d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a TX/WITNESS_TX/WTX <a class="el" href="class_c_inv.html" title="inv message data">CInv</a> to a <a class="el" href="class_gen_txid.html" title="A generic txid reference (txid or wtxid).">GenTxid</a>.  <a href="protocol_8h.html#a3466d64f79e3865dc16910ed3d1ba3d8">More...</a><br /></td></tr>
<tr class="separator:a3466d64f79e3865dc16910ed3d1ba3d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a706dc5bf653ca632edd8d08fa81c1073"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#a706dc5bf653ca632edd8d08fa81c1073">MSG_WITNESS_FLAG</a> = 1 &lt;&lt; 30</td></tr>
<tr class="memdesc:a706dc5bf653ca632edd8d08fa81c1073"><td class="mdescLeft">&#160;</td><td class="mdescRight">getdata message type flags  <a href="protocol_8h.html#a706dc5bf653ca632edd8d08fa81c1073">More...</a><br /></td></tr>
<tr class="separator:a706dc5bf653ca632edd8d08fa81c1073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a954a3d925849c04ec257eccefafd8b55"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#a954a3d925849c04ec257eccefafd8b55">MSG_TYPE_MASK</a> = 0xffffffff &gt;&gt; 2</td></tr>
<tr class="separator:a954a3d925849c04ec257eccefafd8b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ac1162efdf35b533ba996ac9d1c96fc05" name="ac1162efdf35b533ba996ac9d1c96fc05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1162efdf35b533ba996ac9d1c96fc05">&#9670;&nbsp;</a></span>GetDataMsg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="protocol_8h.html#ac1162efdf35b533ba996ac9d1c96fc05">GetDataMsg</a> : uint32_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getdata / inv message types. </p>
<p >These numbers are defined by the protocol. When adding a new value, be sure to mention it in the respective BIP. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac1162efdf35b533ba996ac9d1c96fc05a605159e8a4c32319fd69b5d151369d93" name="ac1162efdf35b533ba996ac9d1c96fc05a605159e8a4c32319fd69b5d151369d93"></a>UNDEFINED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac1162efdf35b533ba996ac9d1c96fc05a0494732fc92c975f58783e224585c473" name="ac1162efdf35b533ba996ac9d1c96fc05a0494732fc92c975f58783e224585c473"></a>MSG_TX&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac1162efdf35b533ba996ac9d1c96fc05a4cae15fd207d555331995cd5c57689c1" name="ac1162efdf35b533ba996ac9d1c96fc05a4cae15fd207d555331995cd5c57689c1"></a>MSG_BLOCK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac1162efdf35b533ba996ac9d1c96fc05a1ff1717282df3ccaaa1bec2bf94dcd51" name="ac1162efdf35b533ba996ac9d1c96fc05a1ff1717282df3ccaaa1bec2bf94dcd51"></a>MSG_WTX&#160;</td><td class="fielddoc"><p >Defined in BIP 339. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac1162efdf35b533ba996ac9d1c96fc05a11f393e43f75b471170b96ce59a07d33" name="ac1162efdf35b533ba996ac9d1c96fc05a11f393e43f75b471170b96ce59a07d33"></a>MSG_FILTERED_BLOCK&#160;</td><td class="fielddoc"><p >Defined in BIP37. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac1162efdf35b533ba996ac9d1c96fc05a78b9ead22ca5cae07b98370ffab06abc" name="ac1162efdf35b533ba996ac9d1c96fc05a78b9ead22ca5cae07b98370ffab06abc"></a>MSG_CMPCT_BLOCK&#160;</td><td class="fielddoc"><p >Defined in BIP152. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac1162efdf35b533ba996ac9d1c96fc05a818c40ec63ca86496df4bbf110fd7891" name="ac1162efdf35b533ba996ac9d1c96fc05a818c40ec63ca86496df4bbf110fd7891"></a>MSG_WITNESS_BLOCK&#160;</td><td class="fielddoc"><p >Defined in BIP144. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac1162efdf35b533ba996ac9d1c96fc05af1be4c88bb7a6a014000e49631c3555c" name="ac1162efdf35b533ba996ac9d1c96fc05af1be4c88bb7a6a014000e49631c3555c"></a>MSG_WITNESS_TX&#160;</td><td class="fielddoc"><p >Defined in BIP144. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="protocol_8h_source.html#l00460">460</a> of file <a class="el" href="protocol_8h_source.html">protocol.h</a>.</p>

</div>
</div>
<a id="ad131f3177584caea787cdbf6f85a9537" name="ad131f3177584caea787cdbf6f85a9537"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad131f3177584caea787cdbf6f85a9537">&#9670;&nbsp;</a></span>ServiceFlags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a> : uint64_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>nServices flags </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ad131f3177584caea787cdbf6f85a9537a51f819cd0b9ac374d6950a29b4861398" name="ad131f3177584caea787cdbf6f85a9537a51f819cd0b9ac374d6950a29b4861398"></a>NODE_NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad131f3177584caea787cdbf6f85a9537a9d1154f0e7e56f183a5c8373abe2e86c" name="ad131f3177584caea787cdbf6f85a9537a9d1154f0e7e56f183a5c8373abe2e86c"></a>NODE_NETWORK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad131f3177584caea787cdbf6f85a9537a9ca74e44e29a412c070750bdbf2380bb" name="ad131f3177584caea787cdbf6f85a9537a9ca74e44e29a412c070750bdbf2380bb"></a>NODE_BLOOM&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad131f3177584caea787cdbf6f85a9537a749f25f8cdb0125f7a479627b4944696" name="ad131f3177584caea787cdbf6f85a9537a749f25f8cdb0125f7a479627b4944696"></a>NODE_WITNESS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad131f3177584caea787cdbf6f85a9537ad279240d0624d58813461a7790873e46" name="ad131f3177584caea787cdbf6f85a9537ad279240d0624d58813461a7790873e46"></a>NODE_COMPACT_FILTERS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad131f3177584caea787cdbf6f85a9537a8294ff7e8ff77692c2fb330df0a3c372" name="ad131f3177584caea787cdbf6f85a9537a8294ff7e8ff77692c2fb330df0a3c372"></a>NODE_NETWORK_LIMITED&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="protocol_8h_source.html#l00271">271</a> of file <a class="el" href="protocol_8h_source.html">protocol.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0c01c7e36a89c678f6dacd287d1dfb7a" name="a0c01c7e36a89c678f6dacd287d1dfb7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c01c7e36a89c678f6dacd287d1dfb7a">&#9670;&nbsp;</a></span>getAllNetMessageTypes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; std::string &gt; &amp; getAllNetMessageTypes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol_8cpp_source.html#l00179">179</a> of file <a class="el" href="protocol_8cpp_source.html">protocol.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="protocol_8h_a0c01c7e36a89c678f6dacd287d1dfb7a_cgraph.svg" width="416" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="protocol_8h_a0c01c7e36a89c678f6dacd287d1dfb7a_icgraph.svg" width="372" height="104"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a4a92bd3e5b80138a55fafae4c4770ecd" name="a4a92bd3e5b80138a55fafae4c4770ecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a92bd3e5b80138a55fafae4c4770ecd">&#9670;&nbsp;</a></span>GetDesirableServiceFlags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a> GetDesirableServiceFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a>&#160;</td>
          <td class="paramname"><em>services</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the set of service flags which are "desirable" for a given peer. </p>
<p >These are the flags which are required for a peer to support for them to be "interesting" to us, ie for us to wish to use one of our few outbound connection slots for or for us to wish to prioritize keeping their connection around.</p>
<p >Relevant service flags may be peer- and state-specific in that the version of the peer may determine which flags are required (eg in the case of NODE_NETWORK_LIMITED where we seek out NODE_NETWORK peers unless they set NODE_NETWORK_LIMITED and we are out of IBD, in which case NODE_NETWORK_LIMITED suffices).</p>
<p >Thus, generally, avoid calling with peerServices == NODE_NONE, unless state-specific flags must absolutely be avoided. When called with peerServices == NODE_NONE, the returned desirable service flags are guaranteed to not change dependent on state - ie they are suitable for use when describing peers which we know to be desirable, but for which we do not have a confirmed set of service flags.</p>
<p >If the NODE_NONE return value is changed, contrib/seeds/makeseeds.py should be updated appropriately to filter for the same nodes. </p>

<p class="definition">Definition at line <a class="el" href="protocol_8cpp_source.html#l00127">127</a> of file <a class="el" href="protocol_8cpp_source.html">protocol.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="protocol_8h_a4a92bd3e5b80138a55fafae4c4770ecd_cgraph.svg" width="436" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="protocol_8h_a4a92bd3e5b80138a55fafae4c4770ecd_icgraph.svg" width="2066" height="206"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a704107b66bfb835ad593b1045e663e8f" name="a704107b66bfb835ad593b1045e663e8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a704107b66bfb835ad593b1045e663e8f">&#9670;&nbsp;</a></span>HasAllDesirableServiceFlags()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool HasAllDesirableServiceFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a>&#160;</td>
          <td class="paramname"><em>services</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A shortcut for (services &amp; GetDesirableServiceFlags(services)) == GetDesirableServiceFlags(services), ie determines whether the given set of service flags are sufficient for a peer to be "relevant". </p>

<p class="definition">Definition at line <a class="el" href="protocol_8h_source.html#l00343">343</a> of file <a class="el" href="protocol_8h_source.html">protocol.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="protocol_8h_a704107b66bfb835ad593b1045e663e8f_cgraph.svg" width="694" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="protocol_8h_a704107b66bfb835ad593b1045e663e8f_icgraph.svg" width="1779" height="176"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aefab12794628ce5447d5edb26c05f4f5" name="aefab12794628ce5447d5edb26c05f4f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefab12794628ce5447d5edb26c05f4f5">&#9670;&nbsp;</a></span>MayHaveUsefulAddressDB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool MayHaveUsefulAddressDB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a>&#160;</td>
          <td class="paramname"><em>services</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a peer with the given service flags may be capable of having a robust address-storage DB. </p>

<p class="definition">Definition at line <a class="el" href="protocol_8h_source.html#l00352">352</a> of file <a class="el" href="protocol_8h_source.html">protocol.h</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="protocol_8h_aefab12794628ce5447d5edb26c05f4f5_icgraph.svg" width="516" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3e821db595250233ecdc8827991d066e" name="a3e821db595250233ecdc8827991d066e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e821db595250233ecdc8827991d066e">&#9670;&nbsp;</a></span>serviceFlagsToStr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; serviceFlagsToStr </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert service flags (a bitmask of NODE_*) to human readable strings. </p>
<p >It supports unknown service flags which will be returned as "UNKNOWN[...]". </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>multiple NODE_* bitwise-OR-ed together </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="protocol_8cpp_source.html#l00210">210</a> of file <a class="el" href="protocol_8cpp_source.html">protocol.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="protocol_8h_a3e821db595250233ecdc8827991d066e_cgraph.svg" width="324" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="protocol_8h_a3e821db595250233ecdc8827991d066e_icgraph.svg" width="2775" height="223"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a883fbba84c3e7621f102514ceeb9f0bc" name="a883fbba84c3e7621f102514ceeb9f0bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a883fbba84c3e7621f102514ceeb9f0bc">&#9670;&nbsp;</a></span>SetServiceFlagsIBDCache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetServiceFlagsIBDCache </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the current IBD status in order to figure out the desirable service flags. </p>

<p class="definition">Definition at line <a class="el" href="protocol_8cpp_source.html#l00134">134</a> of file <a class="el" href="protocol_8cpp_source.html">protocol.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="protocol_8h_a883fbba84c3e7621f102514ceeb9f0bc_cgraph.svg" width="435" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3466d64f79e3865dc16910ed3d1ba3d8" name="a3466d64f79e3865dc16910ed3d1ba3d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3466d64f79e3865dc16910ed3d1ba3d8">&#9670;&nbsp;</a></span>ToGenTxid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gen_txid.html">GenTxid</a> ToGenTxid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_inv.html">CInv</a> &amp;&#160;</td>
          <td class="paramname"><em>inv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a TX/WITNESS_TX/WTX <a class="el" href="class_c_inv.html" title="inv message data">CInv</a> to a <a class="el" href="class_gen_txid.html" title="A generic txid reference (txid or wtxid).">GenTxid</a>. </p>

<p class="definition">Definition at line <a class="el" href="protocol_8cpp_source.html#l00223">223</a> of file <a class="el" href="protocol_8cpp_source.html">protocol.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="protocol_8h_a3466d64f79e3865dc16910ed3d1ba3d8_cgraph.svg" width="288" height="240"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="protocol_8h_a3466d64f79e3865dc16910ed3d1ba3d8_icgraph.svg" width="547" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a954a3d925849c04ec257eccefafd8b55" name="a954a3d925849c04ec257eccefafd8b55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a954a3d925849c04ec257eccefafd8b55">&#9670;&nbsp;</a></span>MSG_TYPE_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t MSG_TYPE_MASK = 0xffffffff &gt;&gt; 2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol_8h_source.html#l00454">454</a> of file <a class="el" href="protocol_8h_source.html">protocol.h</a>.</p>

</div>
</div>
<a id="a706dc5bf653ca632edd8d08fa81c1073" name="a706dc5bf653ca632edd8d08fa81c1073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a706dc5bf653ca632edd8d08fa81c1073">&#9670;&nbsp;</a></span>MSG_WITNESS_FLAG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t MSG_WITNESS_FLAG = 1 &lt;&lt; 30</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getdata message type flags </p>

<p class="definition">Definition at line <a class="el" href="protocol_8h_source.html#l00453">453</a> of file <a class="el" href="protocol_8h_source.html">protocol.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Nov 8 2021 14:20:09 for Bitcoin Core by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
